{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/client/components/redirect-status-code.ts","turbopack:///[project]/node_modules/next/src/client/components/redirect-error.ts","turbopack:///[project]/node_modules/next/src/client/components/redirect.ts","turbopack:///[project]/node_modules/next/src/client/components/http-access-fallback/http-access-fallback.ts","turbopack:///[project]/node_modules/next/src/client/components/not-found.ts","turbopack:///[project]/node_modules/next/src/client/components/forbidden.ts","turbopack:///[project]/node_modules/next/src/client/components/unauthorized.ts","turbopack:///[project]/node_modules/next/src/server/lib/router-utils/is-postpone.ts","turbopack:///[project]/node_modules/next/src/client/components/is-next-router-error.ts","turbopack:///[project]/node_modules/next/src/client/components/unstable-rethrow.server.ts","turbopack:///[project]/node_modules/next/src/client/components/unstable-rethrow.ts","turbopack:///[project]/node_modules/next/src/client/components/navigation.react-server.ts","turbopack:///[project]/node_modules/next/dist/api/navigation.react-server.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/jwt/validation.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getAccessToken.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getIdToken.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/removeUndefined.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/authMiddleware/authMiddleware.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/copyCookiesToRequest.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/isPublicPathMatch.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getFlag.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/generateOrganizationObject.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/generateUserObject.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getAccessTokenRaw.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getIdTokenRaw.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/getAccessToken.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getStringFlag.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getEntitlements.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/cookies/getStandardCookieOptions.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/cookies/getSplitSerializedCookies.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getBooleanFlag.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getIntegerFlag.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getPermissions.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/getIdToken.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getRoles.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getClaim.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getPermission.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/redirectOnExpiredToken.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getUserOrganizations.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getOrganization.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/getUser.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/isAuthenticated.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/session/index.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/components/RegisterLink.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/components/LoginLink.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/components/LogoutLink.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/components/CreateOrgLink.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/server.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/api-client.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/auth.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/callback.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/getHeaders.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/validateState.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/isPreFetch.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/createOrg.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/login.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/logout.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/setup.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/workQueue.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/health.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/portal.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/utils/isValidEnumValue.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/register.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/routerClients/AppRouterClient.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/routerClients/RouterClient.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/routerClients/PagesRouterClient.es.js","turbopack:///[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/handlers/protect.es.js"],"sourcesContent":["export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n","import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n","import { RedirectStatusCode } from './redirect-status-code'\nimport {\n  RedirectType,\n  type RedirectError,\n  isRedirectError,\n  REDIRECT_ERROR_CODE,\n} from './redirect-error'\n\nconst actionAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/action-async-storage.external') as typeof import('../../server/app-render/action-async-storage.external')\n      ).actionAsyncStorage\n    : undefined\n\nexport function getRedirectError(\n  url: string,\n  type: RedirectType,\n  statusCode: RedirectStatusCode = RedirectStatusCode.TemporaryRedirect\n): RedirectError {\n  const error = new Error(REDIRECT_ERROR_CODE) as RedirectError\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`\n  return error\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function redirect(\n  /** The URL to redirect to */\n  url: string,\n  type?: RedirectType\n): never {\n  type ??= actionAsyncStorage?.getStore()?.isAction\n    ? RedirectType.push\n    : RedirectType.replace\n\n  throw getRedirectError(url, type, RedirectStatusCode.TemporaryRedirect)\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function permanentRedirect(\n  /** The URL to redirect to */\n  url: string,\n  type: RedirectType = RedirectType.replace\n): never {\n  throw getRedirectError(url, type, RedirectStatusCode.PermanentRedirect)\n}\n\n/**\n * Returns the encoded URL from the error if it's a RedirectError, null\n * otherwise. Note that this does not validate the URL returned.\n *\n * @param error the error that may be a redirect error\n * @return the url if the error was a redirect error\n */\nexport function getURLFromRedirectError(error: RedirectError): string\nexport function getURLFromRedirectError(error: unknown): string | null {\n  if (!isRedirectError(error)) return null\n\n  // Slices off the beginning of the digest that contains the code and the\n  // separating ';'.\n  return error.digest.split(';').slice(2, -2).join(';')\n}\n\nexport function getRedirectTypeFromError(error: RedirectError): RedirectType {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return error.digest.split(';', 2)[1] as RedirectType\n}\n\nexport function getRedirectStatusCodeFromError(error: RedirectError): number {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return Number(error.digest.split(';').at(-2))\n}\n","export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};404`\n\nexport function notFound(): never {\n  // eslint-disable-next-line no-throw-literal\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n\n  throw error\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};403`\n\nexport function forbidden(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`forbidden()\\` is experimental and only allowed to be enabled when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  // eslint-disable-next-line no-throw-literal\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};401`\n\nexport function unauthorized(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`unauthorized()\\` is experimental and only allowed to be used when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  // eslint-disable-next-line no-throw-literal\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n","const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone')\n\nexport function isPostpone(error: any): boolean {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    error.$$typeof === REACT_POSTPONE_TYPE\n  )\n}\n","import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n","import { isHangingPromiseRejectionError } from '../../server/dynamic-rendering-utils'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isNextRouterError } from './is-next-router-error'\nimport { isDynamicPostpone } from '../../server/app-render/dynamic-rendering'\nimport { isDynamicServerError } from './hooks-server-context'\n\nexport function unstable_rethrow(error: unknown): void {\n  if (\n    isNextRouterError(error) ||\n    isBailoutToCSRError(error) ||\n    isDynamicServerError(error) ||\n    isDynamicPostpone(error) ||\n    isPostpone(error) ||\n    isHangingPromiseRejectionError(error)\n  ) {\n    throw error\n  }\n\n  if (error instanceof Error && 'cause' in error) {\n    unstable_rethrow(error.cause)\n  }\n}\n","/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */\nexport const unstable_rethrow =\n  typeof window === 'undefined'\n    ? (\n        require('./unstable-rethrow.server') as typeof import('./unstable-rethrow.server')\n      ).unstable_rethrow\n    : (\n        require('./unstable-rethrow.browser') as typeof import('./unstable-rethrow.browser')\n      ).unstable_rethrow\n","/** @internal */\nclass ReadonlyURLSearchParamsError extends Error {\n  constructor() {\n    super(\n      'Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams'\n    )\n  }\n}\n\nclass ReadonlyURLSearchParams extends URLSearchParams {\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  append() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  delete() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  set() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  sort() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n}\n\nexport function unstable_isUnrecognizedActionError(): boolean {\n  throw new Error(\n    '`unstable_isUnrecognizedActionError` can only be used on the client.'\n  )\n}\n\nexport { redirect, permanentRedirect } from './redirect'\nexport { RedirectType } from './redirect-error'\nexport { notFound } from './not-found'\nexport { forbidden } from './forbidden'\nexport { unauthorized } from './unauthorized'\nexport { unstable_rethrow } from './unstable-rethrow'\nexport { ReadonlyURLSearchParams }\n","export * from '../client/components/navigation.react-server';\n\n//# sourceMappingURL=navigation.react-server.js.map","import { validateToken as s } from \"@kinde/jwt-validator\";\nimport { config as o } from \"../../config/index.es.js\";\nimport { jwtDecoder as r } from \"@kinde/jwt-decoder\";\nconst d = (e) => {\n  const i = r(e);\n  return i != null && i.exp ? i.exp && i.exp < Date.now() / 1e3 : !0;\n}, u = async ({\n  token: e\n}) => {\n  if (!e || typeof e != \"string\")\n    return o.isDebugMode && console.error(\"validateToken: invalid token or token is missing\"), !1;\n  if (!(await s({\n    token: e,\n    domain: o.issuerURL\n  })).valid)\n    return o.isDebugMode && console.error(\"validateToken: invalid token\"), !1;\n  const n = r(e);\n  return o.isDebugMode && console.log(\n    `validateToken: token is valid - it will expire in ${n.exp - Date.now() / 1e3} seconds`\n  ), n.iss !== o.issuerURL ? (o.isDebugMode && console.error(\"validateToken: invalid issuer\"), !1) : !0;\n};\nexport {\n  d as isTokenExpired,\n  u as validateToken\n};\n","import { config as o } from \"../config/index.es.js\";\nimport { jwtDecoder as n } from \"@kinde/jwt-decoder\";\nimport { getAccessToken as t } from \"../utils/getAccessToken.es.js\";\nimport { redirectOnExpiredToken as i } from \"../utils/redirectOnExpiredToken.es.js\";\nconst d = (r, c) => async () => {\n  try {\n    const e = await t(r, c);\n    return o.isDebugMode && console.log(\n      \"getAccessTokenFactory: running redirectOnExpiredToken check\"\n    ), i(e), n(e);\n  } catch (e) {\n    return o.isDebugMode && console.error(e), null;\n  }\n};\nexport {\n  d as getAccessTokenFactory\n};\n","import \"next/headers\";\nimport { config as r } from \"../config/index.es.js\";\nimport \"../utils/constants.es.js\";\nimport \"@kinde/js-utils\";\nimport \"destr\";\nimport \"cookie\";\nimport { jwtDecoder as i } from \"@kinde/jwt-decoder\";\nimport { getIdToken as n } from \"../utils/getIdToken.es.js\";\nimport { redirectOnExpiredToken as c } from \"../utils/redirectOnExpiredToken.es.js\";\nconst l = (e, t) => async () => {\n  try {\n    const o = await n(e, t);\n    return r.isDebugMode && console.log(\"getIdTokenFactory: running redirectOnExpiredToken check\"), c(o), i(o);\n  } catch (o) {\n    return r.isDebugMode && console.error(o), null;\n  }\n};\nexport {\n  l as getIdTokenFactory\n};\n","const n = (e) => Object.fromEntries(\n  Object.entries(e).filter(([r, t]) => t !== void 0)\n);\nexport {\n  n as default\n};\n","import { NextResponse as d } from \"next/server\";\nimport { config as r, routes as U } from \"../config/index.es.js\";\nimport { jwtDecoder as C } from \"@kinde/jwt-decoder\";\nimport { isTokenExpired as A } from \"../utils/jwt/validation.es.js\";\nimport { getAccessToken as B } from \"../utils/getAccessToken.es.js\";\nimport { kindeClient as E } from \"../session/kindeServerClient.es.js\";\nimport { sessionManager as I } from \"../session/sessionManager.es.js\";\nimport { getSplitCookies as v } from \"../utils/cookies/getSplitSerializedCookies.es.js\";\nimport { getIdToken as z } from \"../utils/getIdToken.es.js\";\nimport { copyCookiesToRequest as j } from \"../utils/copyCookiesToRequest.es.js\";\nimport { getStandardCookieOptions as N } from \"../utils/cookies/getStandardCookieOptions.es.js\";\nimport { isPublicPathMatch as O } from \"../utils/isPublicPathMatch.es.js\";\nconst y = async (t, e, u) => {\n  const { pathname: n, search: g } = t.nextUrl, M = e == null ? void 0 : e.isReturnToCurrentPage, k = e == null ? void 0 : e.orgCode, b = (e == null ? void 0 : e.loginPage) || `${r.apiPath}/${U.login}`, $ = `${r.apiPath}/kinde_callback`, x = `${r.apiPath}/${U.register}`, S = `${r.apiPath}/${U.setup}`;\n  if (b == n || $ == n || x == n || S == n)\n    return d.next();\n  let L = [\"/_next\", \"/favicon.ico\"];\n  (e == null ? void 0 : e.publicPaths) !== void 0 && Array.isArray(e == null ? void 0 : e.publicPaths) && (L = e.publicPaths);\n  const R = new URLSearchParams();\n  k && R.set(\"org_code\", k), M && R.set(\"post_login_redirect_url\", n + g);\n  const T = R.toString(), h = T ? `${b}?${T}` : b, P = O(\n    n,\n    L,\n    r.isDebugMode\n  );\n  let m = await B(t), w = await z(t);\n  if ((!m || !w) && !P)\n    return r.isDebugMode && console.log(\n      \"authMiddleware: no access or id token, redirecting to login\"\n    ), d.redirect(\n      new URL(h, (e == null ? void 0 : e.redirectURLBase) || r.redirectURL)\n    );\n  const V = await I(t);\n  let s = null;\n  const a = d.next();\n  if (A(m) || A(w)) {\n    r.isDebugMode && console.log(\"authMiddleware: access token expired, refreshing\");\n    const c = (i) => {\n      if (r.isDebugMode && console.error(i), !P)\n        return d.redirect(\n          new URL(\n            h,\n            (e == null ? void 0 : e.redirectURLBase) || r.redirectURL\n          )\n        );\n    };\n    try {\n      s = await E.refreshTokens(V, !1), m = s.access_token, w = s.id_token, r.isDebugMode && console.log(\n        \"authMiddleware: tokens refreshed\",\n        !!s.access_token,\n        !!s.id_token\n      );\n    } catch {\n      const o = c(\"authMiddleware: error refreshing tokens\");\n      if (o) return o;\n    }\n    try {\n      v(\n        \"access_token\",\n        s.access_token\n      ).forEach((l) => {\n        a.cookies.set(l.name, l.value, l.options);\n      }), v(\n        \"id_token\",\n        s.id_token\n      ).forEach((l) => {\n        a.cookies.set(l.name, l.value, l.options);\n      }), a.cookies.set(\n        \"refresh_token\",\n        s.refresh_token,\n        N()\n      ), j(t, a), r.isDebugMode && console.log(\"authMiddleware: tokens refreshed and cookies updated\");\n    } catch {\n      const o = c(\n        \"authMiddleware: error settings new token in cookie\"\n      );\n      if (o) return o;\n    }\n  }\n  if (P)\n    return a;\n  let _ = null, f = null;\n  try {\n    _ = C(m);\n  } catch {\n    return r.isDebugMode && console.error(\n      \"authMiddleware: access token decode failed, redirecting to login\"\n    ), d.redirect(\n      new URL(h, (e == null ? void 0 : e.redirectURLBase) || r.redirectURL)\n    );\n  }\n  try {\n    f = C(w);\n  } catch {\n    return r.isDebugMode && console.error(\n      \"authMiddleware: id token decode failed, redirecting to login\"\n    ), d.redirect(\n      new URL(h, (e == null ? void 0 : e.redirectURLBase) || r.redirectURL)\n    );\n  }\n  const D = e != null && e.isAuthorized ? e.isAuthorized({ req: t, token: _ }) : !0;\n  if (D && u) {\n    r.isDebugMode && console.log(\"authMiddleware: invoking onSuccess callback\");\n    const c = await u({\n      token: _,\n      user: {\n        family_name: f.family_name,\n        given_name: f.given_name,\n        email: f.email,\n        id: f.sub,\n        picture: f.picture\n      }\n    });\n    return c instanceof d ? (r.isDebugMode && console.log(\n      \"authMiddleware: onSuccess callback returned a response, copying our cookies to it\"\n    ), a.cookies.getAll().forEach((i) => {\n      c.cookies.set(i.name, i.value, {\n        ...i\n      });\n    }), a.headers.forEach((i, o) => {\n      c.headers.set(o, i);\n    }), c) : (r.isDebugMode && console.log(\n      \"authMiddleware: onSuccess callback did not return a response, returning our response\"\n    ), a);\n  }\n  return D ? (r.isDebugMode && console.log(\n    \"authMiddleware: customValidationValid is true, returning response\"\n  ), a) : (r.isDebugMode && console.log(\"authMiddleware: default behaviour, redirecting to login\"), d.redirect(\n    new URL(h, (e == null ? void 0 : e.redirectURLBase) || r.redirectURL)\n  ));\n};\nfunction ee(...t) {\n  if (!t.length || t[0] instanceof Request)\n    return y(...t);\n  if (typeof t[0] == \"function\") {\n    const u = t[0], n = t[1];\n    return async (...g) => await y(g[0], n, async ({ token: M, user: k }) => (g[0].kindeAuth = { token: M, user: k }, await u(...g)));\n  }\n  const e = t[0];\n  return async (...u) => await y(u[0], e);\n}\nexport {\n  ee as withAuth\n};\n","import { ResponseCookies as n, RequestCookies as i } from \"next/dist/server/web/spec-extension/cookies\";\nimport { NextResponse as m } from \"next/server\";\nconst w = (t, o) => {\n  const d = new n(o.headers), r = new Headers(t.headers), a = new i(r);\n  d.getAll().forEach((e) => a.set(e)), m.next({ request: { headers: r } }).headers.forEach((e, s) => {\n    (s === \"x-middleware-override-headers\" || s.startsWith(\"x-middleware-request-\")) && o.headers.set(s, e);\n  });\n};\nexport {\n  w as copyCookiesToRequest\n};\n","function i(r, s, o = !1) {\n  return s.some((t) => {\n    try {\n      return t instanceof RegExp ? t.test !== RegExp.prototype.test ? t.test(r) : new RegExp(t.source, t.flags).test(r) : t === \"/\" ? r === \"/\" : r.startsWith(t);\n    } catch (e) {\n      return o && console.error(\n        \"isPublicPathMatch: error evaluating publicPath pattern:\",\n        e\n      ), !1;\n    }\n  });\n}\nexport {\n  i as isPublicPathMatch\n};\n","import { sessionManager as c } from \"./sessionManager.es.js\";\nimport { FlagDataType as a } from \"@kinde-oss/kinde-typescript-sdk\";\nimport { kindeClient as d } from \"./kindeServerClient.es.js\";\nconst f = (o, i) => async (t, s, n) => {\n  try {\n    const r = await d.getClaimValue(\n      await c(o, i),\n      \"feature_flags\",\n      \"access_token\"\n    ), F = await d.getClaimValue(\n      await c(o, i),\n      \"x-hasura-feature-flags\",\n      \"access_token\"\n    ), e = {\n      ...r,\n      ...F\n    }[t];\n    if (!e && s === void 0)\n      throw new Error(\n        `Flag ${t} was not found, and no default value has been provided`\n      );\n    if (e != null && e.t && n && n !== (e == null ? void 0 : e.t))\n      throw new Error(\n        `Flag ${t} is of type ${a[e.t]}, expected type is ${a[n]}`\n      );\n    const u = (e == null ? void 0 : e.v) === void 0;\n    return {\n      is_default: u,\n      value: (e == null ? void 0 : e.v) === void 0 ? s : e == null ? void 0 : e.v,\n      code: t,\n      type: u ? a[(e == null ? void 0 : e.t) ?? n] : !1,\n      defaultValue: s\n    };\n  } catch (r) {\n    if (r.message.includes(\"no default value has been provided\"))\n      throw r;\n    return { value: s };\n  }\n};\nexport {\n  f as getFlagFactory\n};\n","import g from \"./removeUndefined.es.js\";\nconst a = (s, o) => {\n  const i = s.organization_properties || s[\"x-hasura-organization_properties\"] || {}, n = o.organization_properties || o[\"x-hasura-organization_properties\"] || {}, e = {\n    ...i,\n    ...n\n  }, r = {};\n  Object.keys(e).forEach((t) => {\n    e[t].t === \"b\" || e[t].t, r[t] = e[t].v;\n  });\n  const _ = {\n    // Keep the original keys for backwards compatibility\n    // will be deprecated in the future\n    city: r.kp_org_city,\n    industry: r.kp_org_industry,\n    postcode: r.kp_org_postcode,\n    state_region: r.kp_org_state_region,\n    street_address: r.kp_org_street_address,\n    street_address_2: r.kp_org_street_address_2,\n    ...r\n  };\n  return g(_);\n}, d = (s, o) => {\n  const i = o.org_code || o[\"x-hasura-org-code\"], n = o.org_name || o[\"x-hasura-org-name\"];\n  return i ? {\n    orgCode: i,\n    orgName: n,\n    properties: a(s, o)\n  } : null;\n};\nexport {\n  d as generateOrganizationObject\n};\n","import h from \"./removeUndefined.es.js\";\nconst U = (e, v) => {\n  const c = {\n    id: e.sub,\n    email: e.email,\n    family_name: e.family_name,\n    given_name: e.given_name,\n    picture: e.picture,\n    username: e.preferred_username,\n    phone_number: e.phone_number\n  };\n  let l = c;\n  const k = e.user_properties || e[\"x-hasura-user_properties\"] || {}, y = v.user_properties || v[\"x-hasura-user_properties\"] || {}, r = { ...k, ...y };\n  if (r) {\n    const {\n      kp_usr_city: s,\n      kp_usr_industry: _,\n      kp_usr_is_marketing_opt_in: t,\n      kp_usr_job_title: p,\n      kp_usr_middle_name: u,\n      kp_usr_postcode: n,\n      kp_usr_salutation: i,\n      kp_usr_state_region: a,\n      kp_usr_street_address: o,\n      kp_usr_street_address_2: m\n    } = r, x = Object.keys(r).reduce(\n      (d, g) => {\n        var f;\n        return d[g] = (f = r[g]) == null ? void 0 : f.v, d;\n      },\n      {}\n    );\n    l = {\n      ...h(c),\n      properties: h({\n        city: s == null ? void 0 : s.v,\n        industry: _ == null ? void 0 : _.v,\n        is_marketing_opt_in: t == null ? void 0 : t.v,\n        job_title: p == null ? void 0 : p.v,\n        middle_name: u == null ? void 0 : u.v,\n        postcode: n == null ? void 0 : n.v,\n        salutation: i == null ? void 0 : i.v,\n        state_region: a == null ? void 0 : a.v,\n        street_address: o == null ? void 0 : o.v,\n        street_address_2: m == null ? void 0 : m.v,\n        ...x\n      })\n    };\n  }\n  return l;\n};\nexport {\n  U as generateUserObject\n};\n","import { sessionManager as t } from \"./sessionManager.es.js\";\nconst o = (e, s) => async () => await (await t(e, s)).getSessionItem(\"access_token\");\nexport {\n  o as getAccessTokenRawFactory\n};\n","import { sessionManager as a } from \"./sessionManager.es.js\";\nconst n = (t, e) => async () => await (await a(t, e)).getSessionItem(\"id_token\");\nexport {\n  n as getIdTokenRawFactory\n};\n","import { config as o } from \"../config/index.es.js\";\nimport { sessionManager as t } from \"../session/sessionManager.es.js\";\nimport { validateToken as r } from \"./jwt/validation.es.js\";\nconst k = async (s, i) => {\n  try {\n    const e = await (await t(s, i)).getSessionItem(\"access_token\");\n    return !e || typeof e != \"string\" ? (o.isDebugMode && console.warn(\n      \"getAccessToken: invalid token or token is missing (are you logged in?)\"\n    ), null) : await r({\n      token: e\n    }) ? e : (o.isDebugMode && console.error(\"getAccessToken: invalid token\"), null);\n  } catch (n) {\n    return o.isDebugMode && console.error(\"getAccessToken\", n), null;\n  }\n};\nexport {\n  k as getAccessToken\n};\n","import { getFlagFactory as c } from \"./getFlag.es.js\";\nimport { config as g } from \"../config/index.es.js\";\nconst i = (t, o) => async (a, e) => {\n  try {\n    return (await c(t, o)(a, e, \"s\")).value;\n  } catch (r) {\n    return g.isDebugMode && console.error(r), null;\n  }\n};\nexport {\n  i as getStringFlagFactory\n};\n","import { config as n } from \"../config/index.es.js\";\nimport { getAccessToken as c } from \"../utils/getAccessToken.es.js\";\nimport { MemoryStorage as i, setActiveStorage as a, StorageKeys as m, getEntitlements as g, clearActiveStorage as l } from \"@kinde/js-utils\";\nconst S = (o, r) => async () => {\n  try {\n    const e = await c(o, r);\n    if (!e)\n      return null;\n    const t = new i();\n    a(t), await t.setSessionItem(m.accessToken, e);\n    const s = await g();\n    return l(), t.destroySession(), s;\n  } catch (e) {\n    return n.isDebugMode && console.error(e), null;\n  }\n};\nexport {\n  S as getEntitlementsFactory\n};\n","import { config as o } from \"../../config/index.es.js\";\nimport { GLOBAL_COOKIE_OPTIONS as i, TWENTY_NINE_DAYS as m } from \"../constants.es.js\";\nconst t = () => ({\n  maxAge: m,\n  domain: o.cookieDomain ? o.cookieDomain : void 0,\n  ...i\n});\nexport {\n  t as getStandardCookieOptions\n};\n","import { MAX_COOKIE_LENGTH as p } from \"../constants.es.js\";\nimport { getStandardCookieOptions as m } from \"./getStandardCookieOptions.es.js\";\nimport { splitString as e } from \"@kinde/js-utils\";\nconst f = (t, r) => e(r, p).map((i, o) => ({\n  name: t + (o === 0 ? \"\" : o),\n  value: i,\n  options: m()\n}));\nexport {\n  f as getSplitCookies\n};\n","import { getFlagFactory as c } from \"./getFlag.es.js\";\nimport { config as l } from \"../config/index.es.js\";\nconst f = (o, t) => async (a, e) => {\n  try {\n    return (await c(o, t)(a, e, \"b\")).value;\n  } catch (r) {\n    return l.isDebugMode && console.error(r), null;\n  }\n};\nexport {\n  f as getBooleanFlagFactory\n};\n","import { getFlagFactory as c } from \"./getFlag.es.js\";\nimport { config as g } from \"../config/index.es.js\";\nconst i = (t, o) => async (e, a) => {\n  try {\n    return (await c(t, o)(e, a, \"i\")).value;\n  } catch (r) {\n    return g.isDebugMode && console.error(r), null;\n  }\n};\nexport {\n  i as getIntegerFlagFactory\n};\n","import { sessionManager as o } from \"./sessionManager.es.js\";\nimport { kindeClient as a } from \"./kindeServerClient.es.js\";\nimport { config as e } from \"../config/index.es.js\";\nconst c = (i, r) => async () => {\n  try {\n    const s = await a.getPermissions(\n      await o(i, r)\n    );\n    return s.permissions ? s : {\n      permissions: await a.getClaimValue(\n        await o(i, r),\n        \"x-hasura-permissions\"\n      ),\n      orgCode: await a.getClaimValue(\n        await o(i, r),\n        \"x-hasura-org-code\"\n      )\n    };\n  } catch (s) {\n    return e.isDebugMode && console.error(s), null;\n  }\n};\nexport {\n  c as getPermissionsFactory\n};\n","import { config as o } from \"../config/index.es.js\";\nimport { sessionManager as s } from \"../session/sessionManager.es.js\";\nimport { validateToken as a } from \"./jwt/validation.es.js\";\nconst c = async (i, t) => {\n  const r = \"id_token\";\n  try {\n    const e = await (await s(i, t)).getSessionItem(r);\n    return !e || typeof e != \"string\" ? (o.isDebugMode && console.warn(\n      \"getIdToken: invalid token or token is missing (are you logged in?)\"\n    ), null) : await a({\n      token: e\n    }) ? e : (o.isDebugMode && console.error(\"getIdToken: invalid token\"), null);\n  } catch (n) {\n    return o.isDebugMode && console.error(\"getIdToken\", n), null;\n  }\n};\nexport {\n  c as getIdToken\n};\n","import { sessionManager as e } from \"./sessionManager.es.js\";\nimport { kindeClient as t } from \"./kindeServerClient.es.js\";\nimport { config as s } from \"../config/index.es.js\";\nconst c = (o, a) => async () => {\n  try {\n    const r = await t.getClaimValue(\n      await e(o, a),\n      \"roles\"\n    );\n    return r || await t.getClaimValue(\n      await e(o, a),\n      \"x-hasura-roles\"\n    );\n  } catch (r) {\n    return s.isDebugMode && console.error(r), null;\n  }\n};\nexport {\n  c as getRolesFactory\n};\n","import { sessionManager as n } from \"./sessionManager.es.js\";\nimport { kindeClient as a } from \"./kindeServerClient.es.js\";\nimport { config as m } from \"../config/index.es.js\";\nconst f = (i, o) => async (e, t) => {\n  try {\n    return await a.getClaim(\n      await n(i, o),\n      e,\n      t\n    );\n  } catch (r) {\n    return m.isDebugMode && console.error(r), null;\n  }\n};\nexport {\n  f as getClaimFactory\n};\n","import { sessionManager as e } from \"./sessionManager.es.js\";\nimport { kindeClient as t } from \"./kindeServerClient.es.js\";\nimport { config as a } from \"../config/index.es.js\";\nconst g = (i, s) => async (o) => {\n  try {\n    const r = await t.getPermission(\n      await e(i, s),\n      o\n    );\n    return !r.isGranted && (await t.getClaimValue(\n      await e(i, s),\n      \"x-hasura-permissions\"\n    )).includes(o) ? { isGranted: !0, orgCode: r.orgCode } : r;\n  } catch (r) {\n    return a.isDebugMode && console.error(r), null;\n  }\n};\nexport {\n  g as getPermissionFactory\n};\n","import { redirect as o } from \"next/navigation\";\nimport { isTokenExpired as r } from \"./jwt/validation.es.js\";\nimport { config as e, routes as n } from \"../config/index.es.js\";\nconst g = (i) => {\n  if (e.isDebugMode && console.log(\"redirectOnExpiredToken: checking for expired token\"), !i) {\n    e.isDebugMode && console.log(\"redirectOnExpiredToken: no token, not redirecting\");\n    return;\n  }\n  if (!r(i)) {\n    e.isDebugMode && console.log(\n      \"redirectOnExpiredToken: token is not expired, not redirecting\"\n    );\n    return;\n  }\n  e.isDebugMode && console.log(\n    \"redirectOnExpiredToken: token is defined and expired, redirecting\"\n  ), o(`${e.apiPath}/${n.login}`);\n};\nexport {\n  g as redirectOnExpiredToken\n};\n","import { sessionManager as u } from \"./sessionManager.es.js\";\nimport { kindeClient as e } from \"./kindeServerClient.es.js\";\nimport { config as l } from \"../config/index.es.js\";\nconst C = (o, t) => async () => {\n  try {\n    const a = await u(o, t), i = await e.getUserOrganizations(a), r = await e.getClaimValue(\n      a,\n      \"organizations\",\n      \"id_token\"\n    ) ?? [], g = await e.getClaimValue(\n      a,\n      \"x-hasura-organizations\",\n      \"id_token\"\n    ) ?? [], c = [...r, ...g], m = await e.getClaimValue(\n      a,\n      \"x-hasura-org-codes\",\n      \"id_token\"\n    ) ?? [], s = [...c].map((n) => ({\n      code: n == null ? void 0 : n.id,\n      name: n == null ? void 0 : n.name\n    })), d = {\n      orgCodes: [...i.orgCodes, ...m],\n      orgs: s\n    };\n    return s.length > 0 && console.warn(\n      \"Warning: organizations are not in ID token so names are missing.\"\n    ), d;\n  } catch (a) {\n    return l.isDebugMode && console.debug(\"getUserOrganization error:\", a), null;\n  }\n};\nexport {\n  C as getUserOrganizationsFactory\n};\n","import { jwtDecoder as r } from \"@kinde/jwt-decoder\";\nimport { config as c } from \"../config/index.es.js\";\nimport { generateOrganizationObject as a } from \"../utils/generateOrganizationObject.es.js\";\nimport { sessionManager as m } from \"./sessionManager.es.js\";\nimport { getAccessToken as g } from \"../utils/getAccessToken.es.js\";\nconst T = (t, e) => async () => {\n  try {\n    const o = await (await m(t, e)).getSessionItem(\"id_token\");\n    if (!o)\n      throw new Error(\"ID token is missing\");\n    const n = r(o), i = await g(t, e), s = r(i);\n    return a(n, s);\n  } catch (o) {\n    return c.isDebugMode && console.error(o), null;\n  }\n};\nexport {\n  T as getOrganizationFactory\n};\n","import { config as i } from \"../config/index.es.js\";\nimport { generateUserObject as a } from \"../utils/generateUserObject.es.js\";\nimport { jwtDecoder as n } from \"@kinde/jwt-decoder\";\nimport { getAccessToken as m } from \"../utils/getAccessToken.es.js\";\nimport { getIdToken as f } from \"../utils/getIdToken.es.js\";\nconst p = (o, r) => async () => {\n  try {\n    const e = await f(o, r);\n    if (!e)\n      return null;\n    const c = n(e), t = await m(o, r);\n    if (!t)\n      return null;\n    const s = n(t);\n    return a(c, s);\n  } catch (e) {\n    return i.isDebugMode && console.debug(\"getUser\", e), null;\n  }\n};\nexport {\n  p as getUserFactory\n};\n","import { getUserFactory as i } from \"./getUser.es.js\";\nimport { getAccessToken as n } from \"../utils/getAccessToken.es.js\";\nimport \"@kinde/jwt-validator\";\nimport { config as c } from \"../config/index.es.js\";\nimport \"@kinde/jwt-decoder\";\nimport \"next/navigation\";\nimport { redirectOnExpiredToken as a } from \"../utils/redirectOnExpiredToken.es.js\";\nconst k = (o, t) => async () => {\n  const e = await n(o, t);\n  c.isDebugMode && console.log(\"isAuthenticatedFactory: running redirectOnExpiredToken check\"), a(e);\n  const r = await i(o, t)();\n  return e && !!r;\n};\nexport {\n  k as isAuthenticatedFactory\n};\n","import { getAccessTokenFactory as e } from \"./getAccessToken.es.js\";\nimport { getBooleanFlagFactory as i } from \"./getBooleanFlag.es.js\";\nimport { getFlagFactory as a } from \"./getFlag.es.js\";\nimport { getIdTokenFactory as g } from \"./getIdToken.es.js\";\nimport { getIntegerFlagFactory as n } from \"./getIntegerFlag.es.js\";\nimport { getOrganizationFactory as m } from \"./getOrganization.es.js\";\nimport { getPermissionFactory as c } from \"./getPermission.es.js\";\nimport { getPermissionsFactory as s } from \"./getPermissions.es.js\";\nimport { getStringFlagFactory as f } from \"./getStringFlag.es.js\";\nimport { getUserFactory as F } from \"./getUser.es.js\";\nimport { getUserOrganizationsFactory as p } from \"./getUserOrganizations.es.js\";\nimport { isAuthenticatedFactory as l } from \"./isAuthenticated.es.js\";\nimport { getAccessTokenRawFactory as y } from \"./getAccessTokenRaw.es.js\";\nimport { getIdTokenRawFactory as k } from \"./getIdTokenRaw.es.js\";\nimport { kindeClient as d } from \"./kindeServerClient.es.js\";\nimport { sessionManager as T } from \"./sessionManager.es.js\";\nimport { getRolesFactory as u } from \"./getRoles.es.js\";\nimport { getClaimFactory as w } from \"./getClaim.es.js\";\nimport { config as A } from \"../config/index.es.js\";\nimport { getEntitlementsFactory as I } from \"./getEntitlements.es.js\";\nconst L = (t, o) => ({\n  /**\n   * This method is designed to work exclusively with the Pages Router in Next.js.\n   * It is not compatible with the App Router.\n   *\n   * App Router users should use the `refreshData` method in `useKindeBrowserClient` instead.\n   */\n  refreshTokens: async () => {\n    try {\n      return await d.refreshTokens(\n        await T(t, o)\n      );\n    } catch (r) {\n      return A.isDebugMode && console.error(r), null;\n    }\n  },\n  getAccessToken: e(t, o),\n  getBooleanFlag: i(t, o),\n  getFlag: a(t, o),\n  getIdToken: g(t, o),\n  getIdTokenRaw: k(t, o),\n  getAccessTokenRaw: y(t, o),\n  getIntegerFlag: n(t, o),\n  getOrganization: m(t, o),\n  getPermission: c(t, o),\n  getPermissions: s(t, o),\n  getStringFlag: f(t, o),\n  getUser: F(t, o),\n  getUserOrganizations: p(t, o),\n  isAuthenticated: l(t, o),\n  getRoles: u(t, o),\n  getClaim: w(t, o),\n  getEntitlements: I(t, o)\n});\nexport {\n  L as default\n};\n","import { jsx as l } from \"react/jsx-runtime\";\nimport { config as p, routes as s } from \"../config/index.es.js\";\nfunction c({\n  children: a,\n  orgCode: t,\n  postLoginRedirectURL: i,\n  authUrlParams: o,\n  ...f\n}) {\n  let e = new URLSearchParams(), r = {};\n  t != null && (r.org_code = t), i != null && (r.post_login_redirect_url = i), r = { ...o, ...r };\n  for (const n in r) e.append(n, r[n]);\n  return /* @__PURE__ */ l(\n    \"a\",\n    {\n      href: `${p.apiPath}/${s.register}${e ? `?${e.toString()}` : \"\"}`,\n      ...f,\n      children: a\n    }\n  );\n}\nexport {\n  c as RegisterLink\n};\n","import { jsx as h } from \"react/jsx-runtime\";\nimport { config as m, routes as i } from \"../config/index.es.js\";\nfunction w({\n  children: l,\n  postLoginRedirectURL: n,\n  orgCode: o,\n  authUrlParams: s,\n  ...t\n}) {\n  const r = new URLSearchParams();\n  let a = {};\n  o != null && (a.org_code = o), n != null && (n != null && n.startsWith(\"/\") && (n = `${typeof window < \"u\" ? window.location.origin : process.env.KINDE_SITE_URL}${n}`), a.post_login_redirect_url = n), a = { ...s, ...a };\n  for (const f in a) r.append(f, a[f]);\n  const u = `${m.apiPath}/${i.login}${r ? `?${r.toString()}` : \"\"}`;\n  return /* @__PURE__ */ h(\"a\", { href: u, ...t, children: l });\n}\nexport {\n  w as LoginLink\n};\n","import { jsx as i } from \"react/jsx-runtime\";\nimport { config as u, routes as f } from \"../config/index.es.js\";\nfunction m({ children: r, postLogoutRedirectURL: o, ...t }) {\n  return /* @__PURE__ */ i(\n    \"a\",\n    {\n      href: `${u.apiPath}/${f.logout}${o ? `?post_logout_redirect_url=${o}` : \"\"}`,\n      ...t,\n      children: r\n    }\n  );\n}\nexport {\n  m as LogoutLink\n};\n","import { jsx as o } from \"react/jsx-runtime\";\nimport { config as i, routes as n } from \"../config/index.es.js\";\nfunction m({ children: t, orgName: r, ...e }) {\n  return /* @__PURE__ */ o(\n    \"a\",\n    {\n      href: `${i.apiPath}/${n.createOrg}${r ? `?org_name=${r}` : \"\"}`,\n      ...e,\n      children: t\n    }\n  );\n}\nexport {\n  m as CreateOrgLink\n};\n","import { default as i } from \"./src/session/index.es.js\";\nimport { withAuth as m } from \"./src/authMiddleware/authMiddleware.es.js\";\nimport { RegisterLink as f } from \"./src/components/RegisterLink.es.js\";\nimport { LoginLink as x } from \"./src/components/LoginLink.es.js\";\nimport { LogoutLink as L } from \"./src/components/LogoutLink.es.js\";\nimport \"react/jsx-runtime\";\nimport \"./src/config/index.es.js\";\nimport { CreateOrgLink as s } from \"./src/components/CreateOrgLink.es.js\";\nimport { createKindeManagementAPIClient as h } from \"./src/api-client.es.js\";\nimport { default as l } from \"./src/handlers/auth.es.js\";\nimport { protectApi as c, protectPage as C } from \"./src/handlers/protect.es.js\";\nexport {\n  s as CreateOrgLink,\n  x as LoginLink,\n  L as LogoutLink,\n  f as RegisterLink,\n  h as createKindeManagementAPIClient,\n  i as getKindeServerSession,\n  l as handleAuth,\n  c as protectApi,\n  C as protectPage,\n  m as withAuth\n};\n","import { Configuration as k, UsersApi as _, OAuthApi as P, SubscribersApi as I, OrganizationsApi as R, ConnectedAppsApi as S, FeatureFlagsApi as U, EnvironmentsApi as y, PermissionsApi as z, RolesApi as C, BusinessApi as L, IndustriesApi as T, TimezonesApi as v, ApplicationsApi as F, CallbacksApi as O, APIsApi as j } from \"@kinde-oss/kinde-typescript-sdk\";\nimport { config as n } from \"./config/index.es.js\";\nimport { sessionManager as x } from \"./session/sessionManager.es.js\";\nconst $ = async (i, t) => {\n  let s = null;\n  await (await x(i, t)).removeSessionItem(\"kinde_api_access_token\"), s = (await (await fetch(`${n.issuerURL}/oauth2/token`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    },\n    body: new URLSearchParams({\n      grant_type: \"client_credentials\",\n      client_id: n.clientID || \"\",\n      client_secret: n.clientSecret || \"\",\n      audience: n.issuerURL + \"/api\"\n    })\n  })).json()).access_token;\n  const e = new k({\n    basePath: n.issuerURL,\n    accessToken: s,\n    headers: { Accept: \"application/json\" }\n  }), o = new _(e), c = new P(e), p = new I(e), a = new R(e), r = new S(e), A = new U(e), w = new y(e), l = new z(e), u = new C(e), m = new L(e), d = new T(e), g = new v(e), b = new F(e), f = new O(e), h = new j(e);\n  return {\n    usersApi: o,\n    oauthApi: c,\n    subscribersApi: p,\n    organizationsApi: a,\n    connectedAppsApi: r,\n    featureFlagsApi: A,\n    environmentsApi: w,\n    permissionsApi: l,\n    rolesApi: u,\n    businessApi: m,\n    industriesApi: d,\n    timezonesApi: g,\n    applicationsApi: b,\n    callbacksApi: f,\n    apisApi: h\n  };\n};\nexport {\n  $ as createKindeManagementAPIClient\n};\n","import { isAppRouter as p } from \"../utils/isAppRouter.es.js\";\nimport { callback as d } from \"./callback.es.js\";\nimport { createOrg as h } from \"./createOrg.es.js\";\nimport { login as g } from \"./login.es.js\";\nimport { logout as w } from \"./logout.es.js\";\nimport { setup as E } from \"./setup.es.js\";\nimport { health as y } from \"./health.es.js\";\nimport { portal as R } from \"./portal.es.js\";\nimport { register as I } from \"./register.es.js\";\nimport v from \"../routerClients/AppRouterClient.es.js\";\nimport A from \"../routerClients/PagesRouterClient.es.js\";\nimport { config as c, routes as i } from \"../config/index.es.js\";\nconst _ = {\n  [i.createOrg]: h,\n  [i.register]: I,\n  [i.setup]: E,\n  [i.login]: g,\n  [i.logout]: w,\n  [i.health]: y,\n  [i.portal]: R,\n  kinde_callback: d\n}, m = (n) => _[n], j = (n, o, r) => {\n  var e, t, a;\n  if (!c.clientOptions.authDomain)\n    throw new Error(\n      \"The environment variable 'KINDE_ISSUER_URL' is required. Set it in your .env file\"\n    );\n  if (!c.clientOptions.clientId && !((e = r == null ? void 0 : r.config) != null && e.clientId))\n    throw new Error(\n      \"env variable 'KINDE_CLIENT_ID' is not set and not passed in options\"\n    );\n  if (!c.clientOptions.clientSecret && !((t = r == null ? void 0 : r.config) != null && t.clientSecret))\n    throw new Error(\n      \"env variable 'KINDE_CLIENT_SECRET' is not set and not passed in options\"\n    );\n  if (!c.clientOptions.redirectURL && !((a = r == null ? void 0 : r.config) != null && a.siteUrl))\n    throw new Error(\n      \"env variable 'KINDE_SITE_URL' is not set and not passed in options\"\n    );\n  return typeof n == \"object\" && typeof o == \"string\" ? f(\n    n,\n    { params: { kindeAuth: o } },\n    r\n  ) : async function(s, u) {\n    return p(s) ? (\n      // @ts-ignore\n      f(s, u, r)\n    ) : (\n      // @ts-ignore\n      b(s, u, n)\n    );\n  };\n}, f = async (n, o, r) => {\n  const { params: e } = o;\n  let t = (await e).kindeAuth;\n  t = Array.isArray(t) ? t[0] : t;\n  const a = m(t);\n  if (a) {\n    const l = new v(n, o, r);\n    return await l.createStore(), await a(l);\n  } else\n    return new Response(\"This page could not be found.\", { status: 404 });\n}, b = async (n, o, r) => {\n  let {\n    query: { kindeAuth: e }\n  } = n;\n  if (e = Array.isArray(e) ? e[0] : e, !e)\n    throw Error(\"Please check your Kinde setup\");\n  const t = m(e);\n  return t ? (\n    // @ts-ignore\n    await t(new A(n, o, r))\n  ) : o.status(404).end();\n};\nexport {\n  j as default\n};\n","import { config as s, routes as w } from \"../config/index.es.js\";\nconst h = async (e) => {\n  const n = e.getSearchParam(\"error\");\n  if (n) {\n    if ((n == null ? void 0 : n.toLowerCase()) === \"login_link_expired\") {\n      const t = e.getSearchParam(\"reauth_state\");\n      if (t) {\n        const p = atob(t);\n        try {\n          const o = JSON.parse(p);\n          if (o) {\n            const R = new URLSearchParams(o), g = new URL(\n              `${s.redirectURL}${s.apiPath}/${w.login}`\n            );\n            return g.search = R.toString(), e.redirect(g.toString());\n          }\n        } catch (o) {\n          throw new Error(\n            o instanceof Error ? o.message : \"Unknown Error parsing reauth state\"\n          );\n        }\n      }\n      return;\n    }\n    return;\n  }\n  const i = await e.sessionManager.getSessionItem(\n    \"post_login_redirect_url\"\n  );\n  i && await e.sessionManager.removeSessionItem(\n    \"post_login_redirect_url\"\n  );\n  const r = i || s.postLoginRedirectURL;\n  try {\n    await e.kindeClient.handleRedirectToApp(\n      e.sessionManager,\n      e.getUrl()\n    );\n  } catch (t) {\n    return s.isDebugMode && console.error(\"callback\", t), t.message.includes(\"Expected: State not found\") ? e.json(\n      {\n        error: `Error: State not found.\nTo resolve this error please visit our docs https://docs.kinde.com/developer-tools/sdks/backend/nextjs-sdk/#state-not-found-error` + t.message\n      },\n      { status: 500 }\n    ) : e.json({ error: t.message }, { status: 500 });\n  }\n  const d = (() => {\n    if (!s.postLoginAllowedURLRegex)\n      return null;\n    try {\n      return new RegExp(s.postLoginAllowedURLRegex);\n    } catch (t) {\n      throw console.error(\"Invalid postLoginAllowedURLRegex pattern:\", t), new Error(\n        `Invalid postLoginAllowedURLRegex pattern: ${t.message}`\n      );\n    }\n  })(), l = (t) => s.postLoginAllowedURLRegex ? d.test(t) : !0, a = await e.sessionManager.getSessionItem(\n    \"state\"\n  );\n  if (await e.sessionManager.removeSessionItem(\"state\"), r && l(r)) {\n    const t = r.startsWith(\"http\") ? new URL(r) : new URL(r, e.clientConfig.siteUrl);\n    return a && t.searchParams.set(\"state\", a), e.redirect(t.toString());\n  }\n  const c = new URL(e.clientConfig.siteUrl);\n  return a && c.searchParams.set(\"state\", a), e.redirect(c.toString());\n};\nexport {\n  h as callback\n};\n","const t = async (e) => {\n  if (e)\n    return new Headers(e.headers);\n  try {\n    const { headers: r } = await import(\"next/headers\");\n    return await r();\n  } catch {\n    throw new Error(\n      \"Kinde: Failed to read request headers (are you using a Next.js version prior to 13?)\"\n    );\n  }\n};\nexport {\n  t as getHeaders\n};\n","function e(t) {\n  return !!/^[a-zA-Z0-9+/=_-]+$/.test(t);\n}\nexport {\n  e as default\n};\n","function r(e) {\n  return !!(e.get(\"purpose\") === \"prefetch\" || e.get(\"x-purpose\") === \"prefetch\" || e.get(\"x-moz\") === \"prefetch\");\n}\nexport {\n  r as isPreFetch\n};\n","import { getHeaders as o } from \"../utils/getHeaders.es.js\";\nimport n from \"../utils/validateState.es.js\";\nimport { isPreFetch as i } from \"../utils/isPreFetch.es.js\";\nconst p = async (a) => {\n  const t = await o(a.req);\n  if (i(t))\n    return null;\n  const s = {\n    org_name: a.getSearchParam(\"org_name\") ?? void 0,\n    is_create_org: !0\n  }, e = a.searchParams.get(\"state\");\n  if (e) {\n    if (!n(e))\n      throw new Error(\"Invalid state supplied\");\n    await a.sessionManager.setSessionItem(\"state\", e);\n  }\n  const r = await a.kindeClient.createOrg(\n    a.sessionManager,\n    s\n  );\n  return a.redirect(r.toString());\n};\nexport {\n  p as createOrg\n};\n","import { isPreFetch as i } from \"../utils/isPreFetch.es.js\";\nimport { getHeaders as o } from \"../utils/getHeaders.es.js\";\nimport n from \"../utils/validateState.es.js\";\nconst p = async (s) => {\n  const e = await o(s.req);\n  if (i(e))\n    return null;\n  const a = s.searchParams.get(\"state\");\n  if (a) {\n    if (!n(a))\n      throw new Error(\"Invalid state supplied\");\n    await s.sessionManager.setSessionItem(\"state\", a);\n  }\n  const r = await s.kindeClient.login(\n    s.sessionManager,\n    {\n      authUrlParams: {\n        ...Object.fromEntries(s.searchParams),\n        supports_reauth: \"true\"\n      }\n    }\n  ), t = s.getSearchParam(\n    \"post_login_redirect_url\"\n  );\n  return t && await s.sessionManager.setSessionItem(\n    \"post_login_redirect_url\",\n    t\n  ), s.redirect(r.toString());\n};\nexport {\n  p as login\n};\n","import { config as a } from \"../config/index.es.js\";\nimport { isPreFetch as s } from \"../utils/isPreFetch.es.js\";\nimport { getHeaders as i } from \"../utils/getHeaders.es.js\";\nconst m = async (t) => {\n  const o = await i(t.req);\n  if (s(o))\n    return null;\n  const e = await t.kindeClient.logout(\n    t.sessionManager\n  );\n  let r = t.getSearchParam(\"post_logout_redirect_url\") || a.postLogoutRedirectURL;\n  return r != null && r.startsWith(\"/\") && (r = a.redirectURL + r), r && e.searchParams.set(\"redirect\", r), t.redirect(e.toString());\n};\nexport {\n  m as logout\n};\n","import { jwtDecoder as k } from \"@kinde/jwt-decoder\";\nimport { config as i } from \"../config/index.es.js\";\nimport { generateUserObject as M } from \"../utils/generateUserObject.es.js\";\nimport { getAccessToken as y } from \"../utils/getAccessToken.es.js\";\nimport { getIdToken as h } from \"../utils/getIdToken.es.js\";\nimport { isTokenExpired as E } from \"../utils/jwt/validation.es.js\";\nimport { sessionManager as j } from \"../session/sessionManager.es.js\";\nimport { kindeClient as N } from \"../session/kindeServerClient.es.js\";\nimport { RequestQueueManager as b } from \"../utils/workQueue.es.js\";\nconst K = async (o) => b.getInstance().enqueue(async () => {\n  var d, _, u, g, m, f;\n  try {\n    let n = await y(o.req), r = await h(o.req);\n    if (!n || !r)\n      return i.isDebugMode && console.log(\"setup: no access or id token - returning NOT_LOGGED_IN\"), o.json(\n        {\n          message: \"NOT_LOGGED_IN\"\n        },\n        { status: 200 }\n      );\n    const D = await j(o.req, o.res);\n    if (E(n) || E(r)) {\n      i.isDebugMode && console.log(\"setup: access or id token expired - attempting refresh\");\n      try {\n        const s = await N.refreshTokens(D);\n        n = s.access_token, r = s.id_token;\n      } catch (s) {\n        return i.isDebugMode && console.error(\"setup: refresh tokens failed - returning error\"), o.json(\n          { message: \"REFRESH_FAILED\", error: s },\n          { status: 500 }\n        );\n      }\n    }\n    let t = null, a = null;\n    try {\n      t = k(n);\n    } catch (s) {\n      return i.isDebugMode && console.error(\n        \"setup: access token decode failed, redirecting to login\"\n      ), o.json(\n        { message: \"ACCESS_TOKEN_DECODE_FAILED\", error: s },\n        { status: 500 }\n      );\n    }\n    try {\n      a = k(r);\n    } catch (s) {\n      return i.isDebugMode && console.error(\"setup: id token decode failed, redirecting to login\"), o.json(\n        { message: \"ID_TOKEN_DECODE_FAILED\", error: s },\n        { status: 500 }\n      );\n    }\n    if (!t || !a)\n      return o.json(\n        { message: \"TOKENS_MISSING\", error: \"No access or id token\" },\n        { status: 500 }\n      );\n    const l = t.permissions, p = t.org_code, T = t.feature_flags, O = a.org_codes, I = t.org_name, e = t.organization_properties, c = a.organizations;\n    return o.json({\n      accessToken: t,\n      accessTokenEncoded: n,\n      accessTokenRaw: n,\n      idToken: a,\n      idTokenRaw: r,\n      idTokenEncoded: r,\n      user: M(a, t),\n      permissions: {\n        permissions: l,\n        orgCode: p\n      },\n      needsRefresh: !1,\n      message: \"OK\",\n      organization: {\n        orgCode: p,\n        orgName: I,\n        properties: {\n          city: (d = e == null ? void 0 : e.kp_org_city) == null ? void 0 : d.v,\n          industry: (_ = e == null ? void 0 : e.kp_org_industry) == null ? void 0 : _.v,\n          postcode: (u = e == null ? void 0 : e.kp_org_postcode) == null ? void 0 : u.v,\n          state_region: (g = e == null ? void 0 : e.kp_org_state_region) == null ? void 0 : g.v,\n          street_address: (m = e == null ? void 0 : e.kp_org_street_address) == null ? void 0 : m.v,\n          street_address_2: (f = e == null ? void 0 : e.kp_org_street_address_2) == null ? void 0 : f.v\n        }\n      },\n      featureFlags: T,\n      userOrganizations: {\n        orgCodes: O,\n        orgs: c == null ? void 0 : c.map((s) => ({\n          code: s == null ? void 0 : s.id,\n          name: s == null ? void 0 : s.name\n        }))\n      }\n    });\n  } catch (n) {\n    return i.isDebugMode && console.error(\"setup: failed, error: \", n), o.json(\n      {\n        message: \"SETUP_FAILED\",\n        error: n\n      },\n      { status: 500 }\n    );\n  }\n});\nexport {\n  K as setup\n};\n","import { config as i } from \"../config/index.es.js\";\nclass t {\n  constructor() {\n    this.isProcessing = !1, this.queue = [];\n  }\n  static getInstance() {\n    return t.instance || (t.instance = new t()), t.instance;\n  }\n  async enqueue(s) {\n    return new Promise((e, c) => {\n      i.isDebugMode && console.debug(\"enqueue: task added to queue\"), this.queue.push({\n        execute: s,\n        resolve: e,\n        reject: c\n      }), this.processQueue();\n    });\n  }\n  async processQueue() {\n    if (this.isProcessing || this.queue.length === 0) return;\n    this.isProcessing = !0;\n    const s = this.queue.shift();\n    try {\n      const e = await s.execute();\n      i.isDebugMode && console.debug(\"processQueue: task executed successfully\"), s.resolve(e);\n    } catch (e) {\n      console.debug(\"processQueue: task execution failed\", e), s.reject(e);\n    } finally {\n      this.isProcessing = !1, this.processQueue();\n    }\n  }\n}\nexport {\n  t as RequestQueueManager\n};\n","import { config as e } from \"../config/index.es.js\";\nimport { NextResponse as t } from \"next/server\";\nimport { validateClientSecret as o } from \"@kinde-oss/kinde-typescript-sdk\";\nconst n = async () => t.json({\n  apiPath: e.apiPath,\n  redirectURL: e.clientOptions.redirectURL,\n  postLoginRedirectURL: e.postLoginRedirectURL,\n  issuerURL: e.issuerURL,\n  clientID: e.clientID,\n  clientSecret: o(e.clientSecret) ? \"Set correctly\" : \"Not set correctly\",\n  postLogoutRedirectURL: e.postLogoutRedirectURL,\n  audience: e.audience,\n  cookieDomain: e.cookieDomain,\n  logoutRedirectURL: e.clientOptions.logoutRedirectURL\n});\nexport {\n  n as health\n};\n","import { isPreFetch as m } from \"../utils/isPreFetch.es.js\";\nimport { getHeaders as g } from \"../utils/getHeaders.es.js\";\nimport { MemoryStorage as d, setActiveStorage as l, StorageKeys as u, PortalPage as f, generatePortalUrl as P } from \"@kinde/js-utils\";\nimport { isValidEnumValue as p } from \"../utils/isValidEnumValue.es.js\";\nimport { config as a, routes as U } from \"../config/index.es.js\";\nconst y = async (r) => {\n  const c = await g(r.req);\n  if (m(c))\n    return null;\n  const t = new d();\n  l(t);\n  const s = await r.sessionManager.getSessionItem(\"access_token\");\n  if (!s)\n    return r.redirect(`${a.apiPath}/${U.login}`);\n  await t.setSessionItem(u.accessToken, s);\n  const n = r.searchParams.get(\"returnUrl\") || a.redirectURL;\n  try {\n    const e = r.searchParams.get(\"subNav\"), i = p(f, e) ? e : void 0, o = await P({\n      subNav: i,\n      returnUrl: n,\n      domain: a.issuerURL\n    });\n    if (o.url)\n      return r.redirect(o.url.toString());\n  } catch (e) {\n    return console.error(\"Portal URL generation failed:\", e), r.redirect(a.redirectURL);\n  }\n};\nexport {\n  y as portal\n};\n","function n(e, u) {\n  return Object.values(e).includes(u);\n}\nexport {\n  n as isValidEnumValue\n};\n","import { getHeaders as i } from \"../utils/getHeaders.es.js\";\nimport { isPreFetch as o } from \"../utils/isPreFetch.es.js\";\nimport n from \"../utils/validateState.es.js\";\nconst p = async (s) => {\n  const t = await i(s.req);\n  if (o(t))\n    return null;\n  const r = await s.kindeClient.register(\n    s.sessionManager,\n    {\n      authUrlParams: {\n        ...Object.fromEntries(s.searchParams),\n        supports_reauth: \"true\"\n      }\n    }\n  ), e = s.getSearchParam(\n    \"post_login_redirect_url\"\n  );\n  e && await s.sessionManager.setSessionItem(\n    \"post_login_redirect_url\",\n    e\n  );\n  const a = s.searchParams.get(\"state\");\n  if (a) {\n    if (!n(a))\n      throw new Error(\"Invalid state supplied\");\n    await s.sessionManager.setSessionItem(\"state\", a);\n  }\n  return s.redirect(r.toString());\n};\nexport {\n  p as register\n};\n","import { createKindeServerClient as m } from \"@kinde-oss/kinde-typescript-sdk\";\nimport { cookies as R } from \"next/headers\";\nimport { NextResponse as h } from \"next/server\";\nimport { config as c } from \"../config/index.es.js\";\nimport { appRouterSessionManager as U } from \"../session/sessionManager.es.js\";\nimport s from \"./RouterClient.es.js\";\nclass P extends s {\n  /**\n   *\n   * @param {import('next/server').NextRequest} req\n   * @param {*} res\n   * @param {{onError?: () => void; config: {audience?: string | string[], clientId?: string, clientSecret?: string, issuerURL?: string, siteUrl?: string, postLoginRedirectUrl?: string, postLogoutRedirectUrl?: string, scope?: string}}} options\n   */\n  constructor(r, t, e) {\n    var a, l, i, n, u, f, g, d;\n    super(), this.clientConfig = {\n      ...c.clientOptions,\n      framework: \"Next.js:App\",\n      audience: ((a = e == null ? void 0 : e.config) == null ? void 0 : a.audience) || c.clientOptions.audience,\n      authDomain: ((l = e == null ? void 0 : e.config) == null ? void 0 : l.issuerURL) || c.clientOptions.authDomain,\n      clientId: ((i = e == null ? void 0 : e.config) == null ? void 0 : i.clientId) || c.clientOptions.clientId,\n      clientSecret: ((n = e == null ? void 0 : e.config) == null ? void 0 : n.clientSecret) || c.clientOptions.clientSecret,\n      logoutRedirectURL: ((u = e == null ? void 0 : e.config) == null ? void 0 : u.postLogoutRedirectUrl) || c.clientOptions.logoutRedirectURL,\n      redirectURL: (f = e == null ? void 0 : e.config) != null && f.siteUrl ? `${(g = e == null ? void 0 : e.config) == null ? void 0 : g.siteUrl}${c.apiPath}/kinde_callback` : c.clientOptions.redirectURL,\n      siteUrl: c.redirectURL || e.config.siteUrl,\n      scope: ((d = e == null ? void 0 : e.config) == null ? void 0 : d.scope) || c.clientOptions.scope\n    }, this.kindeClient = m(\n      c.grantType,\n      this.clientConfig\n    ), this.url = new URL(r.url), this.req = r, this.searchParams = r.nextUrl.searchParams, this.onErrorCallback = e == null ? void 0 : e.onError;\n  }\n  async createStore() {\n    this.sessionManager = U(await R());\n  }\n  /**\n   *\n   * @param {string} url\n   * @returns\n   */\n  redirect(r) {\n    return h.redirect(r);\n  }\n  /**\n   *\n   * @returns {URL}\n   */\n  getUrl() {\n    return this.url;\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {{status: number}} status\n   * @returns\n   */\n  json(r, t = { status: 200 }) {\n    return h.json(r, t);\n  }\n  error() {\n    return Response.error;\n  }\n  /**\n   *\n   * @param {string} key\n   * @returns\n   */\n  getSearchParam(r) {\n    return this.req.nextUrl.searchParams.get(r);\n  }\n  onError(r) {\n    this.onErrorCallback && this.onErrorCallback(r);\n  }\n}\nexport {\n  P as default\n};\n","var s = Object.defineProperty;\nvar a = (t, r, o) => r in t ? s(t, r, { enumerable: !0, configurable: !0, writable: !0, value: o }) : t[r] = o;\nvar e = (t, r, o) => a(t, typeof r != \"symbol\" ? r + \"\" : r, o);\nimport \"next/server\";\nclass n {\n  constructor() {\n    /** @type {import('../types').KindeClientConfig} */\n    e(this, \"clientConfig\", {});\n    /** @type {import('../types').KindeClient} */\n    e(this, \"kindeClient\", null);\n    /** @type {URL} */\n    e(this, \"url\");\n    /** @type {import('@kinde-oss/kinde-typescript-sdk').SessionManager} */\n    e(this, \"sessionManager\");\n    /** @type {import('next').NextApiResponse | *} */\n    e(this, \"res\");\n    /** @type {import('next').NextApiRequest | NextResponse | *} */\n    e(this, \"req\");\n    /** @type {URLSearchParams} */\n    e(this, \"searchParams\");\n    if (this.constructor == n)\n      throw new Error(\"Abstract classes can't be instantiated.\");\n  }\n  /**\n   *\n   * @param {string} url\n   * @returns\n   */\n  redirect(r) {\n    throw new Error(\"Method 'redirect()' must be implemented.\");\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {{status: number}} [status]\n   * @returns\n   */\n  json(r, o) {\n    throw new Error(\"Method 'json()' must be implemented.\");\n  }\n  error() {\n    throw new Error(\"Method 'error()' must be implemented.\");\n  }\n  /**\n   *\n   * @returns {URL}\n   */\n  getUrl() {\n    throw new Error(\"Method 'getUrl()' must be implemented.\");\n  }\n  /**\n   *\n   * @param {string} key\n   * @returns {string | null}\n   */\n  getSearchParam(r) {\n    throw new Error(\"Method 'getSearchParam()' must be implemented.\");\n  }\n  onError() {\n    throw new Error(\"Method 'onError()' must be implemented.\");\n  }\n}\nexport {\n  n as default\n};\n","import { createKindeServerClient as h } from \"@kinde-oss/kinde-typescript-sdk\";\nimport { config as t } from \"../config/index.es.js\";\nimport { pageRouterSessionManager as d } from \"../session/sessionManager.es.js\";\nimport f from \"./RouterClient.es.js\";\nclass P extends f {\n  /**\n   *\n   * @param {import('next').NextApiRequest} req\n   * @param {import('next').NextApiResponse} res\n   * @param {{onError?: () => void; config: {audience?: string | string[], clientId?: string, clientSecret?: string, issuerURL?: string, siteUrl?: string, postLoginRedirectUrl?: string, postLogoutRedirectUrl?: string, scope?: string}}} options\n   */\n  constructor(r, c, e) {\n    var i, l, a, u, n, s, g;\n    super(), r.url.split(\"/\").pop(), this.clientConfig = {\n      ...t.clientOptions,\n      framework: \"Next.js:Pages\",\n      audience: ((i = e == null ? void 0 : e.config) == null ? void 0 : i.audience) || t.clientOptions.audience,\n      authDomain: ((l = e == null ? void 0 : e.config) == null ? void 0 : l.issuerURL) || t.clientOptions.authDomain,\n      clientId: ((a = e == null ? void 0 : e.config) == null ? void 0 : a.clientId) || t.clientOptions.clientId,\n      clientSecret: ((u = e == null ? void 0 : e.config) == null ? void 0 : u.clientSecret) || t.clientOptions.clientSecret,\n      logoutRedirectURL: ((n = e == null ? void 0 : e.config) == null ? void 0 : n.postLogoutRedirectUrl) || t.clientOptions.logoutRedirectURL,\n      redirectURL: (s = e == null ? void 0 : e.config) != null && s.siteUrl ? `${(g = e == null ? void 0 : e.config) == null ? void 0 : g.siteUrl}${t.apiPath}/kinde_callback` : t.clientOptions.redirectURL,\n      siteUrl: t.redirectURL || e.config.siteUrl\n    }, this.kindeClient = h(\n      t.grantType,\n      this.clientConfig\n    ), this.url = new URL(this.clientConfig.siteUrl + r.url), this.res = c, this.req = r, this.searchParams = this.url.searchParams, this.sessionManager = d(r, c);\n  }\n  /**\n   *\n   * @param {string} url\n   * @returns\n   */\n  redirect(r) {\n    return this.res.redirect(r);\n  }\n  getUrl() {\n    return this.url;\n  }\n  /**\n   *\n   * @param {object} data\n   * @param {{status: number}} status\n   * @returns\n   */\n  json(r, c = { status: 200 }) {\n    return this.res.status(c.status).json(r);\n  }\n  /**\n   *\n   * @param {string} key\n   * @returns {string | null}\n   */\n  getSearchParam(r) {\n    return this.url.searchParams.get(r);\n  }\n}\nexport {\n  P as default\n};\n","import w from \"../session/index.es.js\";\nimport { redirect as d } from \"next/navigation\";\nimport { NextResponse as l } from \"next/server\";\nimport { routes as f } from \"../config/index.es.js\";\nconst p = ({ postLoginRedirectURL: e, orgCode: s }) => {\n  if (e && typeof e != \"string\")\n    throw new TypeError(\"postLoginRedirectURL must be a string\");\n  if (s && typeof s != \"string\")\n    throw new TypeError(\"orgCode must be a string\");\n  const m = new URLSearchParams();\n  let t = {};\n  const n = process.env.KINDE_SITE_URL;\n  if (!n)\n    throw new Error(\"KINDE_SITE_URL environment variable is not configured\");\n  if (s != null && (t.org_code = s), e != null) {\n    e != null && e.startsWith(\"/\") && (e = `${n}${e}`);\n    try {\n      new URL(e);\n    } catch {\n      throw new Error(`Invalid postLoginRedirectURL: ${e}`);\n    }\n    t.post_login_redirect_url = e;\n  }\n  for (const i in t) m.append(i, t[i]);\n  const u = new URL(\n    `${n}/api/auth/${f.login}?${m.toString()}`\n  );\n  d(u.toString());\n}, E = (e, s = {}) => async (m) => {\n  const { isAuthenticated: t, getPermission: n, getPermissions: u, getRoles: i } = w();\n  if (await t() || p(s), s.roles) {\n    const r = await i();\n    r || p(s);\n    const o = new Set(r.map((a) => a.name));\n    s.roles.some((a) => o.has(a)) || p(s);\n  }\n  if (typeof s.permissions == \"string\" && (await n(s.permissions) || p(s)), Array.isArray(s.permissions)) {\n    const r = await u();\n    s.permissions.some(\n      (o) => r.includes(o)\n    ) || p(s);\n  }\n  return e(m);\n}, I = (e, s) => async (m) => {\n  const { isAuthenticated: t, getPermission: n, getPermissions: u, getRoles: i } = w();\n  try {\n    if (!await t())\n      return l.json({ statusCode: 401, message: \"Unauthorized\" });\n    if (s.roles) {\n      const r = await i();\n      if (!r)\n        return l.json({ statusCode: 401, message: \"Unauthorized\" });\n      const o = new Set(r.map((a) => a.name));\n      if (!s.roles.some((a) => o.has(a)))\n        return l.json({ statusCode: 401, message: \"Unauthorized\" });\n    }\n    if (typeof s.permissions == \"string\" && !await n(s.permissions))\n      return l.json({ statusCode: 403, message: \"Forbidden\" });\n    if (Array.isArray(s.permissions)) {\n      const r = await u();\n      if (!s.permissions.some(\n        (o) => r.includes(o)\n      ))\n        return l.json({ statusCode: 403, message: \"Forbidden\" });\n    }\n  } catch (h) {\n    return console.error(\"Error protecting page\", h), null;\n  }\n  return e(m);\n};\nexport {\n  I as protectApi,\n  E as protectPage\n};\n"],"names":["RedirectStatusCode","REDIRECT_ERROR_CODE","RedirectType","isRedirectError","error","digest","split","errorCode","type","destination","slice","join","status","at","statusCode","Number","isNaN","getRedirectError","getRedirectStatusCodeFromError","getRedirectTypeFromError","getURLFromRedirectError","permanentRedirect","redirect","actionAsyncStorage","window","require","undefined","url","TemporaryRedirect","Error","getStore","isAction","push","replace","PermanentRedirect","HTTPAccessErrorStatus","HTTP_ERROR_FALLBACK_ERROR_CODE","getAccessFallbackErrorTypeByStatus","getAccessFallbackHTTPStatus","isHTTPAccessFallbackError","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","ALLOWED_CODES","Set","Object","values","prefix","httpStatus","has","notFound","DIGEST","forbidden","process","env","__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS","unauthorized","isPostpone","REACT_POSTPONE_TYPE","Symbol","for","$$typeof","isNextRouterError","unstable_rethrow","isBailoutToCSRError","isDynamicServerError","isDynamicPostpone","isHangingPromiseRejectionError","cause","ReadonlyURLSearchParams","unstable_isUnrecognizedActionError","ReadonlyURLSearchParamsError","constructor","URLSearchParams","append","delete","set","sort"],"mappings":"sHAAYA,qBAAAA,qCAAAA,KAAL,IAAKA,EAAAA,SAAAA,CAAAA,SAAAA,WAAAA,gHAAAA,mYCECC,mBAAmB,CAAA,kBAAnBA,GAEDC,YAAY,CAAA,kBAAZA,GAgBIC,eAAe,CAAA,kBAAfA,aApBmB,CAAA,CAAA,IAAA,GAEtBF,EAAsB,gBAE5B,IAAKC,EAAAA,SAAAA,CAAAA,GAAAA,WAAAA,6BAAAA,OAgBL,SAASC,EAAgBC,CAAc,EAC5C,GACmB,UAAjB,OAAOA,GACG,OAAVA,GACA,CAAE,CAAA,WAAYA,CAAAA,CAAI,EACM,UAAxB,AACA,OADOA,EAAMC,MAAM,CAEnB,MAAO,GAGT,IAAMA,EAASD,EAAMC,MAAM,CAACC,KAAK,CAAC,KAC5B,CAACC,EAAWC,EAAK,CAAGH,EACpBI,EAAcJ,EAAOK,KAAK,CAAC,EAAG,CAAC,GAAGC,IAAI,CAAC,KAGvCG,EAAaC,OAFJV,AAEWO,EAFJC,EAAE,CAAC,CAAC,IAI1B,OACEN,IAAcN,IACJ,YAATO,GAA+B,IAA/BA,KAAsBA,CAAS,CAAK,EACd,UAAvB,OAAOC,GACP,CAACO,MAAMF,IACPA,KAAcd,EAAAA,kBAAkB,AAEpC,6XC7BgBiB,gBAAgB,CAAA,kBAAhBA,GA6EAC,8BAA8B,CAAA,kBAA9BA,GARAC,wBAAwB,CAAA,kBAAxBA,GARAC,uBAAuB,CAAA,kBAAvBA,GAhBAC,iBAAiB,CAAA,kBAAjBA,GAvBAC,QAAQ,CAAA,kBAARA,aArCmB,CAAA,CAAA,IAAA,OAM5B,CAAA,CAAA,IAAA,GAEDC,EAGEE,EAAQ,CAAA,CAAA,IAAA,GACRF,QAHN,OAAOC,GAGiB,CAGnB,EAFDE,KAJc,EAMJT,EACdU,CAAW,CACXnB,CAAkB,CAClBM,CAAqE,EAArEA,KAAAA,IAAAA,IAAAA,EAAiCd,EAAAA,kBAAkB,CAAC4B,iBAAAA,AAAiB,EAErE,IAAMxB,EAAQ,OAAA,cAA8B,CAA9B,AAAIyB,MAAM5B,EAAAA,mBAAmB,EAA7B,oBAAA,OAAA,mBAAA,gBAAA,CAA6B,GAE3C,OADAG,EAAMC,MAAM,CAAMJ,EAAAA,mBAAmB,CAAC,IAAGO,EAAK,IAAGmB,EAAI,IAAGb,EAAW,IAC5DV,CACT,CAcO,SAASkB,EAEdK,CAAW,CACXnB,CAAmB,IAFnB,EAISe,CAIT,OAJAf,MAAAA,CAAAA,GAAAA,EAASe,CAAAA,IAJkB,EAIlBA,CAAAA,EAA4B,AAA5BA,GAAAA,IAAAA,EAAAA,EAAoBO,QAAQ,EAAA,CAAA,CAAA,KAAA,EAA5BP,EAAgCQ,QAAQ,EAC7C7B,EAAAA,YAAY,CAAC8B,IAAI,CACjB9B,EAAAA,YAAY,CAAC+B,OAAAA,AAAO,EAElBhB,EAAiBU,EAAKnB,EAAMR,EAAAA,kBAAkB,CAAC4B,iBAAiB,CACxE,CAaO,SAASP,EAEdM,CAAW,CACXnB,CAAyC,EAEzC,MAFAA,KAFA,AAEAA,OAAAA,GAAqBN,EAAAA,YAAY,CAAC+B,EAFP,KAEOA,AAAO,EAEnChB,EAAiBU,EAAKnB,EAAMR,EAAAA,kBAAkB,CAACkC,iBAAiB,CACxE,CAUO,SAASd,EAAwBhB,CAAc,QACpD,AAAKD,GAAAA,CAAD,CAACA,eAAAA,AAAe,EAACC,GAIdA,EAAMC,GAJgB,GAIV,CAACC,KAAK,CAAC,KAAKI,KAAK,CAAC,EAAG,CAAC,GAAGC,IAAI,CAAC,KAJb,IAKtC,CAEO,SAASQ,EAAyBf,CAAoB,EAC3D,GAAI,CAACD,GAAAA,EAAAA,eAAe,AAAfA,EAAgBC,GACnB,KAD2B,CACrB,OAAA,cAAiC,CAAjC,AAAIyB,MAAM,wBAAV,oBAAA,OAAA,mBAAA,gBAAA,CAAgC,GAGxC,OAAOzB,EAAMC,MAAM,CAACC,KAAK,CAAC,IAAK,EAAE,CAAC,EACpC,AADsC,CAG/B,SAASY,EAA+Bd,CAAoB,EACjE,GAAI,CAACD,GAAAA,EAAAA,eAAAA,AAAe,EAACC,GACnB,KAD2B,CACrB,OAAA,cAAiC,CAAjC,AAAIyB,MAAM,wBAAV,oBAAA,OAAA,mBAAA,gBAAA,CAAgC,GAGxC,OAAOd,OAAOX,EAAMC,MAAM,CAACC,KAAK,CAAC,KAAKO,EAAE,CAAC,CAAC,GAC5C,6XClGasB,qBAAqB,CAAA,kBAArBA,GAQAC,8BAA8B,CAAA,kBAA9BA,GAuCGC,kCAAkC,CAAA,kBAAlCA,GAPAC,2BAA2B,CAAA,kBAA3BA,GAnBAC,yBAAyB,CAAA,kBAAzBA,KArBT,IAAMJ,EAAwB,CACnCK,UAAW,IACXC,UAAW,IACXC,aAAc,GAChB,EAEMC,EAAgB,IAAIC,IAAIC,OAAOC,MAAM,CAACX,IAE/BC,EAAiC,2BAavC,SAASG,EACdnC,CAAc,EAEd,GACmB,UAAjB,OAAOA,GACG,OAAVA,GACA,CAAE,CAAA,WAAYA,CAAAA,CAAI,EACM,UAAxB,AACA,OADOA,EAAMC,MAAM,CAEnB,OAAO,EAET,GAAM,CAAC0C,EAAQC,EAAW,CAAG5C,EAAMC,MAAM,CAACC,KAAK,CAAC,KAEhD,OACEyC,IAAWX,GACXO,EAAcM,GAAG,CAAClC,OAAOiC,GAE7B,CAEO,SAASV,EACdlC,CAA8B,EAG9B,OAAOW,OADYX,AACL4C,EADW3C,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE,CAE/C,CAEO,SAAS+B,EACdzB,CAAc,EAEd,OAAQA,GACN,KAAK,IACH,MAAO,cACT,MAAK,IACH,MAAO,WACT,MAAK,IACH,MAAO,WACT,SACE,MACJ,CACF,+TCtCgBsC,WAAAA,qCAAAA,KAFhB,IAAMC,EAAU,GAAEf,EAjBX,CAAA,CAAA,IAAA,GAiBWA,8BAA8B,CAAC,OAE1C,SAASc,IAEd,IAAM9C,EAAQ,OAAA,cAAiB,CAAjB,AAAIyB,MAAMsB,GAAV,oBAAA,OAAA,mBAAA,gBAAA,CAAgB,EAG9B,OAFE/C,EAAkCC,MAAM,CAAG8C,EAEvC/C,CACR,sPCPO,SAASgD,IAEZ,MAAM,OAAA,cAEL,CAFK,AAAIvB,MACP,+GADG,oBAAA,OAAA,mBAAA,gBAAA,CAEN,EAOJ,0EAXgBuB,YAAAA,qCAAAA,KAFEhB,EAhBX,CAAA,CAAA,IAAA,GAgBWA,8BAA8B,GAAC,mPCG1C,SAASoB,IAEZ,MAAM,OAAA,cAEL,CAFK,AAAI3B,MACP,+GADG,oBAAA,OAAA,mBAAA,gBAAA,CAEN,EAOJ,0EAXgB2B,eAAAA,qCAAAA,KAFEpB,EAjBX,CAAA,CAAA,IAAA,GAiBWA,8BAA8B,GAAC,4TClBjCqB,aAAAA,qCAAAA,KAFhB,IAAMC,EAA8BC,OAAOC,GAAG,CAAC,kBAExC,SAASH,EAAWrD,CAAU,EACnC,MACmB,UAAjB,OAAOA,GACG,OAAVA,GACAA,EAAMyD,QAAQ,GAAKH,CAEvB,wGCGgBI,oBAAAA,qCAAAA,aART,CAAA,CAAA,IAAA,OAC6C,CAAA,CAAA,IAAA,GAO7C,SAASA,EACd1D,CAAc,EAEd,MAAOD,GAAAA,EAAAA,eAAAA,AAAe,EAACC,IAAUmC,CAAAA,EAAAA,EAAAA,yBAAyB,AAAzBA,EAA0BnC,EAC7D,+TCRgB2D,mBAAAA,qCAAAA,AAAT,SAASA,EAAiB3D,CAAc,EAC7C,GACE0D,CAAAA,EAAAA,EAAAA,iBAAAA,AAAiB,EAAC1D,IAClB4D,CAAAA,EAAAA,EAAAA,mBAAAA,AAAmB,EAAC5D,IACpB6D,CAAAA,EAAAA,EAAAA,oBAAAA,AAAoB,EAAC7D,IACrB8D,GAAAA,EAAAA,iBAAAA,AAAiB,EAAC9D,IAClBqD,CAAAA,EAAAA,EAAAA,UAAAA,AAAU,EAACrD,IACX+D,CAAAA,EAAAA,EAAAA,8BAAAA,AAA8B,EAAC/D,GAE/B,KADA,CACMA,EAGJA,aAAiByB,OAAS,UAAWzB,GACvC2D,EAAiB3D,EAD6B,AACvBgE,KAAK,CAEhC,aAtB+C,CAAA,CAAA,IAAA,OACpB,CAAA,CAAA,IAAA,OACS,CAAA,CAAA,IAAA,OACF,CAAA,CAAA,IAAA,MACA,CAAA,CAAA,IAAA,OACG,CAAA,CAAA,IAAA,wPCCpC,OAAA,cAAA,CAAA,EAAA,aAAA,oCACYL,mBAAAA,qCAAAA,KAAN,IAAMA,EAGLtC,EAAQ,CAAA,CAAA,IAAA,GACRsC,MAHN,OAAOvC,GAGe,GAEhBC,KALY,GAKJ,8BACRsC,gBAAgB,6LCdV,OAAA,cAAA,CAAA,EAAA,aAAA,kGAwCLM,uBAAuB,CAAA,kBAAvBA,GALAnE,YAAY,CAAA,kBAAZA,EAAAA,YAAY,EAEZkD,SAAS,CAAA,kBAATA,EAAAA,SAAS,EADTF,QAAQ,CAAA,kBAARA,EAAAA,QAAQ,EAFE7B,iBAAiB,CAAA,kBAAjBA,EAAAA,iBAAiB,EAA3BC,QAAQ,CAAA,kBAARA,EAAAA,QAAQ,EAIRkC,YAAY,CAAA,kBAAZA,EAAAA,YAAY,EAVLc,kCAAkC,CAAA,kBAAlCA,GAWPP,gBAAgB,CAAA,kBAAhBA,EAAAA,gBAAgB,YALmB,CAAA,CAAA,IAAA,OACf,CAAA,CAAA,IAAA,OACJ,CAAA,CAAA,IAAA,OACC,CAAA,CAAA,IAAA,OACG,CAAA,CAAA,IAAA,OACI,CAAA,CAAA,IAAA,EAtCjC,OAAMQ,UAAqC1C,MACzC2C,aAAc,CACZ,KAAK,CACH,0JAEJ,CACF,CAEA,MAAMH,UAAgCI,gBAEpCC,QAAS,CACP,MAAM,IAAIH,CACZ,CAEAI,QAAS,CACP,MAAM,IAAIJ,CACZ,CAEAK,KAAM,CACJ,MAAM,IAAIL,CACZ,CAEAM,MAAO,CACL,MAAM,IAAIN,CACZ,CACF,CAEO,SAASD,IACd,MAAM,OAAA,cAEL,CAFK,AAAIzC,MACR,wEADI,oBAAA,OAAA,mBAAA,eAAA,EAEN,EACF,gTGhCA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,0CWAA,IAAA,EAAA,EAAA,CAAA,CAAA,iEZDA,IAAA,EAAA,EAAA,CAAA,CAAA,OAGA,IAAM,EAAI,AAAC,IACT,IAAM,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,GACZ,OAAY,MAAL,IAAa,EAAE,GAAG,EAAG,EAAE,GAAG,EAAI,EAAE,GAAG,CAAG,KAAK,GAAG,GAAK,GAC5D,EAAG,CAD+D,CAAC,AAC5D,MAAO,CACZ,MAAO,CAAC,CACT,IACC,GAAI,CAAC,GAAiB,UAAZ,OAAO,EACf,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,oDAAqD,CAAC,EAC9F,GAAI,CAAC,CAAC,MAAM,CAAA,EAAA,EAAA,aAAA,AAAC,EAAC,CACZ,MAAO,EACP,OAAQ,EAAA,MAAC,CAAC,SAAS,AACrB,EAAA,CAAE,CAAE,KAAK,CACP,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,gCAAiC,CAAC,EAC1E,IAAM,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,GACZ,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CACjC,CAAC,kDAAkD,EAAE,EAAE,GAAG,CAAG,KAAK,GAAG,GAAK,IAAI,QAAQ,CAAC,EACtF,EAAE,GAAG,GAAK,EAAA,MAAC,CAAC,SAAS,GAAG,AAAC,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,iCAAkC,EAAC,CAChG,AADiG,EYhB3F,EAAI,AZgB2F,CAAC,KYhBrF,EAAG,KAClB,GAAI,CACF,IAAM,EAAI,MAAM,CAAC,MAAM,CAAA,EAAA,EAAA,cAAC,AAAD,EAAE,EAAG,EAAA,CAAE,CAAE,cAAc,CAAC,gBAC/C,OAAO,AAAC,GAAiB,UAAZ,CAAuB,MAAhB,EAET,MAAM,EAAE,CACjB,MAAO,CACT,GAAK,GAAK,CAAD,CAAC,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,iCAAkC,IAAA,CAAI,EAJ1C,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,IAAI,CAChE,0EACC,IAAA,CAGL,AAHS,CAGP,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,iBAAkB,GAAI,IAC9D,CACF,gBbdA,IAAA,EAAA,EAAA,CAAA,CAAA,OyBGA,CzBDA,GyBCM,EAAI,AAAC,IACT,GAAI,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,KzBFgB,iDyBEuC,CAAC,EAAG,CAC1F,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,qDAC7B,MACF,CACA,GAAI,CAAC,EAAE,GAAI,CACT,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAC1B,iEAEF,MACF,CACA,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAC1B,qEACC,CAAA,EAAA,EAAA,QAAA,AAAC,EAAC,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,KAAK,CAAA,CAAE,CAChC,EjBhBA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,IAAM,EAAI,CAAC,EAAG,IAAM,MAAO,EAAG,EAAG,KAC/B,GAAI,CACF,IAAM,EAAI,MAAM,EAAA,WAAC,CAAC,aAAa,CAC7B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,gBACA,gBACC,EAAI,MAAM,EAAA,WAAC,CAAC,aAAa,CAC1B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,yBACA,gBACC,EAAI,CACL,GAAG,CAAC,CACJ,GAAG,CAAC,AACN,CAAC,CAAC,EAAE,CACJ,GAAI,CAAC,GAAW,KAAK,IAAX,EACR,MAAM,AAAI,MACR,CAAC,KAAK,EAAE,EAAE,sDAAsD,CAAC,EAErE,GAAS,MAAL,GAAa,EAAE,CAAC,EAAI,GAAK,KAAY,CAAN,KAAC,EAAY,KAAK,EAAI,GAAE,AAAC,EAC1D,MAAM,AAAI,MACR,CAAC,KAAK,EAAE,EAAE,YAAY,EAAE,EAAA,YAAC,CAAC,EAAE,CAAC,CAAC,CAAC,mBAAmB,EAAE,EAAA,YAAC,CAAC,EAAE,CAAA,CAAE,EAE9D,IAAM,EAAI,CAAC,AAAK,QAAO,KAAK,EAAI,GAAE,AAAC,IAAM,KAAK,EAC9C,MAAO,CACL,WAAY,EACZ,MAAO,CAAM,MAAL,EAAY,KAAK,EAAI,GAAE,AAAC,IAAM,KAAK,EAAI,EAAS,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CAC3E,KAAM,EACN,KAAM,KAAI,EAAA,YAAC,CAAC,CAAC,AAAK,QAAO,KAAK,EAAI,GAAE,AAAC,GAAK,EAAE,CAC5C,EAD+C,CAAC,UAClC,CAChB,CACF,CAAE,MAAO,EAAG,CACV,GAAI,EAAE,OAAO,CAAC,QAAQ,CAAC,sCACrB,MAAM,EACR,MAAO,CAAE,MAAO,CAAE,CACpB,CACF,ELtCA,EAAA,CAAA,CAAA,MAEA,IAAA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,CAAA,CAAA,uCkBFA,IAAM,EAAI,MAAO,EAAG,KAElB,GAAI,CACF,IAAM,EAAI,MAAM,CAAC,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,EAAA,CAAE,CAAE,cAAc,CAAC,AAFvC,YAGR,OAAO,AAAC,GAAiB,UAAZ,CAAuB,MAAhB,EAET,MAAM,EAAE,CACjB,MAAO,CACT,GAAK,GAAK,CAAD,CAAC,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,6BAA8B,IAAA,CAAI,EAJtC,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,IAAI,CAChE,sEACC,IAAA,CAAI,AAGT,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,aAAc,GAAI,IAC1D,CACF,EjBfM,EAAI,AAAC,GAAM,OAAO,WAAW,CACjC,OAAO,OAAO,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,EAAG,EAAE,GAAK,AAAM,KAAK,gDMAlD,IAAM,EAAI,CAAC,EAAG,KACZ,IAAM,EAAI,CACR,GAAI,EAAE,GAAG,CACT,MAAO,EAAE,KAAK,CACd,YAAa,EAAE,WAAW,CAC1B,WAAY,EAAE,UAAU,CACxB,QAAS,EAAE,OAAO,CAClB,SAAU,EAAE,kBAAkB,CAC9B,aAAc,EAAE,YAAY,AAC9B,EACI,EAAI,EACF,EAAI,EAAE,eAAe,EAAI,CAAC,CAAC,2BAA2B,EAAI,CAAC,EAAG,EAAI,EAAE,eAAe,EAAI,CAAC,CAAC,2BAA2B,EAAI,CAAC,EAAG,EAAI,CAAE,GAAG,CAAC,CAAE,GAAG,CAAC,AAAC,CAC5I,EACL,GAAM,CACJ,YAAa,CAAC,CACd,gBAAiB,CAAC,CAClB,2BAA4B,CAAC,CAC7B,iBAAkB,CAAC,CACnB,mBAAoB,CAAC,CACrB,gBAAiB,CAAC,CAClB,kBAAmB,CAAC,CACpB,oBAAqB,CAAC,CACtB,sBAAuB,CAAC,CACxB,wBAAyB,CAAC,CAC3B,CAAG,EAAG,EAAI,OAAO,IAAI,CAAC,GAAG,MAAM,CAC9B,CAAC,EAAG,KACF,IAAI,EACJ,OAAO,CAAC,CAAC,EAAE,CAAG,AAAc,OAAb,EAAI,CAAC,CAAC,EAAE,AAAF,EAAc,KAAK,EAAI,EAAE,CAAC,CAAE,CACnD,EACA,CAAC,GAEH,EAAI,CACF,GAAG,EAAE,EAAE,CACP,WAAY,EAAE,CACZ,KAAM,AAAK,QAAO,KAAK,EAAI,EAAE,CAAC,CAC9B,SAAe,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CAClC,oBAA0B,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CAC7C,UAAgB,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CACnC,YAAkB,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CACrC,SAAe,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CAClC,WAAY,AAAK,QAAO,KAAK,EAAI,EAAE,CAAC,CACpC,aAAmB,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CACtC,eAAgB,AAAK,QAAO,KAAK,EAAI,EAAE,CAAC,CACxC,iBAAuB,MAAL,EAAY,KAAK,EAAI,EAAE,CAAC,CAC1C,GAAG,CAAC,AACN,EACF,CACF,CACA,OAAO,CACT,EkB7CM,EAAI,CAAC,EAAG,IAAM,UAClB,GAAI,CACF,IAAM,EAAI,MAAM,EAAE,EAAG,GACrB,GAAI,CAAC,EACH,OAAO,KACT,IAAM,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,GAAI,EAAI,MAAM,EAAE,EAAG,GAC/B,GAAI,CAAC,EACH,OAAO,KACT,IAAM,EAAI,CAAA,EAAA,EAAA,UAAC,AAAD,EAAE,GACZ,OAAO,EAAE,EAAG,EACd,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,UAAW,GAAI,IACvD,CACF,EbhBA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,4BekBA,IAAM,EAAI,CAAC,EAAG,IAAO,CAAD,CAOlB,cAAe,UACb,GAAI,CACF,OAAO,MAAM,EAAA,WAAC,CAAC,aAAa,CAC1B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GAEf,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,EACA,e5BhCkB,C4BgCF,S5B/BhB,GAAI,CACF,IAAM,EAAI,MAAM,E4B8BA,A5B9BE,E4B8BC,C5B9BE,EACrB,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CACjC,+DACC,EAAE,GAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,EACb,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,E4BwBE,eZnCkB,CYmCF,KZnCS,EAAG,KAC5B,GAAI,CACF,MAAO,CAAC,MAAM,EAAE,AYiCA,EAAG,CZjCA,EAAG,EAAG,EAAG,IAAA,CAAI,CAAE,KAAK,AACzC,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,EY8BE,QAAS,EAAE,EAAG,GACd,W3B9BkB,C2B8BN,S3B7BZ,GAAI,CACF,IAAM,EAAI,MAAM,EAAE,A2B4BN,EAAG,C3B5BM,EACrB,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,2DAA4D,EAAE,GAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,EAC1G,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,E2BwBE,clBvCkB,CkBuCH,QlBvCe,MAAM,CAAC,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,AkBuC5B,EAAG,ClBvC4B,CAAA,CAAE,CAAE,cAAc,CAAC,YkBwCnE,kBnBxCkB,CmBwCC,QnBxCW,MAAM,CAAC,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,AmBwCxB,EAAG,CnBxCwB,CAAA,CAAE,CAAE,cAAc,CAAC,gBmByCnE,eXxCkB,CWwCF,KXxCS,EAAG,KAC5B,GAAI,CACF,MAAO,CAAC,MAAM,EAAE,AWsCA,EAAG,CXtCA,EAAG,EAAG,EAAG,IAAA,CAAI,CAAE,KAAK,AACzC,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,EWmCE,gBHtCQ,AGsCS,EHtCR,EAAG,IAAM,UAClB,GAAI,CACF,IAAM,EAAI,MAAM,CAAC,MAAM,CAAA,EAAA,EAAA,cAAC,AAAD,EAAE,EAAG,EAAA,CAAE,CAAE,cAAc,CAAC,YAC/C,GAAI,CAAC,EACH,MAAM,AAAI,MAAM,uBAClB,IAAM,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,GAAI,EAAI,MAAM,EAAE,EAAG,GAAI,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,GACzC,MAAO,ClBUJ,CAAC,EAAG,KACT,IAAM,EAAI,EAAE,QAAQ,EAAI,CAAC,CAAC,oBAAoB,CAAE,EAAI,EAAE,QAAQ,EAAI,CAAC,CAAC,oBAAoB,CACxF,OAAO,EAAI,CACT,QAAS,EACT,QAAS,EACT,WAAY,CAzBN,CAAC,EAAG,KACZ,IAAM,EAAI,EAAE,uBAAuB,EAAI,CAAC,CAAC,mCAAmC,EAAI,CAAC,EAAG,EAAI,EAAE,uBAAuB,EAAI,CAAC,CAAC,mCAAmC,EAAI,CAAC,EAAG,EAAI,CACpK,GAAG,CAAC,CACJ,GAAG,CAAC,AACN,EAAG,EAAI,CAAC,EAeR,OAdA,OAAO,IAAI,CAAC,GAAG,OAAO,CAAC,AAAC,IACX,MAAX,CAAC,CAAC,EAAE,CAAC,CAAC,EAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAE,CAAC,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,CAAC,CAAC,AACzC,GAYO,EAXG,AAWD,CARP,KAAM,EAAE,WAAW,CACnB,SAAU,EAAE,eAAe,CAC3B,SAAU,EAAE,eAAe,CAC3B,aAAc,EAAE,mBAAmB,CACnC,eAAgB,EAAE,qBAAqB,CACvC,iBAAkB,EAAE,uBAAuB,CAC3C,GAAG,CAAC,AACN,EAEF,GAAG,AAKe,EAAG,EACnB,EAAI,KACN,EkBjBa,EAAG,EACd,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,EACF,EG4BqB,EAAG,GACtB,cAAe,CNzCP,CAAC,EAAG,IAAM,MAAO,IACzB,GAAI,CACF,IAAM,EAAI,MAAM,EAAA,WAAC,CAAC,aAAa,CAC7B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,GAEF,MAAO,CAAC,EAAE,SAAS,EAAI,AAAC,OAAM,EAAA,WAAC,CAAC,aAAa,CAC3C,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,uBAAA,CACD,CAAE,QAAQ,CAAC,GAAK,CAAE,UAAW,CAAC,EAAG,QAAS,EAAE,OAAO,AAAC,EAAI,CAC3D,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,EACF,EM4BmB,EAAG,GACpB,eAAgB,CV1CR,CAAC,EAAG,IAAM,UAClB,GAAI,CACF,IAAM,EAAI,MAAM,EAAA,WAAC,CAAC,cAAc,CAC9B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,IAEb,OAAO,EAAE,WAAW,CAAG,EAAI,CACzB,YAAa,MAAM,EAAA,WAAC,CAAC,aAAa,CAChC,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,wBAEF,QAAS,MAAM,EAAA,WAAC,CAAC,aAAa,CAC5B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,oBAEJ,CACF,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,EACF,EUwBoB,EAAG,GACrB,chB5CkB,CgB4CH,KhB5CU,EAAG,KAC5B,GAAI,CACF,MAAO,CAAC,MAAM,EAAE,AgB0CD,EAAG,ChB1CC,EAAG,EAAG,EAAG,IAAA,CAAI,CAAE,KAAK,AACzC,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,EgBuCE,QAAS,EAAE,EAAG,GACd,qBJ7CkB,CI6CI,SJ5CtB,GAAI,CACF,IAAM,EAAI,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,AI2CI,EAAG,CJ3CJ,EAAI,EAAI,MAAM,EAAA,WAAC,CAAC,oBAAoB,CAAC,GAAI,EAAI,MAAM,EAAA,WAAC,CAAC,aAAa,CACrF,EACA,gBACA,aACG,EAAE,CAAE,EAAI,MAAM,EAAA,WAAC,CAAC,aAAa,CAChC,EACA,yBACA,aACG,EAAE,CAAE,EAAI,IAAI,KAAM,EAAE,CAAE,EAAI,MAAM,EAAA,WAAC,CAAC,aAAa,CAClD,EACA,qBACA,aACG,EAAE,CAAE,EAAI,IAAI,EAAE,CAAC,GAAG,CAAC,AAAC,IAAM,AAAC,CAC9B,KAAW,MAAL,EAAY,KAAK,EAAI,EAAE,EAAE,CAC/B,KAAW,MAAL,EAAY,KAAK,EAAI,EAAE,IAAI,AACnC,CAAC,GAAI,EAAI,CACP,SAAU,IAAI,EAAE,QAAQ,IAAK,EAAE,CAC/B,KAAM,CACR,EACA,OAAO,EAAE,MAAM,CAAG,GAAK,QAAQ,IAAI,CACjC,oEACC,CACL,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,6BAA8B,GAAI,IAC1E,CACF,EImBE,gBAAiB,CD1CT,CAAC,EAAG,IAAM,UAClB,IAAM,EAAI,MAAM,EAAE,EAAG,EACrB,GAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,gEAAiE,EAAE,GAChG,IAAM,EAAI,MAAM,EAAE,EAAG,KACrB,OAAO,GAAK,CAAC,CAAC,EAChB,ECqCqB,EAAG,GACtB,SAAU,CR/CF,CAAC,EAAG,IAAM,UAClB,GAAI,CAKF,OAAO,AAJG,MAAM,EAAA,WAAC,CAAC,aAAa,CAC7B,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,EAAG,GACX,UAEU,MAAM,EAAA,WAAC,CAAC,aAAa,CAC/B,MAAM,CAAA,EAAA,EAAA,cAAC,AAAD,EAAE,EAAG,GACX,iBAEJ,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,EACF,EQkCc,EAAG,GACf,SPhDkB,COgDR,KPhDe,EAAG,KAC5B,GAAI,CACF,OAAO,MAAM,EAAA,WAAC,CAAC,QAAQ,CACrB,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,AO6CA,EAAG,CP7CA,EACX,EACA,EAEJ,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,EOuCE,gBfjDkB,CeiDD,SfhDjB,GAAI,CACF,IAAM,EAAI,MAAM,EAAE,Ae+CD,EAAG,Cf/CC,EACrB,GAAI,CAAC,EACH,OAAO,KACT,IAAM,EAAI,IAAI,EAAA,aAAC,CACf,CAAA,EAAA,EAAA,gBAAA,AAAC,EAAC,GAAI,MAAM,EAAE,cAAc,CAAC,EAAA,WAAC,CAAC,WAAW,CAAE,GAC5C,IAAM,EAAI,MAAM,CAAA,EAAA,EAAA,CAAA,AAAC,IACjB,MAAO,CAAA,EAAA,EAAA,CAAA,AAAC,IAAI,EAAE,cAAc,GAAI,CAClC,CAAE,MAAO,EAAG,CACV,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,IAC5C,CACF,EesCA,CAAC,+BzBrDD,IAAA,EAAA,EAAA,CAAA,CAAA,OWEA,IAAM,EAAI,IAAM,CAAC,CACf,OAAQ,EAAA,gBAAC,CACT,OAAQ,EAAA,MAAC,CAAC,YAAY,CAAG,EAAA,MAAC,CAAC,YAAY,CAAG,KAAK,EAC/C,GAAG,EAAA,qBAAC,CACN,CAAC,CCJD,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,IAAM,EAAI,CAAC,EAAG,IAAM,CAAA,EAAA,EAAA,WAAA,AAAC,EAAC,EAAG,EAAA,iBAAC,EAAE,GAAG,CAAC,CAAC,EAAG,IAAM,CAAC,CACzC,KAAM,GAAK,AAAM,EAAP,IAAW,IAAK,CAAC,CAC3B,MAAO,EACP,QAAS,GACX,CAAC,GXPD,IAAA,EAAA,EAAA,CAAA,CAAA,ODYA,IAAM,EAAI,MAAO,EAAG,EAAG,KACrB,GAAM,CAAE,SAAU,CAAC,CAAE,OAAQ,CAAC,CAAE,CAAG,EAAE,OAAO,CAAE,EAAS,MAAL,EAAY,KAAK,EAAI,EAAE,qBAAqB,CAAE,EAAS,MAAL,EAAY,KAAK,EAAI,EAAE,OAAO,CAAE,EAAI,CAAC,AAAK,QAAO,KAAK,EAAI,EAAE,SAAA,AAAS,GAAK,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,KAAK,CAAA,CAAE,CAAE,EAAI,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAE,EAAI,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,QAAQ,CAAA,CAAE,CAAE,EAAI,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,KAAK,CAAA,CAAE,CAC3S,GAAI,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACrC,OAAO,EAAA,YAAC,CAAC,IAAI,GACf,IAAI,EAAI,CAAC,SAAU,eAAe,AAClC,EAAM,MAAL,EAAY,KAAK,EAAI,EAAE,WAAA,AAAW,IAAM,KAAK,GAAK,MAAM,OAAO,CAAM,MAAL,EAAY,KAAK,EAAI,EAAE,WAAW,IAAM,CAAD,CAAK,EAAE,WAAA,AAAW,EAC1H,IAAM,EAAI,IAAI,gBACd,GAAK,EAAE,GAAG,CAAC,WAAY,GAAI,GAAK,EAAE,GAAG,CAAC,0BAA2B,EAAI,GACrE,IAAM,EAAI,EAAE,QAAQ,GAAI,EAAI,EAAI,CAAA,EAAG,EAAE,CAAC,EAAE,EAAA,CAAG,CAAG,EAAG,EEpBnD,AFoBuD,SEpB9C,AAAE,CAAC,CAAE,CAAC,CAAE,EAAI,CAAC,CAAC,EACrB,OAAO,EAAE,IAAI,CAAE,AAAD,IACZ,GAAI,CACF,OAAO,aAAa,OAAS,EAAE,IAAI,GAAK,OAAO,SAAS,CAAC,IAAI,CAAG,EAAE,IAAI,CAAC,GAAK,IAAI,OAAO,EAAE,MAAM,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,GAAW,MAAN,EAAkB,MAAN,EAAY,EAAE,UAAU,CAAC,EAC3J,CAAE,MAAO,EAAG,CACV,OAAO,GAAK,QAAQ,KAAK,CACvB,0DACA,GACC,CAAC,CACN,CACF,EACF,EFUI,EACA,EACA,EAAA,MAAC,CAAC,WAAW,EAEX,EAAI,MAAM,EAAE,GAAI,EAAI,MAAM,EAAE,GAChC,GAAI,CAAC,CAAC,GAAK,CAAC,CAAA,CAAC,EAAK,CAAC,EACjB,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CACjC,+DACC,EAAA,YAAC,CAAC,QAAQ,CACX,IAAI,IAAI,EAAG,CAAC,AAAK,QAAO,KAAK,EAAI,EAAE,eAAA,AAAe,GAAK,EAAA,MAAC,CAAC,WAAW,GAExE,IAAM,EAAI,MAAM,CAAA,EAAA,EAAA,cAAA,AAAC,EAAC,GACd,EAAI,KACF,EAAI,EAAA,YAAC,CAAC,IAAI,GAChB,GAAI,EAAE,IAAM,EAAE,GAAI,CAChB,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,oDAC7B,IAAM,EAAI,AAAC,IACT,GAAI,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CAAC,GAAI,CAAC,EACtC,OAAO,EAAA,YAAC,CAAC,QAAQ,CACf,IAAI,IACF,EACA,CAAM,MAAL,EAAY,KAAK,EAAI,EAAE,eAAe,AAAf,GAAoB,EAAA,MAAC,CAAC,WAAW,EAGjE,EACA,GAAI,CACF,AAAkC,EAAI,GAAlC,MAAM,EAAA,WAAC,CAAC,aAAa,CAAC,EAAG,CAAC,EAAA,EAAU,YAAY,CAAE,EAAI,EAAE,QAAQ,CAAE,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAChG,mCACA,CAAC,CAAC,EAAE,YAAY,CAChB,CAAC,CAAC,EAAE,QAAQ,CAEhB,CAAE,KAAM,CACN,IAAM,EAAI,EAAE,2CACZ,GAAI,EAAG,OAAO,CAChB,CACA,GAAI,CACF,EACE,eACA,EAAE,YAAY,EACd,OAAO,CAAC,AAAC,IACT,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAE,EAAE,KAAK,CAAE,EAAE,OAAO,CAC1C,GAAI,EACF,WACA,EAAE,QAAQ,EACV,OAAO,CAAC,AAAC,IACT,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAE,EAAE,KAAK,CAAE,EAAE,OAAO,CAC1C,GAAI,EAAE,OAAO,CAAC,GAAG,CACf,gBACA,EAAE,aAAa,CACf,KACC,CCrEC,CAAC,EAAG,KACZ,IAAM,EAAI,IAAI,EAAA,eAAC,CAAC,EAAE,OAAO,EAAG,EAAI,IAAI,QAAQ,EAAE,OAAO,EAAG,EAAI,IAAI,EAAA,cAAC,CAAC,EAClE,GAAE,MAAM,GAAG,OAAO,CAAC,AAAC,GAAM,EAAE,GAAG,CAAC,IAAK,EAAA,YAAC,CAAC,IAAI,CAAC,CAAE,QAAS,CAAE,QAAS,CAAE,CAAE,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,EAAG,KAC3F,CAAO,AAAN,qCAAyC,EAAE,UAAU,CAAC,wBAAA,CAAwB,EAAK,EAAE,OAAO,CAAC,GAAG,CAAC,EAAG,EACvG,EACF,GDgEW,EAAG,GAAI,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,uDAC3C,CAAE,KAAM,CACN,IAAM,EAAI,EACR,sDAEF,GAAI,EAAG,OAAO,CAChB,CACF,CACA,GAAI,EACF,OAAO,EACT,IAAI,EAAI,KAAM,EAAI,KAClB,GAAI,CACF,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,EACR,CAAE,KAAM,CACN,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CACnC,oEACC,EAAA,YAAC,CAAC,QAAQ,CACX,IAAI,IAAI,EAAG,CAAC,AAAK,QAAO,KAAK,EAAI,EAAE,eAAA,AAAe,GAAK,EAAA,MAAC,CAAC,WAAW,EAExE,CACA,GAAI,CACF,EAAI,CAAA,EAAA,EAAA,UAAA,AAAC,EAAC,EACR,CAAE,KAAM,CACN,OAAO,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,KAAK,CACnC,gEACC,EAAA,YAAC,CAAC,QAAQ,CACX,IAAI,IAAI,EAAG,CAAM,MAAL,EAAY,KAAK,EAAI,EAAE,eAAA,AAAe,GAAK,EAAA,MAAC,CAAC,WAAW,EAExE,CACA,IAAM,EAAS,MAAL,IAAa,EAAE,YAAY,EAAG,EAAE,YAAY,CAAC,CAAE,IAAK,EAAG,MAAO,CAAE,GAC1E,EAD+E,CAAC,AAC5E,GAAK,EAAG,CACV,EAAA,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,+CAC7B,IAAM,EAAI,MAAM,EAAE,CAChB,MAAO,EACP,KAAM,CACJ,YAAa,EAAE,WAAW,CAC1B,WAAY,EAAE,UAAU,CACxB,MAAO,EAAE,KAAK,CACd,GAAI,EAAE,GAAG,CACT,QAAS,EAAE,OAAO,AACpB,CACF,GACA,OAAO,aAAa,EAAA,YAAC,EAAI,CAAD,CAAC,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CACnD,qFACC,EAAE,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,AAAC,IAC7B,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAE,EAAE,KAAK,CAAE,CAC7B,GAAG,CAAC,AACN,EACF,GAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,EAAG,KACxB,EAAE,OAAO,CAAC,GAAG,CAAC,EAAG,EACnB,IAAI,CAAC,EAAK,EAAD,AAAC,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CACpC,yFACC,CAAC,AACN,CACA,OAAO,EAAK,EAAD,CAAC,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CACtC,sEACC,CAAC,EAAK,EAAD,AAAC,MAAC,CAAC,WAAW,EAAI,QAAQ,GAAG,CAAC,2DAA4D,EAAA,YAAC,CAAC,QAAQ,CAC1G,IAAI,IAAI,EAAG,CAAM,MAAL,EAAY,KAAK,EAAI,EAAE,eAAA,AAAe,GAAK,EAAA,MAAC,CAAC,WAAW,EAAA,CACrE,AACH,EACA,SAAS,EAAG,GAAG,CAAC,EACd,GAAI,CAAC,EAAE,MAAM,EAAI,CAAC,CAAC,EAAE,WAAY,QAC/B,OAAO,KAAK,GACd,GAAmB,AAAf,mBAAO,CAAC,CAAC,EAAE,CAAgB,CAC7B,IAAM,EAAI,CAAC,CAAC,EAAE,CAAE,EAAI,CAAC,CAAC,EAAE,CACxB,OAAO,MAAO,GAAG,IAAM,MAAM,EAAE,CAAC,CAAC,EAAE,CAAE,EAAG,MAAO,CAAE,MAAO,CAAC,CAAE,KAAM,CAAC,CAAE,GAAK,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAG,CAAE,MAAO,EAAG,KAAM,CAAE,EAAG,MAAM,KAAK,EAAA,CAAE,CACjI,CACA,IAAM,EAAI,CAAC,CAAC,EAAE,CACd,OAAO,MAAO,GAAG,IAAM,MAAM,EAAE,CAAC,CAAC,EAAE,CAAE,EACvC,8E0B5IA,IAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,SAAS,EAAE,CACT,SAAU,CAAC,CACX,QAAS,CAAC,CACV,qBAAsB,CAAC,CACvB,cAAe,CAAC,CAChB,GAAG,EACJ,EACC,IAAI,EAAI,IAAI,gBAAmB,EAAI,CAAC,EAEpC,IAAK,IAAM,KADN,AACW,MADhB,EAAa,EAAC,EAAE,QAAQ,EAAG,CAAC,CAAQ,MAAL,EAAa,EAAC,EAAE,uBAAuB,EAAG,CAAC,CAAG,EAAI,CAAE,GAAG,CAAC,CAAE,GAAG,CAAE,AAAD,EAC1E,EAAE,MAAM,CAAC,EAAG,CAAC,CAAC,EAAE,EACnC,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAC,EACtB,IADkB,AAElB,CACE,KAAM,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,QAAQ,CAAA,EAAG,EAAI,CAAC,CAAC,EAAE,EAAE,QAAQ,GAAA,CAAI,CAAG,GAAA,CAAI,CAChE,GAAG,CAAC,CACJ,SAAU,CACZ,EAEJ,CClBA,SAAS,EAAE,CACT,SAAU,CAAC,CACX,qBAAsB,CAAC,CACvB,QAAS,CAAC,CACV,cAAe,CAAC,CAChB,GAAG,EACJ,EACC,IAAM,EAAI,IAAI,gBACV,EAAI,CAAC,EAET,IAAK,IAAM,KADN,AACW,MADhB,EAAa,EAAC,EAAE,QAAQ,EAAG,CAAC,CAAQ,MAAL,EAAa,EAAM,MAAL,GAAa,EAAE,UAAU,CAAC,OAAS,CAAD,CAAK,CAAA,EAAG,AAA+C,QAAQ,GAAG,CAAC,EAA3C,MAAM,MAAmD,CAA5C,AAA4C,EAAG,EAAA,CAAA,AAAG,EAAG,CAA7C,CAA+C,AAA9C,MAAM,iBAA+D,EAAG,CAAC,CAAG,EAAI,CAAE,GAAG,CAAC,CAAE,GAAG,CAAC,AAAC,EACvM,EAAE,MAAM,CAAC,EAAG,CAAC,CAAC,EAAE,EACnC,IAAM,EAAI,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,KAAK,CAAA,EAAG,EAAI,CAAC,CAAC,EAAE,EAAE,QAAQ,GAAA,CAAI,CAAG,GAAA,CAAI,CACjE,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAC,EAAC,IAAL,AAAU,CAAE,KAAM,EAAG,GAAG,CAAC,CAAE,SAAU,CAAE,EAC7D,CCbA,SAAS,EAAE,CAAE,SAAU,CAAC,CAAE,sBAAuB,CAAC,CAAE,GAAG,EAAG,EACxD,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAC,EACtB,IACA,AAFkB,CAGhB,KAAM,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,MAAM,CAAA,EAAG,EAAI,CAAC,0BAA0B,EAAE,EAAA,CAAG,CAAG,GAAA,CAAI,CAC5E,GAAG,CAAC,CACJ,SAAU,CACZ,EAEJ,CCTA,SAAS,EAAE,CAAE,SAAU,CAAC,CAAE,QAAS,CAAC,CAAE,GAAG,EAAG,EAC1C,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAC,EACtB,IACA,AAFkB,CAGhB,KAAM,CAAA,EAAG,EAAA,MAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAA,MAAC,CAAC,SAAS,CAAA,EAAG,EAAI,CAAC,UAAU,EAAE,EAAA,CAAG,CAAG,GAAA,CAAI,CAC/D,GAAG,CAAC,CACJ,SAAU,CACZ,EAEJ,+ICXA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,MACA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OCPA,EAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,MAEA,EAAA,CAAA,CAAA,OCFA,EAAA,CAAA,CAAA,OQAA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,MACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,OENA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OCAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA,kBAAA,EAAA,CAAA,CAAA,OGFA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,MdYG,EAAA,MAAC,CAAC,SAAS,CAAC,AACZ,EADc,AACd,MAAC,CAAC,QAAQ,CAAC,AACX,EADa,AACb,MAAC,CAAC,KAAK,CAAC,AACR,EADU,AACV,MAAC,CAAC,KAAK,CAAC,AACR,EADU,AACV,MAAC,CAAC,MAAM,CAAC,AACT,EADW,AACX,MAAC,CAAC,MAAM,CAAC,AACT,EADW,AACX,MAAC,CAAC,MAAM,CAAC,AiBlBZ,EjBkBc,AiBlBd,CAAA,CAAA,OAAA,EAAA,CAAA,CAAA","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66]}