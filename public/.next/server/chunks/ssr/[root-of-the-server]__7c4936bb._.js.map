{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/840%20G3/7th%20semester/FSPM/Trackly/Trackly/lib/schema.ts"],"sourcesContent":["import {z} from \"zod\"\r\n\r\nexport const userSchema = z.object({\r\n    name:z.string().min(2, \"Name is required\").max(50, \"Maximum is 50 characters\"),\r\n    about: z.string().optional(),\r\n    country: z.string().min(1, \"Country is required\"),\r\n    industryType: z.string().min(1, \"Industry type is required\"),\r\n    //email: z.string().email(\"Invalid email address\"),\r\n    email: z.email(\"Invalid email address\"),\r\n    role: z.string().min(1, \"Role is required\"),\r\n    image: z.string().optional(),\r\n})\r\n\r\nexport const workspaceSchema = z.object({\r\n    name:z\r\n    .string()\r\n    .min(2, \"Name is required\")\r\n    .max(50, \"Maximum is 50 characters\"),\r\n    description: z.string().optional(),\r\n})\r\n\r\nexport const projectSchema = z.object({\r\n    name:z\r\n    .string()\r\n    .min(3,{message:\"Project name must be at least 3 characters.\"}),\r\n    description: z.string().optional(),\r\n    workspaceId: z.string(),\r\n    memberAccess: z.array(z.string()).optional(),\r\n})\r\nexport const taskFormSchema = z.object({\r\n    title: z.string().min(1, \"Title is Required\"),\r\n    description: z.string().optional(),\r\n    assigneeId: z.string().optional(),\r\n    status: z.enum([\r\n        \"TODO\",\r\n        \"IN_PROGRESS\",\r\n        \"COMPLETED\",\r\n        \"BLOCKED\",\r\n        \"BACKLOG\",\r\n        \"IN_REVIEW\",\r\n    ]),\r\n    dueDate:z.date(),\r\n    startDate:z.date(),\r\n    priority:z.enum([\"LOW\",\"MEDIUM\",\"HIGH\",\"CRITICAL\"]),\r\n    attachments:z\r\n    .array(\r\n        z.object({\r\n            name:z.string(),\r\n            url:z.string(),\r\n            type:z.enum([\"IMAGE\",\"PDF\"]),\r\n        })\r\n    )\r\n    .optional(),\r\n})"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,aAAa,kLAAC,CAAC,MAAM,CAAC;IAC/B,MAAK,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,oBAAoB,GAAG,CAAC,IAAI;IACnD,OAAO,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,SAAS,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC3B,cAAc,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAChC,mDAAmD;IACnD,OAAO,kLAAC,CAAC,KAAK,CAAC;IACf,MAAM,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,kLAAC,CAAC,MAAM,GAAG,QAAQ;AAC9B;AAEO,MAAM,kBAAkB,kLAAC,CAAC,MAAM,CAAC;IACpC,MAAK,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG,oBACP,GAAG,CAAC,IAAI;IACT,aAAa,kLAAC,CAAC,MAAM,GAAG,QAAQ;AACpC;AAEO,MAAM,gBAAgB,kLAAC,CAAC,MAAM,CAAC;IAClC,MAAK,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAE;QAAC,SAAQ;IAA6C;IAC7D,aAAa,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,aAAa,kLAAC,CAAC,MAAM;IACrB,cAAc,kLAAC,CAAC,KAAK,CAAC,kLAAC,CAAC,MAAM,IAAI,QAAQ;AAC9C;AACO,MAAM,iBAAiB,kLAAC,CAAC,MAAM,CAAC;IACnC,OAAO,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,aAAa,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,YAAY,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,QAAQ,kLAAC,CAAC,IAAI,CAAC;QACX;QACA;QACA;QACA;QACA;QACA;KACH;IACD,SAAQ,kLAAC,CAAC,IAAI;IACd,WAAU,kLAAC,CAAC,IAAI;IAChB,UAAS,kLAAC,CAAC,IAAI,CAAC;QAAC;QAAM;QAAS;QAAO;KAAW;IAClD,aAAY,kLAAC,CACZ,KAAK,CACF,kLAAC,CAAC,MAAM,CAAC;QACL,MAAK,kLAAC,CAAC,MAAM;QACb,KAAI,kLAAC,CAAC,MAAM;QACZ,MAAK,kLAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;SAAM;IAC/B,IAEH,QAAQ;AACb","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///D:/840%20G3/7th%20semester/FSPM/Trackly/Trackly/app/actions/project.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport { ProjectDataType } from \"@/components/project/create-project-form\"\r\nimport { userRequired } from \"../data/user/is-user-authenticated\"\r\nimport { db } from \"@/lib/db\"\r\nimport { projectSchema } from \"@/lib/schema\"\r\n\r\nexport const createNewProject = async (data: ProjectDataType) => {\r\n    const {user} = await  userRequired()\r\n\r\n    const workspace = await db.workspace.findUnique({\r\n        where:{id:data?.workspaceId},\r\n        include:{\r\n            projects:{select :{id:true}},\r\n        }\r\n    })\r\n\r\n    const validateData = projectSchema.parse(data)\r\n\r\n    const workspaceMemberMembers =await  db.workspaceMember.findMany({\r\n        where: {\r\n        \r\n            workspaceId: data.workspaceId,\r\n\r\n        }\r\n    })\r\n\r\n    const isUserMember = workspaceMemberMembers.some((member)=>member.userId=== user.id)\r\n    if(!isUserMember){\r\n        throw new Error(\"Unauthorized to create project in this workspace.\")\r\n    }\r\n    if(validateData.memberAccess?.length === 0){\r\n        validateData.memberAccess = [user.id];\r\n\r\n    }\r\n    else if(!validateData.memberAccess?.includes(user.id)){\r\n        validateData?.memberAccess?.push(user.id)\r\n    }\r\n\r\n    await db.project.create({\r\n        data:{\r\n            name:validateData.name,\r\n            description:validateData.description || \"\",\r\n            workspaceId:validateData.workspaceId,\r\n            projectAccess : {\r\n                create : validateData.memberAccess?.map((memberId)=>({\r\n                    workspaceMemberId : workspaceMemberMembers.find((member)=> member?.userId === memberId\r\n                )?.id!,\r\n                hasAccess:true,\r\n\r\n                }))\r\n            },\r\n            activities:{\r\n                create:{\r\n                    type:\"PROJECT_CREATED\",\r\n                    description:`created project ${validateData.name}`,\r\n                    userId:user.id,\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    return {success:true}\r\n};\r\n\r\n\r\nexport const postComments = async(workspaceId:string, \r\n    projectId:string,\r\n    content: string\r\n) => {\r\n    const {user} = await userRequired();\r\n\r\n    const isMember = await db.workspaceMember.findUnique({\r\n        where:{\r\n            userId_workspaceId:{\r\n                userId:user.id,\r\n                workspaceId,\r\n            },\r\n        },\r\n    });\r\n\r\n    if (!isMember){\r\n        throw new Error(\"You are not a member of this workspace\");\r\n    }\r\n\r\n    const projectAccess = await db.projectAccess.findUnique({\r\n        where:{\r\n            workspaceMemberId_projectId:{\r\n                workspaceMemberId: isMember.id,\r\n                projectId,\r\n            },\r\n        },\r\n    });\r\n    \r\n    if (!projectAccess){\r\n        throw new Error(\"You do not have access to this project\");\r\n    }\r\n\r\n    const comment = await db.comment.create({\r\n        data:{\r\n            content,\r\n            projectId,\r\n            userId: user.id,\r\n        },\r\n    });\r\n\r\n    return comment;\r\n}"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;;;;;;AAEO,MAAM,mBAAmB,OAAO;IACnC,MAAM,EAAC,IAAI,EAAC,GAAG,MAAO,IAAA,kKAAY;IAElC,MAAM,YAAY,MAAM,+GAAE,CAAC,SAAS,CAAC,UAAU,CAAC;QAC5C,OAAM;YAAC,IAAG,MAAM;QAAW;QAC3B,SAAQ;YACJ,UAAS;gBAAC,QAAQ;oBAAC,IAAG;gBAAI;YAAC;QAC/B;IACJ;IAEA,MAAM,eAAe,8HAAa,CAAC,KAAK,CAAC;IAEzC,MAAM,yBAAwB,MAAO,+GAAE,CAAC,eAAe,CAAC,QAAQ,CAAC;QAC7D,OAAO;YAEH,aAAa,KAAK,WAAW;QAEjC;IACJ;IAEA,MAAM,eAAe,uBAAuB,IAAI,CAAC,CAAC,SAAS,OAAO,MAAM,KAAI,KAAK,EAAE;IACnF,IAAG,CAAC,cAAa;QACb,MAAM,IAAI,MAAM;IACpB;IACA,IAAG,aAAa,YAAY,EAAE,WAAW,GAAE;QACvC,aAAa,YAAY,GAAG;YAAC,KAAK,EAAE;SAAC;IAEzC,OACK,IAAG,CAAC,aAAa,YAAY,EAAE,SAAS,KAAK,EAAE,GAAE;QAClD,cAAc,cAAc,KAAK,KAAK,EAAE;IAC5C;IAEA,MAAM,+GAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QACpB,MAAK;YACD,MAAK,aAAa,IAAI;YACtB,aAAY,aAAa,WAAW,IAAI;YACxC,aAAY,aAAa,WAAW;YACpC,eAAgB;gBACZ,QAAS,aAAa,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC;wBACjD,mBAAoB,uBAAuB,IAAI,CAAC,CAAC,SAAU,QAAQ,WAAW,WAC/E;wBACH,WAAU;oBAEV,CAAC;YACL;YACA,YAAW;gBACP,QAAO;oBACH,MAAK;oBACL,aAAY,CAAC,gBAAgB,EAAE,aAAa,IAAI,EAAE;oBAClD,QAAO,KAAK,EAAE;gBAClB;YACJ;QACJ;IACJ;IAEA,OAAO;QAAC,SAAQ;IAAI;AACxB;AAGO,MAAM,eAAe,OAAM,aAC9B,WACA;IAEA,MAAM,EAAC,IAAI,EAAC,GAAG,MAAM,IAAA,kKAAY;IAEjC,MAAM,WAAW,MAAM,+GAAE,CAAC,eAAe,CAAC,UAAU,CAAC;QACjD,OAAM;YACF,oBAAmB;gBACf,QAAO,KAAK,EAAE;gBACd;YACJ;QACJ;IACJ;IAEA,IAAI,CAAC,UAAS;QACV,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,gBAAgB,MAAM,+GAAE,CAAC,aAAa,CAAC,UAAU,CAAC;QACpD,OAAM;YACF,6BAA4B;gBACxB,mBAAmB,SAAS,EAAE;gBAC9B;YACJ;QACJ;IACJ;IAEA,IAAI,CAAC,eAAc;QACf,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,UAAU,MAAM,+GAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QACpC,MAAK;YACD;YACA;YACA,QAAQ,KAAK,EAAE;QACnB;IACJ;IAEA,OAAO;AACX;;;IApGa;IA2DA;;AA3DA,+OAAA;AA2DA,+OAAA","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///D:/840%20G3/7th%20semester/FSPM/Trackly/Trackly/utils/get-invite-code.ts"],"sourcesContent":["export const generateInviteCode = ()=> {\r\n    const characters = \r\n\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    let inviteCode = \"\"\r\n\r\n    for(let i = 0; i<6 ; i++)\r\n    {\r\n        const randomIndex = Math.floor(Math.random()*characters.length)\r\n        inviteCode += characters[randomIndex]\r\n    }\r\n    return inviteCode\r\n}"],"names":[],"mappings":";;;;AAAO,MAAM,qBAAqB;IAC9B,MAAM,aAEN;IAEA,IAAI,aAAa;IAEjB,IAAI,IAAI,IAAI,GAAG,IAAE,GAAI,IACrB;QACI,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,MAAM,KAAG,WAAW,MAAM;QAC9D,cAAc,UAAU,CAAC,YAAY;IACzC;IACA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///D:/840%20G3/7th%20semester/FSPM/Trackly/Trackly/app/actions/workspace.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport { cons } from './../../node_modules/effect/src/List';\r\n\r\n\r\nimport { CreateWorkspaceDataType } from \"@/components/workspace/create-workspace-form\"\r\nimport { userRequired } from \"../data/user/is-user-authenticated\"\r\nimport { workspaceSchema } from \"@/lib/schema\"\r\nimport { db } from \"@/lib/db\"\r\nimport { generateInviteCode } from \"@/utils/get-invite-code\"\r\nimport { AccessLevel } from '@prisma/client';\r\nimport { redirect } from 'next/navigation'; \r\n\r\n\r\nexport const createNewWorkspace = async(data : CreateWorkspaceDataType) => {\r\n    try{\r\n    const {user} = await userRequired()\r\n\r\n    const validatedData = workspaceSchema.parse(data)\r\n\r\n    const res = await db.workspace.create({\r\n        data:{\r\n            name: validatedData.name,\r\n            description : validatedData.description,\r\n            ownerId : user.id,\r\n            inviteCode: generateInviteCode(),\r\n            members : {\r\n                create : {\r\n                    userId : user.id,\r\n                    accessLevel : \"OWNER\"\r\n                }\r\n            }\r\n        }\r\n    })\r\n    return {data:res};\r\n    }\r\n    catch(err){\r\n        console.log(err)\r\n        return {\r\n            status: 500,\r\n            message : \"An error occured while creating the workspace\"\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const updateWorkspace = async (\r\n  workspaceId: string,\r\n  data:CreateWorkspaceDataType\r\n) => {\r\n  const { user } = await userRequired();\r\n\r\n  const validatedData = workspaceSchema.parse(data);\r\n\r\n  const isUserAMember = await db.workspaceMember.findUnique({\r\n    where: {\r\n      userId_workspaceId: {\r\n        userId: user.id,\r\n        workspaceId: workspaceId,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!isUserAMember) {\r\n    throw new Error(\"You are not a member of this workspace.\");\r\n  }\r\n\r\n  await db.workspace.update({\r\n    where: { id: workspaceId },\r\n    data: {\r\n      name: validatedData.name,\r\n      description: validatedData.description || \"\",\r\n    },\r\n  });\r\n\r\n  return { success: true };\r\n};\r\n\r\n\r\nexport const resetWorkspaceInviteCode = async (workspaceId: string) => {\r\n  const { user } = await userRequired();\r\n\r\n  const isUserAMember = await db.workspaceMember.findUnique({\r\n    where: {\r\n      userId_workspaceId: {\r\n        userId: user.id,\r\n        workspaceId: workspaceId,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!isUserAMember) {\r\n    throw new Error(\"You are not a member of this workspace.\");\r\n  }\r\n\r\n  await db.workspace.update({\r\n    where: { id: workspaceId },\r\n    data: {\r\n      inviteCode: generateInviteCode(),\r\n    },\r\n  });\r\n};\r\n\r\n\r\nexport const deleteWorkspace = async (workspaceId: string) => {\r\n  const { user } = await userRequired();\r\n\r\n  const isUserAMember = await db.workspaceMember.findUnique({\r\n    where: {\r\n      userId_workspaceId: {\r\n        userId: user.id,\r\n        workspaceId: workspaceId,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!isUserAMember) {\r\n    throw new Error(\"You are not a member of this workspace.\");\r\n  }\r\n\r\n  if (isUserAMember && isUserAMember.accessLevel !== AccessLevel.OWNER)\r\n  {\r\n    throw new Error(\"only an owner can delete the workspace\");\r\n  }\r\n\r\n  await db.workspace.delete({\r\n    where: { id: workspaceId },\r\n   \r\n  });\r\n\r\n  redirect(\"/workspace\");\r\n};\r\n\r\nexport const getWorkspaceStats = async (workspaceId: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if user is a member of the workspace\r\n    const isUserAMember = await db.workspaceMember.findUnique({\r\n      where: {\r\n        userId_workspaceId: {\r\n          userId: user.id,\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!isUserAMember) {\r\n      throw new Error(\"You are not a member of this workspace.\");\r\n    }\r\n\r\n    // Get task stats\r\n    const taskStats = await db.task.groupBy({\r\n      by: ['status'],\r\n      where: {\r\n        project: {\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n      _count: {\r\n        id: true,\r\n      },\r\n    });\r\n\r\n    // Get total tasks\r\n    const totalTasks = await db.task.count({\r\n      where: {\r\n        project: {\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    // Get total members\r\n    const totalMembers = await db.workspaceMember.count({\r\n      where: { workspaceId },\r\n    });\r\n\r\n    // Get total projects\r\n    const totalProjects = await db.project.count({\r\n      where: { workspaceId },\r\n    });\r\n\r\n    // Get overdue tasks\r\n    const tasksOverdue = await db.task.count({\r\n      where: {\r\n        project: {\r\n          workspaceId: workspaceId,\r\n        },\r\n        dueDate: {\r\n          lt: new Date(),\r\n        },\r\n        status: {\r\n          notIn: ['COMPLETED'],\r\n        },\r\n      },\r\n    });\r\n\r\n    // Process task stats\r\n    const statsMap = taskStats.reduce((acc, stat) => {\r\n      acc[stat.status] = stat._count.id;\r\n      return acc;\r\n    }, {} as Record<string, number>);\r\n\r\n    const stats = {\r\n      totalTasks,\r\n      completedTasks: statsMap['COMPLETED'] || 0,\r\n      inProgressTasks: statsMap['IN_PROGRESS'] || 0,\r\n      todoTasks: statsMap['TODO'] || 0,\r\n      backlogTasks: statsMap['BACKLOG'] || 0,\r\n      totalMembers,\r\n      totalProjects,\r\n      tasksOverdue,\r\n    };\r\n\r\n    return {\r\n      success: true,\r\n      data: stats,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching workspace stats:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to fetch workspace stats',\r\n    };\r\n  }\r\n};\r\n\r\nexport const getRecentTasks = async (workspaceId: string, limit: number = 5) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if user is a member of the workspace\r\n    const isUserAMember = await db.workspaceMember.findUnique({\r\n      where: {\r\n        userId_workspaceId: {\r\n          userId: user.id,\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!isUserAMember) {\r\n      throw new Error(\"You are not a member of this workspace.\");\r\n    }\r\n\r\n    const recentTasks = await db.task.findMany({\r\n      where: {\r\n        project: {\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n      orderBy: { updatedAt: 'desc' },\r\n      take: limit,\r\n      include: {\r\n        project: {\r\n          select: {\r\n            name: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    return {\r\n      success: true,\r\n      data: recentTasks,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching recent tasks:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to fetch recent tasks',\r\n      data: [],\r\n    };\r\n  }\r\n};\r\n\r\nexport const getWorkspaceInfo = async (workspaceId: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if user is a member of the workspace\r\n    const isUserAMember = await db.workspaceMember.findUnique({\r\n      where: {\r\n        userId_workspaceId: {\r\n          userId: user.id,\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!isUserAMember) {\r\n      throw new Error(\"You are not a member of this workspace.\");\r\n    }\r\n\r\n    const workspace = await db.workspace.findUnique({\r\n      where: { id: workspaceId },\r\n      select: {\r\n        id: true,\r\n        name: true,\r\n        description: true,\r\n        ownerId: true,\r\n      },\r\n    });\r\n\r\n    if (!workspace) {\r\n      throw new Error(\"Workspace not found.\");\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: workspace,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching workspace info:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to fetch workspace info',\r\n    };\r\n  }\r\n};\r\n\r\nexport const getWorkspaceMembers = async (workspaceId: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if user is a member of the workspace\r\n    const isUserAMember = await db.workspaceMember.findUnique({\r\n      where: {\r\n        userId_workspaceId: {\r\n          userId: user.id,\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!isUserAMember) {\r\n      throw new Error(\"You are not a member of this workspace.\");\r\n    }\r\n\r\n    const [members, workspace] = await Promise.all([\r\n      db.workspaceMember.findMany({\r\n        where: { workspaceId },\r\n        include: {\r\n          user: {\r\n            select: {\r\n              id: true,\r\n              name: true,\r\n              email: true,\r\n              image: true,\r\n            },\r\n          },\r\n        },\r\n        orderBy: { createdAt: 'asc' },\r\n      }),\r\n      db.workspace.findUnique({\r\n        where: { id: workspaceId },\r\n        select: {\r\n          id: true,\r\n          name: true,\r\n          inviteCode: true,\r\n          ownerId: true,\r\n        },\r\n      }),\r\n    ]);\r\n\r\n    if (!workspace) {\r\n      throw new Error(\"Workspace not found.\");\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: { members, workspace },\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching workspace members:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to fetch workspace members',\r\n    };\r\n  }\r\n};\r\n\r\nexport const inviteUserToWorkspace = async (workspaceId: string, email: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if current user is a member with appropriate permissions\r\n    const currentUserMember = await db.workspaceMember.findUnique({\r\n      where: {\r\n        userId_workspaceId: {\r\n          userId: user.id,\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!currentUserMember) {\r\n      throw new Error(\"You are not a member of this workspace.\");\r\n    }\r\n\r\n    // Only owners and members can invite (viewers cannot)\r\n    if (currentUserMember.accessLevel === AccessLevel.VIEWER) {\r\n      throw new Error(\"You don't have permission to invite users.\");\r\n    }\r\n\r\n    // Check if user with this email exists\r\n    const existingUser = await db.user.findUnique({\r\n      where: { email },\r\n    });\r\n\r\n    if (existingUser) {\r\n      // Check if user is already a member\r\n      const existingMember = await db.workspaceMember.findUnique({\r\n        where: {\r\n          userId_workspaceId: {\r\n            userId: existingUser.id,\r\n            workspaceId: workspaceId,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (existingMember) {\r\n        throw new Error(\"User is already a member of this workspace.\");\r\n      }\r\n\r\n      // Add user as a member\r\n      await db.workspaceMember.create({\r\n        data: {\r\n          userId: existingUser.id,\r\n          workspaceId: workspaceId,\r\n          accessLevel: AccessLevel.MEMBER,\r\n        },\r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        message: \"User added to workspace successfully.\",\r\n      };\r\n    } else {\r\n      // For now, we'll just return success for non-existing users\r\n      // In a real app, you'd send an email invitation\r\n      return {\r\n        success: true,\r\n        message: \"Invitation sent! User will be added when they sign up.\",\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Error inviting user:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to invite user',\r\n    };\r\n  }\r\n};\r\n\r\nexport const removeWorkspaceMember = async (workspaceId: string, memberId: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if current user is the workspace owner\r\n    const workspace = await db.workspace.findUnique({\r\n      where: { id: workspaceId },\r\n      select: { ownerId: true },\r\n    });\r\n\r\n    if (!workspace) {\r\n      throw new Error(\"Workspace not found.\");\r\n    }\r\n\r\n    if (workspace.ownerId !== user.id) {\r\n      throw new Error(\"Only the workspace owner can remove members.\");\r\n    }\r\n\r\n    // Get the member to remove\r\n    const memberToRemove = await db.workspaceMember.findUnique({\r\n      where: { id: memberId },\r\n    });\r\n\r\n    if (!memberToRemove) {\r\n      throw new Error(\"Member not found.\");\r\n    }\r\n\r\n    if (memberToRemove.workspaceId !== workspaceId) {\r\n      throw new Error(\"Member does not belong to this workspace.\");\r\n    }\r\n\r\n    // Cannot remove the owner\r\n    if (memberToRemove.accessLevel === AccessLevel.OWNER) {\r\n      throw new Error(\"Cannot remove the workspace owner.\");\r\n    }\r\n\r\n    // Remove the member\r\n    await db.workspaceMember.delete({\r\n      where: { id: memberId },\r\n    });\r\n\r\n    return {\r\n      success: true,\r\n      message: \"Member removed successfully.\",\r\n    };\r\n  } catch (error) {\r\n    console.error('Error removing member:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to remove member',\r\n    };\r\n  }\r\n};\r\n\r\nexport const updateMemberRole = async (workspaceId: string, memberId: string, newRole: AccessLevel) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Check if current user is the workspace owner\r\n    const workspace = await db.workspace.findUnique({\r\n      where: { id: workspaceId },\r\n      select: { ownerId: true },\r\n    });\r\n\r\n    if (!workspace) {\r\n      throw new Error(\"Workspace not found.\");\r\n    }\r\n\r\n    if (workspace.ownerId !== user.id) {\r\n      throw new Error(\"Only the workspace owner can change member roles.\");\r\n    }\r\n\r\n    // Get the member to update\r\n    const memberToUpdate = await db.workspaceMember.findUnique({\r\n      where: { id: memberId },\r\n    });\r\n\r\n    if (!memberToUpdate) {\r\n      throw new Error(\"Member not found.\");\r\n    }\r\n\r\n    if (memberToUpdate.workspaceId !== workspaceId) {\r\n      throw new Error(\"Member does not belong to this workspace.\");\r\n    }\r\n\r\n    // Cannot change the owner's role\r\n    if (memberToUpdate.accessLevel === AccessLevel.OWNER) {\r\n      throw new Error(\"Cannot change the workspace owner's role.\");\r\n    }\r\n\r\n    // Cannot make someone an owner (there can only be one owner)\r\n    if (newRole === AccessLevel.OWNER) {\r\n      throw new Error(\"Cannot assign owner role to another member.\");\r\n    }\r\n\r\n    // Update the member's role\r\n    await db.workspaceMember.update({\r\n      where: { id: memberId },\r\n      data: { accessLevel: newRole },\r\n    });\r\n\r\n    return {\r\n      success: true,\r\n      message: \"Member role updated successfully.\",\r\n    };\r\n  } catch (error) {\r\n    console.error('Error updating member role:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to update member role',\r\n    };\r\n  }\r\n};\r\n\r\nexport const getWorkspaceByInviteCode = async (workspaceId: string, inviteCode: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Find workspace by ID and invite code\r\n    const workspace = await db.workspace.findFirst({\r\n      where: {\r\n        id: workspaceId,\r\n        inviteCode: inviteCode,\r\n      },\r\n      select: {\r\n        id: true,\r\n        name: true,\r\n        description: true,\r\n        members: {\r\n          select: {\r\n            userId: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    if (!workspace) {\r\n      return {\r\n        success: false,\r\n        error: \"Invalid or expired invite link.\",\r\n      };\r\n    }\r\n\r\n    // Check if user is already a member\r\n    const alreadyMember = workspace.members.some(member => member.userId === user.id);\r\n\r\n    return {\r\n      success: true,\r\n      data: {\r\n        workspace: {\r\n          id: workspace.id,\r\n          name: workspace.name,\r\n          description: workspace.description,\r\n          memberCount: workspace.members.length,\r\n        },\r\n        alreadyMember,\r\n      },\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching workspace by invite code:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to fetch workspace information',\r\n    };\r\n  }\r\n};\r\n\r\nexport const joinWorkspaceWithInvite = async (workspaceId: string, inviteCode: string) => {\r\n  try {\r\n    const { user } = await userRequired();\r\n\r\n    // Verify workspace and invite code\r\n    const workspace = await db.workspace.findFirst({\r\n      where: {\r\n        id: workspaceId,\r\n        inviteCode: inviteCode,\r\n      },\r\n    });\r\n\r\n    if (!workspace) {\r\n      return {\r\n        success: false,\r\n        error: \"Invalid or expired invite link.\",\r\n      };\r\n    }\r\n\r\n    // Check if user is already a member\r\n    const existingMember = await db.workspaceMember.findUnique({\r\n      where: {\r\n        userId_workspaceId: {\r\n          userId: user.id,\r\n          workspaceId: workspaceId,\r\n        },\r\n      },\r\n    });\r\n\r\n    if (existingMember) {\r\n      return {\r\n        success: false,\r\n        error: \"You are already a member of this workspace.\",\r\n      };\r\n    }\r\n\r\n    // Add user as a member\r\n    await db.workspaceMember.create({\r\n      data: {\r\n        userId: user.id,\r\n        workspaceId: workspaceId,\r\n        accessLevel: AccessLevel.MEMBER,\r\n      },\r\n    });\r\n\r\n    return {\r\n      success: true,\r\n      message: \"Successfully joined the workspace!\",\r\n    };\r\n  } catch (error) {\r\n    console.error('Error joining workspace:', error);\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Failed to join workspace',\r\n    };\r\n  }\r\n};\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 911, "column": 0}, "map": {"version":3,"sources":["file:///D:/840%20G3/7th%20semester/FSPM/Trackly/Trackly/app/%28protected%29/workspace/%5BworkspaceId%5D/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(protected)/workspace/[workspaceId]/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(protected)/workspace/[workspaceId]/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":["file:///D:/840%20G3/7th%20semester/FSPM/Trackly/Trackly/app/%28protected%29/workspace/%5BworkspaceId%5D/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(protected)/workspace/[workspaceId]/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(protected)/workspace/[workspaceId]/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}