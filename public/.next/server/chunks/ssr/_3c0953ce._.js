module.exports = [
"[project]/components/ui/badge.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Badge",
    ()=>Badge,
    "badgeVariants",
    ()=>badgeVariants
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$class$2d$variance$2d$authority$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/class-variance-authority/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/utils.ts [app-ssr] (ecmascript)");
;
;
;
const badgeVariants = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$class$2d$variance$2d$authority$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cva"])("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2", {
    variants: {
        variant: {
            default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
            secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
            destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
            outline: "text-foreground",
            OWNER: "bg-pink-600 text-white",
            MEMBER: "bg-blue-600 text-white",
            VIWER: "bg-gray-600 text-white",
            TODO: "bg-blue-600 text-white",
            IN_PROGRESS: "bg-yellow-600 text-white",
            BACKLOG: "bg-pink-600 text-white",
            IN_REVIEW: "bg-purple-600 text-white",
            COMPLETED: "bg-green-600 text-white",
            BLOCKED: "bg-red-600 text-white",
            CRITICAL: "bg-red-600 text-white",
            HIGH: "bg-orange-600 text-white",
            MEDIUM: "bg-yellow-600 text-white",
            LOW: "bg-blue-600 text-white"
        }
    },
    defaultVariants: {
        variant: "default"
    }
});
function Badge({ className, variant, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])(badgeVariants({
            variant
        }), className),
        ...props
    }, void 0, false, {
        fileName: "[project]/components/ui/badge.tsx",
        lineNumber: 45,
        columnNumber: 5
    }, this);
}
;
}),
"[project]/app/actions/data:077db7 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7f5469d63b5afde4f4cfc89fbbc27103b08ebae6aa":"getWorkspaceMembers"},"app/actions/workspace.ts",""] */ __turbopack_context__.s([
    "getWorkspaceMembers",
    ()=>getWorkspaceMembers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var getWorkspaceMembers = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("7f5469d63b5afde4f4cfc89fbbc27103b08ebae6aa", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getWorkspaceMembers"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vd29ya3NwYWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiXHJcblxyXG5pbXBvcnQgeyBjb25zIH0gZnJvbSAnLi8uLi8uLi9ub2RlX21vZHVsZXMvZWZmZWN0L3NyYy9MaXN0JztcclxuXHJcblxyXG5pbXBvcnQgeyBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL2NyZWF0ZS13b3Jrc3BhY2UtZm9ybVwiXHJcbmltcG9ydCB7IHVzZXJSZXF1aXJlZCB9IGZyb20gXCIuLi9kYXRhL3VzZXIvaXMtdXNlci1hdXRoZW50aWNhdGVkXCJcclxuaW1wb3J0IHsgd29ya3NwYWNlU2NoZW1hIH0gZnJvbSBcIkAvbGliL3NjaGVtYVwiXHJcbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCJcclxuaW1wb3J0IHsgZ2VuZXJhdGVJbnZpdGVDb2RlIH0gZnJvbSBcIkAvdXRpbHMvZ2V0LWludml0ZS1jb2RlXCJcclxuaW1wb3J0IHsgQWNjZXNzTGV2ZWwgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsgXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld1dvcmtzcGFjZSA9IGFzeW5jKGRhdGEgOiBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSkgPT4ge1xyXG4gICAgdHJ5e1xyXG4gICAgY29uc3Qge3VzZXJ9ID0gYXdhaXQgdXNlclJlcXVpcmVkKClcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gd29ya3NwYWNlU2NoZW1hLnBhcnNlKGRhdGEpXHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZGIud29ya3NwYWNlLmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiB2YWxpZGF0ZWREYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBvd25lcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICAgICAgICAgIG1lbWJlcnMgOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NMZXZlbCA6IFwiT1dORVJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7ZGF0YTpyZXN9O1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIHdvcmtzcGFjZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVdvcmtzcGFjZSA9IGFzeW5jIChcclxuICB3b3Jrc3BhY2VJZDogc3RyaW5nLFxyXG4gIGRhdGE6Q3JlYXRlV29ya3NwYWNlRGF0YVR5cGVcclxuKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHdvcmtzcGFjZVNjaGVtYS5wYXJzZShkYXRhKTtcclxuXHJcbiAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBpZiAoIWlzVXNlckFNZW1iZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS51cGRhdGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHZhbGlkYXRlZERhdGEuZGVzY3JpcHRpb24gfHwgXCJcIixcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgcmVzZXRXb3Jrc3BhY2VJbnZpdGVDb2RlID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICBjb25zdCBpc1VzZXJBTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgd2hlcmU6IHtcclxuICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgZGIud29ya3NwYWNlLnVwZGF0ZSh7XHJcbiAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgIGRhdGE6IHtcclxuICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVXb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICB3aGVyZToge1xyXG4gICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNVc2VyQU1lbWJlciAmJiBpc1VzZXJBTWVtYmVyLmFjY2Vzc0xldmVsICE9PSBBY2Nlc3NMZXZlbC5PV05FUilcclxuICB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IGFuIG93bmVyIGNhbiBkZWxldGUgdGhlIHdvcmtzcGFjZVwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS5kZWxldGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgIFxyXG4gIH0pO1xyXG5cclxuICByZWRpcmVjdChcIi93b3Jrc3BhY2VcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0V29ya3NwYWNlU3RhdHMgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGFzayBzdGF0c1xyXG4gICAgY29uc3QgdGFza1N0YXRzID0gYXdhaXQgZGIudGFzay5ncm91cEJ5KHtcclxuICAgICAgYnk6IFsnc3RhdHVzJ10sXHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIF9jb3VudDoge1xyXG4gICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IHRvdGFsIHRhc2tzXHJcbiAgICBjb25zdCB0b3RhbFRhc2tzID0gYXdhaXQgZGIudGFzay5jb3VudCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHZXQgdG90YWwgbWVtYmVyc1xyXG4gICAgY29uc3QgdG90YWxNZW1iZXJzID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmNvdW50KHtcclxuICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEdldCB0b3RhbCBwcm9qZWN0c1xyXG4gICAgY29uc3QgdG90YWxQcm9qZWN0cyA9IGF3YWl0IGRiLnByb2plY3QuY291bnQoe1xyXG4gICAgICB3aGVyZTogeyB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IG92ZXJkdWUgdGFza3NcclxuICAgIGNvbnN0IHRhc2tzT3ZlcmR1ZSA9IGF3YWl0IGRiLnRhc2suY291bnQoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGR1ZURhdGU6IHtcclxuICAgICAgICAgIGx0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgICBub3RJbjogWydDT01QTEVURUQnXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUHJvY2VzcyB0YXNrIHN0YXRzXHJcbiAgICBjb25zdCBzdGF0c01hcCA9IHRhc2tTdGF0cy5yZWR1Y2UoKGFjYywgc3RhdCkgPT4ge1xyXG4gICAgICBhY2Nbc3RhdC5zdGF0dXNdID0gc3RhdC5fY291bnQuaWQ7XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcclxuXHJcbiAgICBjb25zdCBzdGF0cyA9IHtcclxuICAgICAgdG90YWxUYXNrcyxcclxuICAgICAgY29tcGxldGVkVGFza3M6IHN0YXRzTWFwWydDT01QTEVURUQnXSB8fCAwLFxyXG4gICAgICBpblByb2dyZXNzVGFza3M6IHN0YXRzTWFwWydJTl9QUk9HUkVTUyddIHx8IDAsXHJcbiAgICAgIHRvZG9UYXNrczogc3RhdHNNYXBbJ1RPRE8nXSB8fCAwLFxyXG4gICAgICBiYWNrbG9nVGFza3M6IHN0YXRzTWFwWydCQUNLTE9HJ10gfHwgMCxcclxuICAgICAgdG90YWxNZW1iZXJzLFxyXG4gICAgICB0b3RhbFByb2plY3RzLFxyXG4gICAgICB0YXNrc092ZXJkdWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHN0YXRzLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIHN0YXRzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBzdGF0cycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZWNlbnRUYXNrcyA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlbnRUYXNrcyA9IGF3YWl0IGRiLnRhc2suZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiB7IHVwZGF0ZWRBdDogJ2Rlc2MnIH0sXHJcbiAgICAgIHRha2U6IGxpbWl0LFxyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiByZWNlbnRUYXNrcyxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlY2VudCB0YXNrczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCByZWNlbnQgdGFza3MnLFxyXG4gICAgICBkYXRhOiBbXSxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFdvcmtzcGFjZUluZm8gPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgICBzZWxlY3Q6IHtcclxuICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgICAgIG93bmVySWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2Ugbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB3b3Jrc3BhY2UsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgaW5mbzonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgaW5mbycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VNZW1iZXJzID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGEgbWVtYmVyIG9mIHRoZSB3b3Jrc3BhY2VcclxuICAgIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgW21lbWJlcnMsIHdvcmtzcGFjZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGRiLndvcmtzcGFjZU1lbWJlci5maW5kTWFueSh7XHJcbiAgICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdDoge1xyXG4gICAgICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW1hZ2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdhc2MnIH0sXHJcbiAgICAgIH0pLFxyXG4gICAgICBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICBpbnZpdGVDb2RlOiB0cnVlLFxyXG4gICAgICAgICAgb3duZXJJZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KSxcclxuICAgIF0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHsgbWVtYmVycywgd29ya3NwYWNlIH0sXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgbWVtYmVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgbWVtYmVycycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnZpdGVVc2VyVG9Xb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgZW1haWw6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgdXNlciBpcyBhIG1lbWJlciB3aXRoIGFwcHJvcHJpYXRlIHBlcm1pc3Npb25zXHJcbiAgICBjb25zdCBjdXJyZW50VXNlck1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50VXNlck1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25seSBvd25lcnMgYW5kIG1lbWJlcnMgY2FuIGludml0ZSAodmlld2VycyBjYW5ub3QpXHJcbiAgICBpZiAoY3VycmVudFVzZXJNZW1iZXIuYWNjZXNzTGV2ZWwgPT09IEFjY2Vzc0xldmVsLlZJRVdFUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGludml0ZSB1c2Vycy5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3aXRoIHRoaXMgZW1haWwgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBlbWFpbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xyXG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgICAgY29uc3QgZXhpc3RpbmdNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgICB1c2VySWQ6IGV4aXN0aW5nVXNlci5pZCxcclxuICAgICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChleGlzdGluZ01lbWJlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCB1c2VyIGFzIGEgbWVtYmVyXHJcbiAgICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHVzZXJJZDogZXhpc3RpbmdVc2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgYWNjZXNzTGV2ZWw6IEFjY2Vzc0xldmVsLk1FTUJFUixcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgYWRkZWQgdG8gd29ya3NwYWNlIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3QgcmV0dXJuIHN1Y2Nlc3MgZm9yIG5vbi1leGlzdGluZyB1c2Vyc1xyXG4gICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3UnZCBzZW5kIGFuIGVtYWlsIGludml0YXRpb25cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiSW52aXRhdGlvbiBzZW50ISBVc2VyIHdpbGwgYmUgYWRkZWQgd2hlbiB0aGV5IHNpZ24gdXAuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGludml0aW5nIHVzZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW52aXRlIHVzZXInLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlV29ya3NwYWNlTWVtYmVyID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcsIG1lbWJlcklkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIHJlbW92ZSBtZW1iZXJzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIG1lbWJlciB0byByZW1vdmVcclxuICAgIGNvbnN0IG1lbWJlclRvUmVtb3ZlID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghbWVtYmVyVG9SZW1vdmUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVtYmVyIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLndvcmtzcGFjZUlkICE9PSB3b3Jrc3BhY2VJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgcmVtb3ZlIHRoZSBvd25lclxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVtb3ZlIHRoZSB3b3Jrc3BhY2Ugb3duZXIuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgbWVtYmVyXHJcbiAgICBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZGVsZXRlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IG1lbWJlcklkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBcIk1lbWJlciByZW1vdmVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIG1lbWJlcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZW1vdmUgbWVtYmVyJyxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1lbWJlclJvbGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgbWVtYmVySWQ6IHN0cmluZywgbmV3Um9sZTogQWNjZXNzTGV2ZWwpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIGNoYW5nZSBtZW1iZXIgcm9sZXMuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgbWVtYmVyIHRvIHVwZGF0ZVxyXG4gICAgY29uc3QgbWVtYmVyVG9VcGRhdGUgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBtZW1iZXJJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFtZW1iZXJUb1VwZGF0ZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWVtYmVyVG9VcGRhdGUud29ya3NwYWNlSWQgIT09IHdvcmtzcGFjZUlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lbWJlciBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbm5vdCBjaGFuZ2UgdGhlIG93bmVyJ3Mgcm9sZVxyXG4gICAgaWYgKG1lbWJlclRvVXBkYXRlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2hhbmdlIHRoZSB3b3Jrc3BhY2Ugb3duZXIncyByb2xlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgbWFrZSBzb21lb25lIGFuIG93bmVyICh0aGVyZSBjYW4gb25seSBiZSBvbmUgb3duZXIpXHJcbiAgICBpZiAobmV3Um9sZSA9PT0gQWNjZXNzTGV2ZWwuT1dORVIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFzc2lnbiBvd25lciByb2xlIHRvIGFub3RoZXIgbWVtYmVyLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG1lbWJlcidzIHJvbGVcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgICAgZGF0YTogeyBhY2Nlc3NMZXZlbDogbmV3Um9sZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJNZW1iZXIgcm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1lbWJlciByb2xlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwZGF0ZSBtZW1iZXIgcm9sZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VCeUludml0ZUNvZGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgaW52aXRlQ29kZTogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gICAgLy8gRmluZCB3b3Jrc3BhY2UgYnkgSUQgYW5kIGludml0ZSBjb2RlXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgaW52aXRlQ29kZTogaW52aXRlQ29kZSxcclxuICAgICAgfSxcclxuICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgbmFtZTogdHJ1ZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogdHJ1ZSxcclxuICAgICAgICBtZW1iZXJzOiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgdXNlcklkOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF3b3Jrc3BhY2UpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJJbnZhbGlkIG9yIGV4cGlyZWQgaW52aXRlIGxpbmsuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhbHJlYWR5IGEgbWVtYmVyXHJcbiAgICBjb25zdCBhbHJlYWR5TWVtYmVyID0gd29ya3NwYWNlLm1lbWJlcnMuc29tZShtZW1iZXIgPT4gbWVtYmVyLnVzZXJJZCA9PT0gdXNlci5pZCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHdvcmtzcGFjZToge1xyXG4gICAgICAgICAgaWQ6IHdvcmtzcGFjZS5pZCxcclxuICAgICAgICAgIG5hbWU6IHdvcmtzcGFjZS5uYW1lLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHdvcmtzcGFjZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIG1lbWJlckNvdW50OiB3b3Jrc3BhY2UubWVtYmVycy5sZW5ndGgsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbHJlYWR5TWVtYmVyLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIGJ5IGludml0ZSBjb2RlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBpbmZvcm1hdGlvbicsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBqb2luV29ya3NwYWNlV2l0aEludml0ZSA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBpbnZpdGVDb2RlOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgd29ya3NwYWNlIGFuZCBpbnZpdGUgY29kZVxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIGludml0ZUNvZGU6IGludml0ZUNvZGUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBcIkludmFsaWQgb3IgZXhwaXJlZCBpbnZpdGUgbGluay5cIixcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgIGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdNZW1iZXIpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJZb3UgYXJlIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHVzZXIgYXMgYSBtZW1iZXJcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICBhY2Nlc3NMZXZlbDogQWNjZXNzTGV2ZWwuTUVNQkVSLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgam9pbmVkIHRoZSB3b3Jrc3BhY2UhXCIsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBqb2luaW5nIHdvcmtzcGFjZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBqb2luIHdvcmtzcGFjZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoicVNBa1VhIn0=
}),
"[project]/app/actions/data:86c0b5 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7ffda43b0a276375489aafec6aae853923dd7b2a60":"inviteUserToWorkspace"},"app/actions/workspace.ts",""] */ __turbopack_context__.s([
    "inviteUserToWorkspace",
    ()=>inviteUserToWorkspace
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var inviteUserToWorkspace = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("7ffda43b0a276375489aafec6aae853923dd7b2a60", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "inviteUserToWorkspace"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vd29ya3NwYWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiXHJcblxyXG5pbXBvcnQgeyBjb25zIH0gZnJvbSAnLi8uLi8uLi9ub2RlX21vZHVsZXMvZWZmZWN0L3NyYy9MaXN0JztcclxuXHJcblxyXG5pbXBvcnQgeyBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL2NyZWF0ZS13b3Jrc3BhY2UtZm9ybVwiXHJcbmltcG9ydCB7IHVzZXJSZXF1aXJlZCB9IGZyb20gXCIuLi9kYXRhL3VzZXIvaXMtdXNlci1hdXRoZW50aWNhdGVkXCJcclxuaW1wb3J0IHsgd29ya3NwYWNlU2NoZW1hIH0gZnJvbSBcIkAvbGliL3NjaGVtYVwiXHJcbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCJcclxuaW1wb3J0IHsgZ2VuZXJhdGVJbnZpdGVDb2RlIH0gZnJvbSBcIkAvdXRpbHMvZ2V0LWludml0ZS1jb2RlXCJcclxuaW1wb3J0IHsgQWNjZXNzTGV2ZWwgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsgXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld1dvcmtzcGFjZSA9IGFzeW5jKGRhdGEgOiBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSkgPT4ge1xyXG4gICAgdHJ5e1xyXG4gICAgY29uc3Qge3VzZXJ9ID0gYXdhaXQgdXNlclJlcXVpcmVkKClcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gd29ya3NwYWNlU2NoZW1hLnBhcnNlKGRhdGEpXHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZGIud29ya3NwYWNlLmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiB2YWxpZGF0ZWREYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBvd25lcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICAgICAgICAgIG1lbWJlcnMgOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NMZXZlbCA6IFwiT1dORVJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7ZGF0YTpyZXN9O1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIHdvcmtzcGFjZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVdvcmtzcGFjZSA9IGFzeW5jIChcclxuICB3b3Jrc3BhY2VJZDogc3RyaW5nLFxyXG4gIGRhdGE6Q3JlYXRlV29ya3NwYWNlRGF0YVR5cGVcclxuKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHdvcmtzcGFjZVNjaGVtYS5wYXJzZShkYXRhKTtcclxuXHJcbiAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBpZiAoIWlzVXNlckFNZW1iZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS51cGRhdGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHZhbGlkYXRlZERhdGEuZGVzY3JpcHRpb24gfHwgXCJcIixcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgcmVzZXRXb3Jrc3BhY2VJbnZpdGVDb2RlID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICBjb25zdCBpc1VzZXJBTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgd2hlcmU6IHtcclxuICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgZGIud29ya3NwYWNlLnVwZGF0ZSh7XHJcbiAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgIGRhdGE6IHtcclxuICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVXb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICB3aGVyZToge1xyXG4gICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNVc2VyQU1lbWJlciAmJiBpc1VzZXJBTWVtYmVyLmFjY2Vzc0xldmVsICE9PSBBY2Nlc3NMZXZlbC5PV05FUilcclxuICB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IGFuIG93bmVyIGNhbiBkZWxldGUgdGhlIHdvcmtzcGFjZVwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS5kZWxldGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgIFxyXG4gIH0pO1xyXG5cclxuICByZWRpcmVjdChcIi93b3Jrc3BhY2VcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0V29ya3NwYWNlU3RhdHMgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGFzayBzdGF0c1xyXG4gICAgY29uc3QgdGFza1N0YXRzID0gYXdhaXQgZGIudGFzay5ncm91cEJ5KHtcclxuICAgICAgYnk6IFsnc3RhdHVzJ10sXHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIF9jb3VudDoge1xyXG4gICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IHRvdGFsIHRhc2tzXHJcbiAgICBjb25zdCB0b3RhbFRhc2tzID0gYXdhaXQgZGIudGFzay5jb3VudCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHZXQgdG90YWwgbWVtYmVyc1xyXG4gICAgY29uc3QgdG90YWxNZW1iZXJzID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmNvdW50KHtcclxuICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEdldCB0b3RhbCBwcm9qZWN0c1xyXG4gICAgY29uc3QgdG90YWxQcm9qZWN0cyA9IGF3YWl0IGRiLnByb2plY3QuY291bnQoe1xyXG4gICAgICB3aGVyZTogeyB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IG92ZXJkdWUgdGFza3NcclxuICAgIGNvbnN0IHRhc2tzT3ZlcmR1ZSA9IGF3YWl0IGRiLnRhc2suY291bnQoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGR1ZURhdGU6IHtcclxuICAgICAgICAgIGx0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgICBub3RJbjogWydDT01QTEVURUQnXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUHJvY2VzcyB0YXNrIHN0YXRzXHJcbiAgICBjb25zdCBzdGF0c01hcCA9IHRhc2tTdGF0cy5yZWR1Y2UoKGFjYywgc3RhdCkgPT4ge1xyXG4gICAgICBhY2Nbc3RhdC5zdGF0dXNdID0gc3RhdC5fY291bnQuaWQ7XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcclxuXHJcbiAgICBjb25zdCBzdGF0cyA9IHtcclxuICAgICAgdG90YWxUYXNrcyxcclxuICAgICAgY29tcGxldGVkVGFza3M6IHN0YXRzTWFwWydDT01QTEVURUQnXSB8fCAwLFxyXG4gICAgICBpblByb2dyZXNzVGFza3M6IHN0YXRzTWFwWydJTl9QUk9HUkVTUyddIHx8IDAsXHJcbiAgICAgIHRvZG9UYXNrczogc3RhdHNNYXBbJ1RPRE8nXSB8fCAwLFxyXG4gICAgICBiYWNrbG9nVGFza3M6IHN0YXRzTWFwWydCQUNLTE9HJ10gfHwgMCxcclxuICAgICAgdG90YWxNZW1iZXJzLFxyXG4gICAgICB0b3RhbFByb2plY3RzLFxyXG4gICAgICB0YXNrc092ZXJkdWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHN0YXRzLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIHN0YXRzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBzdGF0cycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZWNlbnRUYXNrcyA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlbnRUYXNrcyA9IGF3YWl0IGRiLnRhc2suZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiB7IHVwZGF0ZWRBdDogJ2Rlc2MnIH0sXHJcbiAgICAgIHRha2U6IGxpbWl0LFxyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiByZWNlbnRUYXNrcyxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlY2VudCB0YXNrczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCByZWNlbnQgdGFza3MnLFxyXG4gICAgICBkYXRhOiBbXSxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFdvcmtzcGFjZUluZm8gPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgICBzZWxlY3Q6IHtcclxuICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgICAgIG93bmVySWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2Ugbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB3b3Jrc3BhY2UsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgaW5mbzonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgaW5mbycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VNZW1iZXJzID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGEgbWVtYmVyIG9mIHRoZSB3b3Jrc3BhY2VcclxuICAgIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgW21lbWJlcnMsIHdvcmtzcGFjZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGRiLndvcmtzcGFjZU1lbWJlci5maW5kTWFueSh7XHJcbiAgICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdDoge1xyXG4gICAgICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW1hZ2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdhc2MnIH0sXHJcbiAgICAgIH0pLFxyXG4gICAgICBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICBpbnZpdGVDb2RlOiB0cnVlLFxyXG4gICAgICAgICAgb3duZXJJZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KSxcclxuICAgIF0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHsgbWVtYmVycywgd29ya3NwYWNlIH0sXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgbWVtYmVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgbWVtYmVycycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnZpdGVVc2VyVG9Xb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgZW1haWw6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgdXNlciBpcyBhIG1lbWJlciB3aXRoIGFwcHJvcHJpYXRlIHBlcm1pc3Npb25zXHJcbiAgICBjb25zdCBjdXJyZW50VXNlck1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50VXNlck1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25seSBvd25lcnMgYW5kIG1lbWJlcnMgY2FuIGludml0ZSAodmlld2VycyBjYW5ub3QpXHJcbiAgICBpZiAoY3VycmVudFVzZXJNZW1iZXIuYWNjZXNzTGV2ZWwgPT09IEFjY2Vzc0xldmVsLlZJRVdFUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGludml0ZSB1c2Vycy5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3aXRoIHRoaXMgZW1haWwgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBlbWFpbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xyXG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgICAgY29uc3QgZXhpc3RpbmdNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgICB1c2VySWQ6IGV4aXN0aW5nVXNlci5pZCxcclxuICAgICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChleGlzdGluZ01lbWJlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCB1c2VyIGFzIGEgbWVtYmVyXHJcbiAgICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHVzZXJJZDogZXhpc3RpbmdVc2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgYWNjZXNzTGV2ZWw6IEFjY2Vzc0xldmVsLk1FTUJFUixcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgYWRkZWQgdG8gd29ya3NwYWNlIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3QgcmV0dXJuIHN1Y2Nlc3MgZm9yIG5vbi1leGlzdGluZyB1c2Vyc1xyXG4gICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3UnZCBzZW5kIGFuIGVtYWlsIGludml0YXRpb25cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiSW52aXRhdGlvbiBzZW50ISBVc2VyIHdpbGwgYmUgYWRkZWQgd2hlbiB0aGV5IHNpZ24gdXAuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGludml0aW5nIHVzZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW52aXRlIHVzZXInLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlV29ya3NwYWNlTWVtYmVyID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcsIG1lbWJlcklkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIHJlbW92ZSBtZW1iZXJzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIG1lbWJlciB0byByZW1vdmVcclxuICAgIGNvbnN0IG1lbWJlclRvUmVtb3ZlID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghbWVtYmVyVG9SZW1vdmUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVtYmVyIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLndvcmtzcGFjZUlkICE9PSB3b3Jrc3BhY2VJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgcmVtb3ZlIHRoZSBvd25lclxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVtb3ZlIHRoZSB3b3Jrc3BhY2Ugb3duZXIuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgbWVtYmVyXHJcbiAgICBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZGVsZXRlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IG1lbWJlcklkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBcIk1lbWJlciByZW1vdmVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIG1lbWJlcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZW1vdmUgbWVtYmVyJyxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1lbWJlclJvbGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgbWVtYmVySWQ6IHN0cmluZywgbmV3Um9sZTogQWNjZXNzTGV2ZWwpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIGNoYW5nZSBtZW1iZXIgcm9sZXMuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgbWVtYmVyIHRvIHVwZGF0ZVxyXG4gICAgY29uc3QgbWVtYmVyVG9VcGRhdGUgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBtZW1iZXJJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFtZW1iZXJUb1VwZGF0ZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWVtYmVyVG9VcGRhdGUud29ya3NwYWNlSWQgIT09IHdvcmtzcGFjZUlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lbWJlciBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbm5vdCBjaGFuZ2UgdGhlIG93bmVyJ3Mgcm9sZVxyXG4gICAgaWYgKG1lbWJlclRvVXBkYXRlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2hhbmdlIHRoZSB3b3Jrc3BhY2Ugb3duZXIncyByb2xlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgbWFrZSBzb21lb25lIGFuIG93bmVyICh0aGVyZSBjYW4gb25seSBiZSBvbmUgb3duZXIpXHJcbiAgICBpZiAobmV3Um9sZSA9PT0gQWNjZXNzTGV2ZWwuT1dORVIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFzc2lnbiBvd25lciByb2xlIHRvIGFub3RoZXIgbWVtYmVyLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG1lbWJlcidzIHJvbGVcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgICAgZGF0YTogeyBhY2Nlc3NMZXZlbDogbmV3Um9sZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJNZW1iZXIgcm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1lbWJlciByb2xlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwZGF0ZSBtZW1iZXIgcm9sZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VCeUludml0ZUNvZGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgaW52aXRlQ29kZTogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gICAgLy8gRmluZCB3b3Jrc3BhY2UgYnkgSUQgYW5kIGludml0ZSBjb2RlXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgaW52aXRlQ29kZTogaW52aXRlQ29kZSxcclxuICAgICAgfSxcclxuICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgbmFtZTogdHJ1ZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogdHJ1ZSxcclxuICAgICAgICBtZW1iZXJzOiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgdXNlcklkOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF3b3Jrc3BhY2UpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJJbnZhbGlkIG9yIGV4cGlyZWQgaW52aXRlIGxpbmsuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhbHJlYWR5IGEgbWVtYmVyXHJcbiAgICBjb25zdCBhbHJlYWR5TWVtYmVyID0gd29ya3NwYWNlLm1lbWJlcnMuc29tZShtZW1iZXIgPT4gbWVtYmVyLnVzZXJJZCA9PT0gdXNlci5pZCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHdvcmtzcGFjZToge1xyXG4gICAgICAgICAgaWQ6IHdvcmtzcGFjZS5pZCxcclxuICAgICAgICAgIG5hbWU6IHdvcmtzcGFjZS5uYW1lLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHdvcmtzcGFjZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIG1lbWJlckNvdW50OiB3b3Jrc3BhY2UubWVtYmVycy5sZW5ndGgsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbHJlYWR5TWVtYmVyLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIGJ5IGludml0ZSBjb2RlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBpbmZvcm1hdGlvbicsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBqb2luV29ya3NwYWNlV2l0aEludml0ZSA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBpbnZpdGVDb2RlOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgd29ya3NwYWNlIGFuZCBpbnZpdGUgY29kZVxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIGludml0ZUNvZGU6IGludml0ZUNvZGUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBcIkludmFsaWQgb3IgZXhwaXJlZCBpbnZpdGUgbGluay5cIixcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgIGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdNZW1iZXIpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJZb3UgYXJlIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHVzZXIgYXMgYSBtZW1iZXJcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICBhY2Nlc3NMZXZlbDogQWNjZXNzTGV2ZWwuTUVNQkVSLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgam9pbmVkIHRoZSB3b3Jrc3BhY2UhXCIsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBqb2luaW5nIHdvcmtzcGFjZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBqb2luIHdvcmtzcGFjZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoidVNBK1hhIn0=
}),
"[project]/app/actions/data:2faccd [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7fa2d201f6144fefb475876aa45e22ce9f5e82f316":"removeWorkspaceMember"},"app/actions/workspace.ts",""] */ __turbopack_context__.s([
    "removeWorkspaceMember",
    ()=>removeWorkspaceMember
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var removeWorkspaceMember = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("7fa2d201f6144fefb475876aa45e22ce9f5e82f316", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "removeWorkspaceMember"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vd29ya3NwYWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiXHJcblxyXG5pbXBvcnQgeyBjb25zIH0gZnJvbSAnLi8uLi8uLi9ub2RlX21vZHVsZXMvZWZmZWN0L3NyYy9MaXN0JztcclxuXHJcblxyXG5pbXBvcnQgeyBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL2NyZWF0ZS13b3Jrc3BhY2UtZm9ybVwiXHJcbmltcG9ydCB7IHVzZXJSZXF1aXJlZCB9IGZyb20gXCIuLi9kYXRhL3VzZXIvaXMtdXNlci1hdXRoZW50aWNhdGVkXCJcclxuaW1wb3J0IHsgd29ya3NwYWNlU2NoZW1hIH0gZnJvbSBcIkAvbGliL3NjaGVtYVwiXHJcbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCJcclxuaW1wb3J0IHsgZ2VuZXJhdGVJbnZpdGVDb2RlIH0gZnJvbSBcIkAvdXRpbHMvZ2V0LWludml0ZS1jb2RlXCJcclxuaW1wb3J0IHsgQWNjZXNzTGV2ZWwgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsgXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld1dvcmtzcGFjZSA9IGFzeW5jKGRhdGEgOiBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSkgPT4ge1xyXG4gICAgdHJ5e1xyXG4gICAgY29uc3Qge3VzZXJ9ID0gYXdhaXQgdXNlclJlcXVpcmVkKClcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gd29ya3NwYWNlU2NoZW1hLnBhcnNlKGRhdGEpXHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZGIud29ya3NwYWNlLmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiB2YWxpZGF0ZWREYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBvd25lcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICAgICAgICAgIG1lbWJlcnMgOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NMZXZlbCA6IFwiT1dORVJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7ZGF0YTpyZXN9O1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIHdvcmtzcGFjZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVdvcmtzcGFjZSA9IGFzeW5jIChcclxuICB3b3Jrc3BhY2VJZDogc3RyaW5nLFxyXG4gIGRhdGE6Q3JlYXRlV29ya3NwYWNlRGF0YVR5cGVcclxuKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHdvcmtzcGFjZVNjaGVtYS5wYXJzZShkYXRhKTtcclxuXHJcbiAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBpZiAoIWlzVXNlckFNZW1iZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS51cGRhdGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHZhbGlkYXRlZERhdGEuZGVzY3JpcHRpb24gfHwgXCJcIixcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgcmVzZXRXb3Jrc3BhY2VJbnZpdGVDb2RlID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICBjb25zdCBpc1VzZXJBTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgd2hlcmU6IHtcclxuICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgZGIud29ya3NwYWNlLnVwZGF0ZSh7XHJcbiAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgIGRhdGE6IHtcclxuICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVXb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICB3aGVyZToge1xyXG4gICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNVc2VyQU1lbWJlciAmJiBpc1VzZXJBTWVtYmVyLmFjY2Vzc0xldmVsICE9PSBBY2Nlc3NMZXZlbC5PV05FUilcclxuICB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IGFuIG93bmVyIGNhbiBkZWxldGUgdGhlIHdvcmtzcGFjZVwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS5kZWxldGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgIFxyXG4gIH0pO1xyXG5cclxuICByZWRpcmVjdChcIi93b3Jrc3BhY2VcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0V29ya3NwYWNlU3RhdHMgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGFzayBzdGF0c1xyXG4gICAgY29uc3QgdGFza1N0YXRzID0gYXdhaXQgZGIudGFzay5ncm91cEJ5KHtcclxuICAgICAgYnk6IFsnc3RhdHVzJ10sXHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIF9jb3VudDoge1xyXG4gICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IHRvdGFsIHRhc2tzXHJcbiAgICBjb25zdCB0b3RhbFRhc2tzID0gYXdhaXQgZGIudGFzay5jb3VudCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHZXQgdG90YWwgbWVtYmVyc1xyXG4gICAgY29uc3QgdG90YWxNZW1iZXJzID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmNvdW50KHtcclxuICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEdldCB0b3RhbCBwcm9qZWN0c1xyXG4gICAgY29uc3QgdG90YWxQcm9qZWN0cyA9IGF3YWl0IGRiLnByb2plY3QuY291bnQoe1xyXG4gICAgICB3aGVyZTogeyB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IG92ZXJkdWUgdGFza3NcclxuICAgIGNvbnN0IHRhc2tzT3ZlcmR1ZSA9IGF3YWl0IGRiLnRhc2suY291bnQoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGR1ZURhdGU6IHtcclxuICAgICAgICAgIGx0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgICBub3RJbjogWydDT01QTEVURUQnXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUHJvY2VzcyB0YXNrIHN0YXRzXHJcbiAgICBjb25zdCBzdGF0c01hcCA9IHRhc2tTdGF0cy5yZWR1Y2UoKGFjYywgc3RhdCkgPT4ge1xyXG4gICAgICBhY2Nbc3RhdC5zdGF0dXNdID0gc3RhdC5fY291bnQuaWQ7XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcclxuXHJcbiAgICBjb25zdCBzdGF0cyA9IHtcclxuICAgICAgdG90YWxUYXNrcyxcclxuICAgICAgY29tcGxldGVkVGFza3M6IHN0YXRzTWFwWydDT01QTEVURUQnXSB8fCAwLFxyXG4gICAgICBpblByb2dyZXNzVGFza3M6IHN0YXRzTWFwWydJTl9QUk9HUkVTUyddIHx8IDAsXHJcbiAgICAgIHRvZG9UYXNrczogc3RhdHNNYXBbJ1RPRE8nXSB8fCAwLFxyXG4gICAgICBiYWNrbG9nVGFza3M6IHN0YXRzTWFwWydCQUNLTE9HJ10gfHwgMCxcclxuICAgICAgdG90YWxNZW1iZXJzLFxyXG4gICAgICB0b3RhbFByb2plY3RzLFxyXG4gICAgICB0YXNrc092ZXJkdWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHN0YXRzLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIHN0YXRzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBzdGF0cycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZWNlbnRUYXNrcyA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlbnRUYXNrcyA9IGF3YWl0IGRiLnRhc2suZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiB7IHVwZGF0ZWRBdDogJ2Rlc2MnIH0sXHJcbiAgICAgIHRha2U6IGxpbWl0LFxyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiByZWNlbnRUYXNrcyxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlY2VudCB0YXNrczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCByZWNlbnQgdGFza3MnLFxyXG4gICAgICBkYXRhOiBbXSxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFdvcmtzcGFjZUluZm8gPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgICBzZWxlY3Q6IHtcclxuICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgICAgIG93bmVySWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2Ugbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB3b3Jrc3BhY2UsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgaW5mbzonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgaW5mbycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VNZW1iZXJzID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGEgbWVtYmVyIG9mIHRoZSB3b3Jrc3BhY2VcclxuICAgIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgW21lbWJlcnMsIHdvcmtzcGFjZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGRiLndvcmtzcGFjZU1lbWJlci5maW5kTWFueSh7XHJcbiAgICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdDoge1xyXG4gICAgICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW1hZ2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdhc2MnIH0sXHJcbiAgICAgIH0pLFxyXG4gICAgICBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICBpbnZpdGVDb2RlOiB0cnVlLFxyXG4gICAgICAgICAgb3duZXJJZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KSxcclxuICAgIF0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHsgbWVtYmVycywgd29ya3NwYWNlIH0sXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgbWVtYmVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgbWVtYmVycycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnZpdGVVc2VyVG9Xb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgZW1haWw6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgdXNlciBpcyBhIG1lbWJlciB3aXRoIGFwcHJvcHJpYXRlIHBlcm1pc3Npb25zXHJcbiAgICBjb25zdCBjdXJyZW50VXNlck1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50VXNlck1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25seSBvd25lcnMgYW5kIG1lbWJlcnMgY2FuIGludml0ZSAodmlld2VycyBjYW5ub3QpXHJcbiAgICBpZiAoY3VycmVudFVzZXJNZW1iZXIuYWNjZXNzTGV2ZWwgPT09IEFjY2Vzc0xldmVsLlZJRVdFUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGludml0ZSB1c2Vycy5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3aXRoIHRoaXMgZW1haWwgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBlbWFpbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xyXG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgICAgY29uc3QgZXhpc3RpbmdNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgICB1c2VySWQ6IGV4aXN0aW5nVXNlci5pZCxcclxuICAgICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChleGlzdGluZ01lbWJlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCB1c2VyIGFzIGEgbWVtYmVyXHJcbiAgICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHVzZXJJZDogZXhpc3RpbmdVc2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgYWNjZXNzTGV2ZWw6IEFjY2Vzc0xldmVsLk1FTUJFUixcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgYWRkZWQgdG8gd29ya3NwYWNlIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3QgcmV0dXJuIHN1Y2Nlc3MgZm9yIG5vbi1leGlzdGluZyB1c2Vyc1xyXG4gICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3UnZCBzZW5kIGFuIGVtYWlsIGludml0YXRpb25cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiSW52aXRhdGlvbiBzZW50ISBVc2VyIHdpbGwgYmUgYWRkZWQgd2hlbiB0aGV5IHNpZ24gdXAuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGludml0aW5nIHVzZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW52aXRlIHVzZXInLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlV29ya3NwYWNlTWVtYmVyID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcsIG1lbWJlcklkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIHJlbW92ZSBtZW1iZXJzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIG1lbWJlciB0byByZW1vdmVcclxuICAgIGNvbnN0IG1lbWJlclRvUmVtb3ZlID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghbWVtYmVyVG9SZW1vdmUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVtYmVyIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLndvcmtzcGFjZUlkICE9PSB3b3Jrc3BhY2VJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgcmVtb3ZlIHRoZSBvd25lclxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVtb3ZlIHRoZSB3b3Jrc3BhY2Ugb3duZXIuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgbWVtYmVyXHJcbiAgICBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZGVsZXRlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IG1lbWJlcklkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBcIk1lbWJlciByZW1vdmVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIG1lbWJlcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZW1vdmUgbWVtYmVyJyxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1lbWJlclJvbGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgbWVtYmVySWQ6IHN0cmluZywgbmV3Um9sZTogQWNjZXNzTGV2ZWwpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIGNoYW5nZSBtZW1iZXIgcm9sZXMuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgbWVtYmVyIHRvIHVwZGF0ZVxyXG4gICAgY29uc3QgbWVtYmVyVG9VcGRhdGUgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBtZW1iZXJJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFtZW1iZXJUb1VwZGF0ZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWVtYmVyVG9VcGRhdGUud29ya3NwYWNlSWQgIT09IHdvcmtzcGFjZUlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lbWJlciBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbm5vdCBjaGFuZ2UgdGhlIG93bmVyJ3Mgcm9sZVxyXG4gICAgaWYgKG1lbWJlclRvVXBkYXRlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2hhbmdlIHRoZSB3b3Jrc3BhY2Ugb3duZXIncyByb2xlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgbWFrZSBzb21lb25lIGFuIG93bmVyICh0aGVyZSBjYW4gb25seSBiZSBvbmUgb3duZXIpXHJcbiAgICBpZiAobmV3Um9sZSA9PT0gQWNjZXNzTGV2ZWwuT1dORVIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFzc2lnbiBvd25lciByb2xlIHRvIGFub3RoZXIgbWVtYmVyLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG1lbWJlcidzIHJvbGVcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgICAgZGF0YTogeyBhY2Nlc3NMZXZlbDogbmV3Um9sZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJNZW1iZXIgcm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1lbWJlciByb2xlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwZGF0ZSBtZW1iZXIgcm9sZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VCeUludml0ZUNvZGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgaW52aXRlQ29kZTogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gICAgLy8gRmluZCB3b3Jrc3BhY2UgYnkgSUQgYW5kIGludml0ZSBjb2RlXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgaW52aXRlQ29kZTogaW52aXRlQ29kZSxcclxuICAgICAgfSxcclxuICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgbmFtZTogdHJ1ZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogdHJ1ZSxcclxuICAgICAgICBtZW1iZXJzOiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgdXNlcklkOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF3b3Jrc3BhY2UpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJJbnZhbGlkIG9yIGV4cGlyZWQgaW52aXRlIGxpbmsuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhbHJlYWR5IGEgbWVtYmVyXHJcbiAgICBjb25zdCBhbHJlYWR5TWVtYmVyID0gd29ya3NwYWNlLm1lbWJlcnMuc29tZShtZW1iZXIgPT4gbWVtYmVyLnVzZXJJZCA9PT0gdXNlci5pZCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHdvcmtzcGFjZToge1xyXG4gICAgICAgICAgaWQ6IHdvcmtzcGFjZS5pZCxcclxuICAgICAgICAgIG5hbWU6IHdvcmtzcGFjZS5uYW1lLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHdvcmtzcGFjZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIG1lbWJlckNvdW50OiB3b3Jrc3BhY2UubWVtYmVycy5sZW5ndGgsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbHJlYWR5TWVtYmVyLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIGJ5IGludml0ZSBjb2RlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBpbmZvcm1hdGlvbicsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBqb2luV29ya3NwYWNlV2l0aEludml0ZSA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBpbnZpdGVDb2RlOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgd29ya3NwYWNlIGFuZCBpbnZpdGUgY29kZVxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIGludml0ZUNvZGU6IGludml0ZUNvZGUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBcIkludmFsaWQgb3IgZXhwaXJlZCBpbnZpdGUgbGluay5cIixcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgIGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdNZW1iZXIpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJZb3UgYXJlIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHVzZXIgYXMgYSBtZW1iZXJcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICBhY2Nlc3NMZXZlbDogQWNjZXNzTGV2ZWwuTUVNQkVSLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgam9pbmVkIHRoZSB3b3Jrc3BhY2UhXCIsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBqb2luaW5nIHdvcmtzcGFjZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBqb2luIHdvcmtzcGFjZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoidVNBd2NhIn0=
}),
"[project]/app/actions/data:c3c387 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7f9da0eaf236e6f96f9908a29c42c2a9051b8bdaa0":"updateMemberRole"},"app/actions/workspace.ts",""] */ __turbopack_context__.s([
    "updateMemberRole",
    ()=>updateMemberRole
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var updateMemberRole = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("7f9da0eaf236e6f96f9908a29c42c2a9051b8bdaa0", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateMemberRole"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vd29ya3NwYWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiXHJcblxyXG5pbXBvcnQgeyBjb25zIH0gZnJvbSAnLi8uLi8uLi9ub2RlX21vZHVsZXMvZWZmZWN0L3NyYy9MaXN0JztcclxuXHJcblxyXG5pbXBvcnQgeyBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvd29ya3NwYWNlL2NyZWF0ZS13b3Jrc3BhY2UtZm9ybVwiXHJcbmltcG9ydCB7IHVzZXJSZXF1aXJlZCB9IGZyb20gXCIuLi9kYXRhL3VzZXIvaXMtdXNlci1hdXRoZW50aWNhdGVkXCJcclxuaW1wb3J0IHsgd29ya3NwYWNlU2NoZW1hIH0gZnJvbSBcIkAvbGliL3NjaGVtYVwiXHJcbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCJcclxuaW1wb3J0IHsgZ2VuZXJhdGVJbnZpdGVDb2RlIH0gZnJvbSBcIkAvdXRpbHMvZ2V0LWludml0ZS1jb2RlXCJcclxuaW1wb3J0IHsgQWNjZXNzTGV2ZWwgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJzsgXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld1dvcmtzcGFjZSA9IGFzeW5jKGRhdGEgOiBDcmVhdGVXb3Jrc3BhY2VEYXRhVHlwZSkgPT4ge1xyXG4gICAgdHJ5e1xyXG4gICAgY29uc3Qge3VzZXJ9ID0gYXdhaXQgdXNlclJlcXVpcmVkKClcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gd29ya3NwYWNlU2NoZW1hLnBhcnNlKGRhdGEpXHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZGIud29ya3NwYWNlLmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiB2YWxpZGF0ZWREYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBvd25lcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICAgICAgICAgIG1lbWJlcnMgOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkIDogdXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NMZXZlbCA6IFwiT1dORVJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7ZGF0YTpyZXN9O1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIHdvcmtzcGFjZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVdvcmtzcGFjZSA9IGFzeW5jIChcclxuICB3b3Jrc3BhY2VJZDogc3RyaW5nLFxyXG4gIGRhdGE6Q3JlYXRlV29ya3NwYWNlRGF0YVR5cGVcclxuKSA9PiB7XHJcbiAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHdvcmtzcGFjZVNjaGVtYS5wYXJzZShkYXRhKTtcclxuXHJcbiAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBpZiAoIWlzVXNlckFNZW1iZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS51cGRhdGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIG5hbWU6IHZhbGlkYXRlZERhdGEubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHZhbGlkYXRlZERhdGEuZGVzY3JpcHRpb24gfHwgXCJcIixcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgY29uc3QgcmVzZXRXb3Jrc3BhY2VJbnZpdGVDb2RlID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICBjb25zdCBpc1VzZXJBTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgd2hlcmU6IHtcclxuICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSBub3QgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgZGIud29ya3NwYWNlLnVwZGF0ZSh7XHJcbiAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgIGRhdGE6IHtcclxuICAgICAgaW52aXRlQ29kZTogZ2VuZXJhdGVJbnZpdGVDb2RlKCksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVXb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICB3aGVyZToge1xyXG4gICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNVc2VyQU1lbWJlciAmJiBpc1VzZXJBTWVtYmVyLmFjY2Vzc0xldmVsICE9PSBBY2Nlc3NMZXZlbC5PV05FUilcclxuICB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IGFuIG93bmVyIGNhbiBkZWxldGUgdGhlIHdvcmtzcGFjZVwiKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGRiLndvcmtzcGFjZS5kZWxldGUoe1xyXG4gICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgIFxyXG4gIH0pO1xyXG5cclxuICByZWRpcmVjdChcIi93b3Jrc3BhY2VcIik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0V29ya3NwYWNlU3RhdHMgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGFzayBzdGF0c1xyXG4gICAgY29uc3QgdGFza1N0YXRzID0gYXdhaXQgZGIudGFzay5ncm91cEJ5KHtcclxuICAgICAgYnk6IFsnc3RhdHVzJ10sXHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIF9jb3VudDoge1xyXG4gICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IHRvdGFsIHRhc2tzXHJcbiAgICBjb25zdCB0b3RhbFRhc2tzID0gYXdhaXQgZGIudGFzay5jb3VudCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHZXQgdG90YWwgbWVtYmVyc1xyXG4gICAgY29uc3QgdG90YWxNZW1iZXJzID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmNvdW50KHtcclxuICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEdldCB0b3RhbCBwcm9qZWN0c1xyXG4gICAgY29uc3QgdG90YWxQcm9qZWN0cyA9IGF3YWl0IGRiLnByb2plY3QuY291bnQoe1xyXG4gICAgICB3aGVyZTogeyB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IG92ZXJkdWUgdGFza3NcclxuICAgIGNvbnN0IHRhc2tzT3ZlcmR1ZSA9IGF3YWl0IGRiLnRhc2suY291bnQoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGR1ZURhdGU6IHtcclxuICAgICAgICAgIGx0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgICBub3RJbjogWydDT01QTEVURUQnXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUHJvY2VzcyB0YXNrIHN0YXRzXHJcbiAgICBjb25zdCBzdGF0c01hcCA9IHRhc2tTdGF0cy5yZWR1Y2UoKGFjYywgc3RhdCkgPT4ge1xyXG4gICAgICBhY2Nbc3RhdC5zdGF0dXNdID0gc3RhdC5fY291bnQuaWQ7XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcclxuXHJcbiAgICBjb25zdCBzdGF0cyA9IHtcclxuICAgICAgdG90YWxUYXNrcyxcclxuICAgICAgY29tcGxldGVkVGFza3M6IHN0YXRzTWFwWydDT01QTEVURUQnXSB8fCAwLFxyXG4gICAgICBpblByb2dyZXNzVGFza3M6IHN0YXRzTWFwWydJTl9QUk9HUkVTUyddIHx8IDAsXHJcbiAgICAgIHRvZG9UYXNrczogc3RhdHNNYXBbJ1RPRE8nXSB8fCAwLFxyXG4gICAgICBiYWNrbG9nVGFza3M6IHN0YXRzTWFwWydCQUNLTE9HJ10gfHwgMCxcclxuICAgICAgdG90YWxNZW1iZXJzLFxyXG4gICAgICB0b3RhbFByb2plY3RzLFxyXG4gICAgICB0YXNrc092ZXJkdWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHN0YXRzLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIHN0YXRzOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBzdGF0cycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZWNlbnRUYXNrcyA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlbnRUYXNrcyA9IGF3YWl0IGRiLnRhc2suZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHByb2plY3Q6IHtcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiB7IHVwZGF0ZWRBdDogJ2Rlc2MnIH0sXHJcbiAgICAgIHRha2U6IGxpbWl0LFxyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgcHJvamVjdDoge1xyXG4gICAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiByZWNlbnRUYXNrcyxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlY2VudCB0YXNrczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCByZWNlbnQgdGFza3MnLFxyXG4gICAgICBkYXRhOiBbXSxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFdvcmtzcGFjZUluZm8gPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHdvcmtzcGFjZVxyXG4gICAgY29uc3QgaXNVc2VyQU1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc1VzZXJBTWVtYmVyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgbm90IGEgbWVtYmVyIG9mIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiB3b3Jrc3BhY2VJZCB9LFxyXG4gICAgICBzZWxlY3Q6IHtcclxuICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICBuYW1lOiB0cnVlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgICAgIG93bmVySWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2Ugbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB3b3Jrc3BhY2UsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgaW5mbzonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgaW5mbycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VNZW1iZXJzID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGEgbWVtYmVyIG9mIHRoZSB3b3Jrc3BhY2VcclxuICAgIGNvbnN0IGlzVXNlckFNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgdXNlcklkX3dvcmtzcGFjZUlkOiB7XHJcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICB3b3Jrc3BhY2VJZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghaXNVc2VyQU1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgW21lbWJlcnMsIHdvcmtzcGFjZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGRiLndvcmtzcGFjZU1lbWJlci5maW5kTWFueSh7XHJcbiAgICAgICAgd2hlcmU6IHsgd29ya3NwYWNlSWQgfSxcclxuICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIHNlbGVjdDoge1xyXG4gICAgICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgaW1hZ2U6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdhc2MnIH0sXHJcbiAgICAgIH0pLFxyXG4gICAgICBkYi53b3Jrc3BhY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHdvcmtzcGFjZUlkIH0sXHJcbiAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICBpZDogdHJ1ZSxcclxuICAgICAgICAgIG5hbWU6IHRydWUsXHJcbiAgICAgICAgICBpbnZpdGVDb2RlOiB0cnVlLFxyXG4gICAgICAgICAgb3duZXJJZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KSxcclxuICAgIF0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHsgbWVtYmVycywgd29ya3NwYWNlIH0sXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrc3BhY2UgbWVtYmVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCB3b3Jrc3BhY2UgbWVtYmVycycsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnZpdGVVc2VyVG9Xb3Jrc3BhY2UgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgZW1haWw6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHVzZXJSZXF1aXJlZCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgdXNlciBpcyBhIG1lbWJlciB3aXRoIGFwcHJvcHJpYXRlIHBlcm1pc3Npb25zXHJcbiAgICBjb25zdCBjdXJyZW50VXNlck1lbWJlciA9IGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWRfd29ya3NwYWNlSWQ6IHtcclxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50VXNlck1lbWJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25seSBvd25lcnMgYW5kIG1lbWJlcnMgY2FuIGludml0ZSAodmlld2VycyBjYW5ub3QpXHJcbiAgICBpZiAoY3VycmVudFVzZXJNZW1iZXIuYWNjZXNzTGV2ZWwgPT09IEFjY2Vzc0xldmVsLlZJRVdFUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGludml0ZSB1c2Vycy5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3aXRoIHRoaXMgZW1haWwgZXhpc3RzXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBlbWFpbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xyXG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgICAgY29uc3QgZXhpc3RpbmdNZW1iZXIgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgICB1c2VySWQ6IGV4aXN0aW5nVXNlci5pZCxcclxuICAgICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChleGlzdGluZ01lbWJlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIHdvcmtzcGFjZS5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCB1c2VyIGFzIGEgbWVtYmVyXHJcbiAgICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHVzZXJJZDogZXhpc3RpbmdVc2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgICAgYWNjZXNzTGV2ZWw6IEFjY2Vzc0xldmVsLk1FTUJFUixcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgYWRkZWQgdG8gd29ya3NwYWNlIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3QgcmV0dXJuIHN1Y2Nlc3MgZm9yIG5vbi1leGlzdGluZyB1c2Vyc1xyXG4gICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3UnZCBzZW5kIGFuIGVtYWlsIGludml0YXRpb25cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiSW52aXRhdGlvbiBzZW50ISBVc2VyIHdpbGwgYmUgYWRkZWQgd2hlbiB0aGV5IHNpZ24gdXAuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGludml0aW5nIHVzZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW52aXRlIHVzZXInLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlV29ya3NwYWNlTWVtYmVyID0gYXN5bmMgKHdvcmtzcGFjZUlkOiBzdHJpbmcsIG1lbWJlcklkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIHJlbW92ZSBtZW1iZXJzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIG1lbWJlciB0byByZW1vdmVcclxuICAgIGNvbnN0IG1lbWJlclRvUmVtb3ZlID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghbWVtYmVyVG9SZW1vdmUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVtYmVyIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLndvcmtzcGFjZUlkICE9PSB3b3Jrc3BhY2VJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgd29ya3NwYWNlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgcmVtb3ZlIHRoZSBvd25lclxyXG4gICAgaWYgKG1lbWJlclRvUmVtb3ZlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVtb3ZlIHRoZSB3b3Jrc3BhY2Ugb3duZXIuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0aGUgbWVtYmVyXHJcbiAgICBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZGVsZXRlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IG1lbWJlcklkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBcIk1lbWJlciByZW1vdmVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIG1lbWJlcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZW1vdmUgbWVtYmVyJyxcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU1lbWJlclJvbGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgbWVtYmVySWQ6IHN0cmluZywgbmV3Um9sZTogQWNjZXNzTGV2ZWwpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgdGhlIHdvcmtzcGFjZSBvd25lclxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogd29ya3NwYWNlSWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG93bmVySWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghd29ya3NwYWNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3b3Jrc3BhY2Uub3duZXJJZCAhPT0gdXNlci5pZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHRoZSB3b3Jrc3BhY2Ugb3duZXIgY2FuIGNoYW5nZSBtZW1iZXIgcm9sZXMuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgbWVtYmVyIHRvIHVwZGF0ZVxyXG4gICAgY29uc3QgbWVtYmVyVG9VcGRhdGUgPSBhd2FpdCBkYi53b3Jrc3BhY2VNZW1iZXIuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBtZW1iZXJJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFtZW1iZXJUb1VwZGF0ZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXIgbm90IGZvdW5kLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWVtYmVyVG9VcGRhdGUud29ya3NwYWNlSWQgIT09IHdvcmtzcGFjZUlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lbWJlciBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyB3b3Jrc3BhY2UuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbm5vdCBjaGFuZ2UgdGhlIG93bmVyJ3Mgcm9sZVxyXG4gICAgaWYgKG1lbWJlclRvVXBkYXRlLmFjY2Vzc0xldmVsID09PSBBY2Nlc3NMZXZlbC5PV05FUikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2hhbmdlIHRoZSB3b3Jrc3BhY2Ugb3duZXIncyByb2xlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYW5ub3QgbWFrZSBzb21lb25lIGFuIG93bmVyICh0aGVyZSBjYW4gb25seSBiZSBvbmUgb3duZXIpXHJcbiAgICBpZiAobmV3Um9sZSA9PT0gQWNjZXNzTGV2ZWwuT1dORVIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFzc2lnbiBvd25lciByb2xlIHRvIGFub3RoZXIgbWVtYmVyLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIG1lbWJlcidzIHJvbGVcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci51cGRhdGUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogbWVtYmVySWQgfSxcclxuICAgICAgZGF0YTogeyBhY2Nlc3NMZXZlbDogbmV3Um9sZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJNZW1iZXIgcm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1lbWJlciByb2xlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwZGF0ZSBtZW1iZXIgcm9sZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXb3Jrc3BhY2VCeUludml0ZUNvZGUgPSBhc3luYyAod29ya3NwYWNlSWQ6IHN0cmluZywgaW52aXRlQ29kZTogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgdXNlclJlcXVpcmVkKCk7XHJcblxyXG4gICAgLy8gRmluZCB3b3Jrc3BhY2UgYnkgSUQgYW5kIGludml0ZSBjb2RlXHJcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBhd2FpdCBkYi53b3Jrc3BhY2UuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDogd29ya3NwYWNlSWQsXHJcbiAgICAgICAgaW52aXRlQ29kZTogaW52aXRlQ29kZSxcclxuICAgICAgfSxcclxuICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgbmFtZTogdHJ1ZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogdHJ1ZSxcclxuICAgICAgICBtZW1iZXJzOiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgdXNlcklkOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF3b3Jrc3BhY2UpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJJbnZhbGlkIG9yIGV4cGlyZWQgaW52aXRlIGxpbmsuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhbHJlYWR5IGEgbWVtYmVyXHJcbiAgICBjb25zdCBhbHJlYWR5TWVtYmVyID0gd29ya3NwYWNlLm1lbWJlcnMuc29tZShtZW1iZXIgPT4gbWVtYmVyLnVzZXJJZCA9PT0gdXNlci5pZCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHdvcmtzcGFjZToge1xyXG4gICAgICAgICAgaWQ6IHdvcmtzcGFjZS5pZCxcclxuICAgICAgICAgIG5hbWU6IHdvcmtzcGFjZS5uYW1lLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHdvcmtzcGFjZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIG1lbWJlckNvdW50OiB3b3Jrc3BhY2UubWVtYmVycy5sZW5ndGgsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbHJlYWR5TWVtYmVyLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya3NwYWNlIGJ5IGludml0ZSBjb2RlOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHdvcmtzcGFjZSBpbmZvcm1hdGlvbicsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBqb2luV29ya3NwYWNlV2l0aEludml0ZSA9IGFzeW5jICh3b3Jrc3BhY2VJZDogc3RyaW5nLCBpbnZpdGVDb2RlOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyIH0gPSBhd2FpdCB1c2VyUmVxdWlyZWQoKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgd29ya3NwYWNlIGFuZCBpbnZpdGUgY29kZVxyXG4gICAgY29uc3Qgd29ya3NwYWNlID0gYXdhaXQgZGIud29ya3NwYWNlLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIGludml0ZUNvZGU6IGludml0ZUNvZGUsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXdvcmtzcGFjZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBcIkludmFsaWQgb3IgZXhwaXJlZCBpbnZpdGUgbGluay5cIixcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXJcclxuICAgIGNvbnN0IGV4aXN0aW5nTWVtYmVyID0gYXdhaXQgZGIud29ya3NwYWNlTWVtYmVyLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIHVzZXJJZF93b3Jrc3BhY2VJZDoge1xyXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdNZW1iZXIpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogXCJZb3UgYXJlIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyB3b3Jrc3BhY2UuXCIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHVzZXIgYXMgYSBtZW1iZXJcclxuICAgIGF3YWl0IGRiLndvcmtzcGFjZU1lbWJlci5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2VJZCxcclxuICAgICAgICBhY2Nlc3NMZXZlbDogQWNjZXNzTGV2ZWwuTUVNQkVSLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgam9pbmVkIHRoZSB3b3Jrc3BhY2UhXCIsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBqb2luaW5nIHdvcmtzcGFjZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBqb2luIHdvcmtzcGFjZScsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoia1NBOGZhIn0=
}),
"[project]/hooks/use-delete.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useConfirmation",
    ()=>useConfirmation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
const useConfirmation = ()=>{
    const [isOpen, setIsOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [confirmationOptions, setConfirmationOptions] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const confirm = (options)=>{
        setConfirmationOptions(options);
        setIsOpen(true);
    };
    const handleConfirm = ()=>{
        confirmationOptions?.onConfirm();
        setIsOpen(false);
    };
    const handleCancel = ()=>{
        setIsOpen(false);
    };
    return {
        isOpen,
        confirm,
        handleConfirm,
        handleCancel,
        confirmationOptions
    };
};
}),
"[project]/components/confirmation-dialog.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ConfirmationDialog",
    ()=>ConfirmationDialog
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/dialog.tsx [app-ssr] (ecmascript)");
;
;
;
const ConfirmationDialog = ({ isOpen, onCancel, onConfirm, title = "Delete Confirmation", message })=>{
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Dialog"], {
        open: isOpen,
        onOpenChange: onCancel,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogContent"], {
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogHeader"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogTitle"], {
                            children: title
                        }, void 0, false, {
                            fileName: "[project]/components/confirmation-dialog.tsx",
                            lineNumber: 24,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogDescription"], {
                            children: message
                        }, void 0, false, {
                            fileName: "[project]/components/confirmation-dialog.tsx",
                            lineNumber: 25,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/components/confirmation-dialog.tsx",
                    lineNumber: 23,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogFooter"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                            variant: "outline",
                            onClick: onCancel,
                            children: "Cancel"
                        }, void 0, false, {
                            fileName: "[project]/components/confirmation-dialog.tsx",
                            lineNumber: 29,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                            variant: "destructive",
                            onClick: onConfirm,
                            children: "Confirm"
                        }, void 0, false, {
                            fileName: "[project]/components/confirmation-dialog.tsx",
                            lineNumber: 33,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/components/confirmation-dialog.tsx",
                    lineNumber: 28,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/components/confirmation-dialog.tsx",
            lineNumber: 22,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/components/confirmation-dialog.tsx",
        lineNumber: 21,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
}),
"[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$use$2d$workspace$2d$id$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/hooks/use-workspace-id.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/card.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$badge$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/badge.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/avatar.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$users$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Users$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/users.js [app-ssr] (ecmascript) <export default as Users>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$plus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__UserPlus$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/user-plus.js [app-ssr] (ecmascript) <export default as UserPlus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mail$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Mail$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/mail.js [app-ssr] (ecmascript) <export default as Mail>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$copy$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Copy$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/copy.js [app-ssr] (ecmascript) <export default as Copy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2d$2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Trash2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trash-2.js [app-ssr] (ecmascript) <export default as Trash2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$crown$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Crown$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/crown.js [app-ssr] (ecmascript) <export default as Crown>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$eye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Eye$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/eye.js [app-ssr] (ecmascript) <export default as Eye>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Shield$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/shield.js [app-ssr] (ecmascript) <export default as Shield>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$ellipsis$2d$vertical$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MoreVertical$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js [app-ssr] (ecmascript) <export default as MoreVertical>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Link$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/link.js [app-ssr] (ecmascript) <export default as Link>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-ssr] (ecmascript) <export default as Loader2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$framer$2d$motion$2f$dist$2f$es$2f$render$2f$components$2f$motion$2f$proxy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$auth$2d$nextjs$2f$dist$2f$index$2e$es$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/index.es.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$auth$2d$nextjs$2f$dist$2f$src$2f$frontend$2f$KindeBrowserClient$2e$es$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@kinde-oss/kinde-auth-nextjs/dist/src/frontend/KindeBrowserClient.es.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$077db7__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/app/actions/data:077db7 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$86c0b5__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/app/actions/data:86c0b5 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$2faccd__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/app/actions/data:2faccd [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$c3c387__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/app/actions/data:c3c387 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/dropdown-menu.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/ui/dialog.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$use$2d$delete$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/hooks/use-delete.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$components$2f$confirmation$2d$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/components/confirmation-dialog.tsx [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function MembersPage() {
    const workspaceId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$use$2d$workspace$2d$id$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useWorkspaceId"])();
    const { user } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$kinde$2d$oss$2f$kinde$2d$auth$2d$nextjs$2f$dist$2f$src$2f$frontend$2f$KindeBrowserClient$2e$es$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useKindeBrowserClient"])();
    const [members, setMembers] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [workspaceInfo, setWorkspaceInfo] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [inviteEmail, setInviteEmail] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("");
    const [isInviting, setIsInviting] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isDialogOpen, setIsDialogOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const { isOpen, confirm, handleConfirm, handleCancel, confirmationOptions } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$hooks$2f$use$2d$delete$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useConfirmation"])();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const fetchMembers = async ()=>{
            if (!workspaceId || !user) return;
            try {
                setLoading(true);
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$077db7__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getWorkspaceMembers"])(workspaceId);
                if (result.success && result.data) {
                    setMembers(result.data.members);
                    setWorkspaceInfo(result.data.workspace);
                }
            } catch (error) {
                console.error('Error fetching members:', error);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error('Failed to load team members');
            } finally{
                setLoading(false);
            }
        };
        fetchMembers();
    }, [
        workspaceId,
        user
    ]);
    const handleInvite = async ()=>{
        if (!inviteEmail.trim()) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error('Please enter an email address');
            return;
        }
        try {
            setIsInviting(true);
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$86c0b5__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["inviteUserToWorkspace"])(workspaceId, inviteEmail);
            if (result.success) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].success('Invitation sent successfully!');
                setInviteEmail("");
                setIsDialogOpen(false);
                // Refresh members list
                const updatedResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$077db7__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getWorkspaceMembers"])(workspaceId);
                if (updatedResult.success && updatedResult.data) {
                    setMembers(updatedResult.data.members);
                }
            } else {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error(result.error || 'Failed to send invitation');
            }
        } catch (error) {
            console.error('Error inviting user:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error('Failed to send invitation');
        } finally{
            setIsInviting(false);
        }
    };
    const handleRemoveMember = async (memberId, memberName)=>{
        confirm({
            title: "Remove Team Member",
            message: `Are you sure you want to remove ${memberName} from this workspace?`,
            onConfirm: async ()=>{
                try {
                    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$2faccd__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["removeWorkspaceMember"])(workspaceId, memberId);
                    if (result.success) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].success('Member removed successfully');
                        setMembers(members.filter((m)=>m.id !== memberId));
                    } else {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error(result.error || 'Failed to remove member');
                    }
                } catch (error) {
                    console.error('Error removing member:', error);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error('Failed to remove member');
                }
            }
        });
    };
    const handleRoleChange = async (memberId, newRole)=>{
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$actions$2f$data$3a$c3c387__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["updateMemberRole"])(workspaceId, memberId, newRole);
            if (result.success) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].success('Role updated successfully');
                setMembers(members.map((m)=>m.id === memberId ? {
                        ...m,
                        accessLevel: newRole
                    } : m));
            } else {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error(result.error || 'Failed to update role');
            }
        } catch (error) {
            console.error('Error updating role:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].error('Failed to update role');
        }
    };
    const copyInviteLink = ()=>{
        if (workspaceInfo) {
            const inviteLink = `${window.location.origin}/workspace-invite/${workspaceInfo.id}/join/${workspaceInfo.inviteCode}`;
            navigator.clipboard.writeText(inviteLink);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toast"].success('Invite link copied to clipboard');
        }
    };
    const getRoleIcon = (role)=>{
        switch(role){
            case 'OWNER':
                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$crown$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Crown$3e$__["Crown"], {
                    className: "h-4 w-4 text-yellow-600"
                }, void 0, false, {
                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                    lineNumber: 179,
                    columnNumber: 16
                }, this);
            case 'MEMBER':
                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Shield$3e$__["Shield"], {
                    className: "h-4 w-4 text-blue-600"
                }, void 0, false, {
                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                    lineNumber: 181,
                    columnNumber: 16
                }, this);
            case 'VIEWER':
                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$eye$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Eye$3e$__["Eye"], {
                    className: "h-4 w-4 text-gray-600"
                }, void 0, false, {
                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                    lineNumber: 183,
                    columnNumber: 16
                }, this);
            default:
                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Shield$3e$__["Shield"], {
                    className: "h-4 w-4 text-blue-600"
                }, void 0, false, {
                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                    lineNumber: 185,
                    columnNumber: 16
                }, this);
        }
    };
    const getRoleColor = (role)=>{
        switch(role){
            case 'OWNER':
                return 'bg-yellow-100 text-yellow-800';
            case 'MEMBER':
                return 'bg-blue-100 text-blue-800';
            case 'VIEWER':
                return 'bg-gray-100 text-gray-800';
            default:
                return 'bg-blue-100 text-blue-800';
        }
    };
    const isCurrentUserOwner = workspaceInfo?.ownerId === user?.id;
    const currentUserMember = members.find((m)=>m.userId === user?.id);
    if (loading) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex items-center justify-center h-64",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex flex-col items-center gap-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                        className: "h-8 w-8 animate-spin"
                    }, void 0, false, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 209,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-sm text-muted-foreground",
                        children: "Loading team members..."
                    }, void 0, false, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 210,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                lineNumber: 208,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
            lineNumber: 207,
            columnNumber: 7
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "p-6 space-y-6",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                                className: "text-3xl font-bold flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$users$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Users$3e$__["Users"], {
                                        className: "h-8 w-8"
                                    }, void 0, false, {
                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                        lineNumber: 222,
                                        columnNumber: 13
                                    }, this),
                                    "Team Members"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 221,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-muted-foreground mt-1",
                                children: "Manage who has access to your workspace"
                            }, void 0, false, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 225,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 220,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Dialog"], {
                        open: isDialogOpen,
                        onOpenChange: setIsDialogOpen,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogTrigger"], {
                                asChild: true,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$plus$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__UserPlus$3e$__["UserPlus"], {
                                            className: "mr-2 h-4 w-4"
                                        }, void 0, false, {
                                            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                            lineNumber: 233,
                                            columnNumber: 15
                                        }, this),
                                        "Invite Member"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                    lineNumber: 232,
                                    columnNumber: 13
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 231,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogContent"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogHeader"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogTitle"], {
                                                children: "Invite Team Member"
                                            }, void 0, false, {
                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                lineNumber: 239,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DialogDescription"], {
                                                children: "Send an invitation to join this workspace"
                                            }, void 0, false, {
                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                lineNumber: 240,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                        lineNumber: 238,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-4 py-4",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "space-y-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                        className: "text-sm font-medium",
                                                        children: "Email Address"
                                                    }, void 0, false, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 246,
                                                        columnNumber: 17
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                        placeholder: "Enter email address",
                                                        value: inviteEmail,
                                                        onChange: (e)=>setInviteEmail(e.target.value),
                                                        type: "email"
                                                    }, void 0, false, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 247,
                                                        columnNumber: 17
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                lineNumber: 245,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex justify-end gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                                        variant: "outline",
                                                        onClick: ()=>setIsDialogOpen(false),
                                                        disabled: isInviting,
                                                        children: "Cancel"
                                                    }, void 0, false, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 255,
                                                        columnNumber: 17
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                                        onClick: handleInvite,
                                                        disabled: isInviting,
                                                        children: isInviting ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                                    className: "mr-2 h-4 w-4 animate-spin"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                    lineNumber: 265,
                                                                    columnNumber: 23
                                                                }, this),
                                                                "Sending..."
                                                            ]
                                                        }, void 0, true) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mail$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Mail$3e$__["Mail"], {
                                                                    className: "mr-2 h-4 w-4"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                    lineNumber: 270,
                                                                    columnNumber: 23
                                                                }, this),
                                                                "Send Invite"
                                                            ]
                                                        }, void 0, true)
                                                    }, void 0, false, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 262,
                                                        columnNumber: 17
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                lineNumber: 254,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                        lineNumber: 244,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 237,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 230,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                lineNumber: 219,
                columnNumber: 7
            }, this),
            workspaceInfo && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Card"], {
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardHeader"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardTitle"], {
                                className: "flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Link$3e$__["Link"], {
                                        className: "h-5 w-5"
                                    }, void 0, false, {
                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                        lineNumber: 286,
                                        columnNumber: 15
                                    }, this),
                                    "Invite Link"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 285,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardDescription"], {
                                children: "Share this link to invite people to your workspace"
                            }, void 0, false, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 289,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 284,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardContent"], {
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                    value: `${window.location.origin}/workspace-invite/${workspaceInfo.id}/join/${workspaceInfo.inviteCode}`,
                                    readOnly: true,
                                    className: "flex-1"
                                }, void 0, false, {
                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                    lineNumber: 295,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                    variant: "outline",
                                    onClick: copyInviteLink,
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$copy$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Copy$3e$__["Copy"], {
                                        className: "h-4 w-4"
                                    }, void 0, false, {
                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                        lineNumber: 301,
                                        columnNumber: 17
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                    lineNumber: 300,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                            lineNumber: 294,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 293,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                lineNumber: 283,
                columnNumber: 9
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Card"], {
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardHeader"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardTitle"], {
                                children: [
                                    "Team Members (",
                                    members.length,
                                    ")"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 311,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardDescription"], {
                                children: "People who have access to this workspace"
                            }, void 0, false, {
                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                lineNumber: 312,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 310,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardContent"], {
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "space-y-3",
                            children: [
                                members.map((member, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$framer$2d$motion$2f$dist$2f$es$2f$render$2f$components$2f$motion$2f$proxy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["motion"].div, {
                                        initial: {
                                            opacity: 0,
                                            y: 10
                                        },
                                        animate: {
                                            opacity: 1,
                                            y: 0
                                        },
                                        transition: {
                                            delay: index * 0.1
                                        },
                                        className: "flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex items-center gap-3",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Avatar"], {
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AvatarImage"], {
                                                                src: member.user.image || ''
                                                            }, void 0, false, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 328,
                                                                columnNumber: 21
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AvatarFallback"], {
                                                                children: member.user.name.charAt(0).toUpperCase()
                                                            }, void 0, false, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 329,
                                                                columnNumber: 21
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 327,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex items-center gap-2",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                        className: "font-medium",
                                                                        children: member.user.name
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 335,
                                                                        columnNumber: 23
                                                                    }, this),
                                                                    member.userId === user?.id && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: "text-xs text-muted-foreground",
                                                                        children: "(You)"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 337,
                                                                        columnNumber: 25
                                                                    }, this)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 334,
                                                                columnNumber: 21
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                className: "text-sm text-muted-foreground",
                                                                children: member.user.email
                                                            }, void 0, false, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 340,
                                                                columnNumber: 21
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 333,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                lineNumber: 326,
                                                columnNumber: 17
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex items-center gap-3",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [
                                                            getRoleIcon(member.accessLevel),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$badge$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Badge"], {
                                                                variant: member.accessLevel,
                                                                className: getRoleColor(member.accessLevel),
                                                                children: member.accessLevel
                                                            }, void 0, false, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 347,
                                                                columnNumber: 21
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 345,
                                                        columnNumber: 19
                                                    }, this),
                                                    isCurrentUserOwner && member.userId !== user?.id && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenu"], {
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenuTrigger"], {
                                                                asChild: true,
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                                                    variant: "ghost",
                                                                    size: "sm",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$ellipsis$2d$vertical$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__MoreVertical$3e$__["MoreVertical"], {
                                                                        className: "h-4 w-4"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 357,
                                                                        columnNumber: 27
                                                                    }, this)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                    lineNumber: 356,
                                                                    columnNumber: 25
                                                                }, this)
                                                            }, void 0, false, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 355,
                                                                columnNumber: 23
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenuContent"], {
                                                                align: "end",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenuItem"], {
                                                                        onClick: ()=>handleRoleChange(member.id, 'MEMBER'),
                                                                        children: "Make Member"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 361,
                                                                        columnNumber: 25
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenuItem"], {
                                                                        onClick: ()=>handleRoleChange(member.id, 'VIEWER'),
                                                                        children: "Make Viewer"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 364,
                                                                        columnNumber: 25
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 367,
                                                                        columnNumber: 25
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DropdownMenuItem"], {
                                                                        onClick: ()=>handleRemoveMember(member.id, member.user.name),
                                                                        className: "text-red-600",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2d$2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Trash2$3e$__["Trash2"], {
                                                                                className: "mr-2 h-4 w-4"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                                lineNumber: 372,
                                                                                columnNumber: 27
                                                                            }, this),
                                                                            "Remove Member"
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                        lineNumber: 368,
                                                                        columnNumber: 25
                                                                    }, this)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                                lineNumber: 360,
                                                                columnNumber: 23
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                        lineNumber: 354,
                                                        columnNumber: 21
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                                lineNumber: 344,
                                                columnNumber: 17
                                            }, this)
                                        ]
                                    }, member.id, true, {
                                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                        lineNumber: 319,
                                        columnNumber: 15
                                    }, this)),
                                members.length === 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-center py-8",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$users$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Users$3e$__["Users"], {
                                            className: "h-12 w-12 text-muted-foreground mx-auto mb-3"
                                        }, void 0, false, {
                                            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                            lineNumber: 384,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-muted-foreground",
                                            children: "No team members yet"
                                        }, void 0, false, {
                                            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                            lineNumber: 385,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Invite people to start collaborating"
                                        }, void 0, false, {
                                            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                            lineNumber: 386,
                                            columnNumber: 17
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                                    lineNumber: 383,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                            lineNumber: 317,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                        lineNumber: 316,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                lineNumber: 309,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$components$2f$confirmation$2d$dialog$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ConfirmationDialog"], {
                isOpen: isOpen,
                onCancel: handleCancel,
                onConfirm: handleConfirm,
                title: confirmationOptions?.title || "",
                message: confirmationOptions?.message || ""
            }, void 0, false, {
                fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
                lineNumber: 393,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/app/(protected)/workspace/[workspaceId]/members/page.tsx",
        lineNumber: 217,
        columnNumber: 5
    }, this);
}
const __TURBOPACK__default__export__ = MembersPage;
}),
];

//# sourceMappingURL=_3c0953ce._.js.map