module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{ACTION_HMR_REFRESH:function(){return i},ACTION_NAVIGATE:function(){return e},ACTION_PREFETCH:function(){return h},ACTION_REFRESH:function(){return d},ACTION_RESTORE:function(){return f},ACTION_SERVER_ACTION:function(){return j},ACTION_SERVER_PATCH:function(){return g},PrefetchCacheEntryStatus:function(){return l},PrefetchKind:function(){return k}});let d="refresh",e="navigate",f="restore",g="server-patch",h="prefetch",i="hmr-refresh",j="server-action";var k=function(a){return a.AUTO="auto",a.FULL="full",a.TEMPORARY="temporary",a}({}),l=function(a){return a.fresh="fresh",a.reusable="reusable",a.expired="expired",a.stale="stale",a}({});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{dispatchAppRouterAction:function(){return g},useActionQueue:function(){return h}});let d=a.r(46058)._(a.r(72131)),e=a.r(67009),f=null;function g(a){if(null===f)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});f(a)}function h(a){let[b,c]=d.default.useState(a.state);return f=b=>a.dispatch(b,c),(0,e.isThenable)(b)?(0,d.use)(b):b}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});let d=void 0;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{callServer:function(){return d.callServer},createServerReference:function(){return f.createServerReference},findSourceMapURL:function(){return e.findSourceMapURL}});let d=a.r(20611),e=a.r(1722),f=a.r(38783)},50944,(a,b,c)=>{b.exports=a.r(74137)},65733,a=>{"use strict";a.s(["Dialog",()=>g,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(33508),f=a.i(97895);let g=d.Root,h=d.Trigger,i=d.Portal;d.Close;let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...g},h)=>(0,b.jsxs)(i,{children:[(0,b.jsx)(j,{}),(0,b.jsxs)(d.Content,{ref:h,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));o.displayName=d.Description.displayName},35637,a=>{"use strict";a.s(["WorkspaceSettingsForm",()=>w],35637);var b=a.i(87924),c=a.i(25567),d=a.i(59501),e=a.i(50944),f=a.i(72131),g=a.i(95245),h=a.i(3130),i=a.i(58213),j=a.i(5522),k=a.i(46893),l=a.i(40695),m=a.i(23292),n=a.i(5050),o=(0,n.createServerReference)("7fecf4f57a1d76619680690544ed941cea593c0dbb",n.callServer,void 0,n.findSourceMapURL,"deleteWorkspace"),p=(0,n.createServerReference)("7ff287ac54e684b6296204bb2b3c1a2dc99062282d",n.callServer,void 0,n.findSourceMapURL,"resetWorkspaceInviteCode"),q=(0,n.createServerReference)("7f977f833c2894be4e1a5b9624185d30b8d723a99f",n.callServer,void 0,n.findSourceMapURL,"updateWorkspace"),r=a.i(70106);let s=(0,r.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),t=(0,r.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var u=a.i(65733);let v=({isOpen:a,onCancel:c,onConfirm:d,title:e="Delete Confirmation",message:f})=>(0,b.jsx)(u.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(u.DialogContent,{children:[(0,b.jsxs)(u.DialogHeader,{children:[(0,b.jsx)(u.DialogTitle,{children:e}),(0,b.jsx)(u.DialogDescription,{children:f})]}),(0,b.jsxs)(u.DialogFooter,{children:[(0,b.jsx)(l.Button,{variant:"outline",onClick:c,children:"Cancel"}),(0,b.jsx)(l.Button,{variant:"destructive",onClick:d,children:"Confirm"})]})]})}),w=({data:a})=>{let n=(0,e.useRouter)(),[r,u]=f.default.useState(!1),[w,x]=f.default.useState(""),[y,z]=f.default.useState(!1),{isOpen:A,confirm:B,handleConfirm:C,handleCancel:D,confirmationOptions:E}=(()=>{let[a,b]=(0,f.useState)(!1),[c,d]=(0,f.useState)(null);return{isOpen:a,confirm:a=>{d(a),b(!0)},handleConfirm:()=>{c?.onConfirm(),b(!1)},handleCancel:()=>{b(!1)},confirmationOptions:c}})(),F=(0,g.useForm)({resolver:(0,d.zodResolver)(c.workspaceSchema),defaultValues:{name:a.name,description:a.description||""}}),G=`http://localhost:3000/workspace-invite/${a.id}/join/${a.inviteCode}`,H=async b=>{try{u(!0),await q(a.id,b),m.toast.success("Your workspace has been updated."),n.refresh()}catch(a){a instanceof Error&&"NEXT_REDIRECT"!==a.message&&m.toast.error(a.message||"Something went wrong.")}finally{u(!1)}},I=async()=>{try{u(!0),await p(a.id),n.refresh(),m.toast.success("Invite code reset successfully.")}catch(a){a instanceof Error&&"NEXT_REDIRECT"!==a.message&&m.toast.error(a.message||"Something went wrong.")}finally{u(!1)}};return(0,b.jsxs)("div",{className:"p-3 md:p-6 max-w-4xl w-full mx-auto space-y-6",children:[(0,b.jsxs)(h.Card,{className:"w-full border border-black",children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Workspace Settings"}),(0,b.jsx)(h.CardDescription,{children:"Manage your workspace settings here"})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsx)(i.Form,{...F,children:(0,b.jsxs)("form",{onSubmit:F.handleSubmit(H),className:"space-y-5",children:[(0,b.jsx)(i.FormField,{control:F.control,name:"name",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Workspace Name"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"Enter workspace name",...a})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:F.control,name:"description",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Description"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(k.Textarea,{...a,placeholder:"Workspace description",className:"resize-none"})})]})}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(l.Button,{type:"submit",disabled:r,className:"border border-black",children:"Save"})})]})})})]}),(0,b.jsxs)(h.Card,{className:"w-full border border-black",children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Invite Members"}),(0,b.jsx)(h.CardDescription,{children:"Invite people to join your workspace"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Input,{placeholder:"Enter email address",value:w,onChange:a=>x(a.target.value)}),(0,b.jsxs)(l.Button,{type:"button",onClick:()=>{z(!0)},disabled:r,className:"border border-black",children:[(0,b.jsx)(t,{className:"mr-2 h-4 w-4"}),"Invite"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Input,{value:G,readOnly:!0}),(0,b.jsxs)("div",{className:"flex items-center justify-end mt-4 gap-2",children:[(0,b.jsxs)(l.Button,{type:"button",variant:"outline",onClick:()=>{navigator.clipboard.writeText(G),m.toast.success("Invite link has been copied to clipboard")},className:"border border-black",children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Copy"]}),(0,b.jsxs)(l.Button,{type:"button",variant:"destructive",onClick:I,disabled:r,className:"border border-black",children:[(0,b.jsx)(t,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})]})]}),(0,b.jsxs)(h.Card,{className:"w-full border border-black",children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{className:"text-destructive",children:"Danger Zone"}),(0,b.jsx)(h.CardDescription,{children:"Delete your entire workspace"})]}),(0,b.jsx)(h.CardContent,{className:"space-y-6",children:(0,b.jsx)(l.Button,{type:"button",variant:"destructive",disabled:r,className:"border border-black",onClick:()=>{B({title:"Delete Workspace",message:"Are you sure you want to delete this workspace? This action cannot be undone.",onConfirm:async()=>{try{u(!0),await o(a.id)}catch(a){console.log(a),a instanceof Error&&"NEXT_REDIRECT"!==a.message&&m.toast.error(a instanceof Error?a.message:"Something went wrong. PLease try again")}finally{u(!1)}}})},children:"Delete Workspace"})})]}),(0,b.jsx)(v,{isOpen:A,onCancel:D,onConfirm:C,title:E?.title||"",message:E?.message||""})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ee68d3bb._.js.map